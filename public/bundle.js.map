{"version":3,"file":"bundle.js","sources":["../node_modules/svelte/internal/index.mjs","../node_modules/pusher-js/dist/web/pusher.js","../client/Login.svelte","../client/Controls.svelte","../client/Player.svelte","../client/Ball.svelte","../client/Goal.svelte","../client/Arena.svelte","../client/Score.svelte","../node_modules/svelte/easing/index.mjs","../node_modules/svelte/transition/index.mjs","../client/ReceivedMessages.svelte","../client/App.svelte","../client/main.js"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction validate_store(store, name) {\n    if (!store || typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, callback) {\n    const unsub = store.subscribe(callback);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, fn) {\n    return definition[1]\n        ? assign({}, assign(ctx.$$scope.ctx, definition[1](fn ? fn(ctx) : {})))\n        : ctx.$$scope.ctx;\n}\nfunction get_slot_changes(definition, ctx, changed, fn) {\n    return definition[1]\n        ? assign({}, assign(ctx.$$scope.changed || {}, definition[1](fn ? fn(changed) : {})))\n        : ctx.$$scope.changed || {};\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value = ret) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nlet running = false;\nfunction run_tasks() {\n    tasks.forEach(task => {\n        if (!task[0](now())) {\n            tasks.delete(task);\n            task[1]();\n        }\n    });\n    running = tasks.size > 0;\n    if (running)\n        raf(run_tasks);\n}\nfunction clear_loops() {\n    // for testing...\n    tasks.forEach(task => tasks.delete(task));\n    running = false;\n}\nfunction loop(fn) {\n    let task;\n    if (!running) {\n        running = true;\n        raf(run_tasks);\n    }\n    return {\n        promise: new Promise(fulfil => {\n            tasks.add(task = [fn, fulfil]);\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    // eslint-disable-next-line @typescript-eslint/no-object-literal-type-assertion\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group) {\n    const value = [];\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.push(group[i].__value);\n    }\n    return value;\n}\nfunction to_number(value) {\n    return value === '' ? undefined : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction claim_element(nodes, name, attributes, svg) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeName === name) {\n            for (let j = 0; j < node.attributes.length; j += 1) {\n                const attribute = node.attributes[j];\n                if (!attributes[attribute.name])\n                    node.removeAttribute(attribute.name);\n            }\n            return nodes.splice(i, 1)[0]; // TODO strip unwanted attributes\n        }\n    }\n    return svg ? svg_element(name) : element(name);\n}\nfunction claim_text(nodes, data) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 3) {\n            node.data = '' + data;\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return text(data);\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.data !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    if (value != null || input.value) {\n        input.value = value;\n    }\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\nfunction add_resize_listener(element, fn) {\n    if (getComputedStyle(element).position === 'static') {\n        element.style.position = 'relative';\n    }\n    const object = document.createElement('object');\n    object.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;');\n    object.type = 'text/html';\n    object.tabIndex = -1;\n    let win;\n    object.onload = () => {\n        win = object.contentDocument.defaultView;\n        win.addEventListener('resize', fn);\n    };\n    if (/Trident/.test(navigator.userAgent)) {\n        element.appendChild(object);\n        object.data = 'about:blank';\n    }\n    else {\n        object.data = 'about:blank';\n        element.appendChild(object);\n    }\n    return {\n        cancel: () => {\n            win && win.removeEventListener && win.removeEventListener('resize', fn);\n            element.removeChild(object);\n        }\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, false, false, detail);\n    return e;\n}\nclass HtmlTag {\n    constructor(html, anchor = null) {\n        this.e = element('div');\n        this.a = anchor;\n        this.u(html);\n    }\n    m(target, anchor = null) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(target, this.n[i], anchor);\n        }\n        this.t = target;\n    }\n    u(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    p(html) {\n        this.d();\n        this.u(html);\n        this.m(this.t, this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\n\nlet stylesheet;\nlet active = 0;\nlet current_rules = {};\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    if (!current_rules[name]) {\n        if (!stylesheet) {\n            const style = element('style');\n            document.head.appendChild(style);\n            stylesheet = style.sheet;\n        }\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ``}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    node.style.animation = (node.style.animation || '')\n        .split(', ')\n        .filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    )\n        .join(', ');\n    if (name && !--active)\n        clear_rules();\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        let i = stylesheet.cssRules.length;\n        while (i--)\n            stylesheet.deleteRule(i);\n        current_rules = {};\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error(`Function called outside component initialization`);\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        callbacks.slice().forEach(fn => fn(event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nfunction flush() {\n    const seen_callbacks = new Set();\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        while (dirty_components.length) {\n            const component = dirty_components.shift();\n            set_current_component(component);\n            update(component.$$);\n        }\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                callback();\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update($$.dirty);\n        run_all($$.before_update);\n        $$.fragment && $$.fragment.p($$.dirty, $$.ctx);\n        $$.dirty = null;\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = program.b - t;\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = key && { [key]: value };\n        const child_ctx = assign(assign({}, info.ctx), info.resolved);\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            info.blocks[i] = null;\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = { [info.value]: promise };\n    }\n}\n\nconst globals = (typeof window !== 'undefined' ? window : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, changed, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(changed, child_ctx);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction measure(blocks) {\n    const rects = {};\n    let i = blocks.length;\n    while (i--)\n        rects[blocks[i].key] = blocks[i].node.getBoundingClientRect();\n    return rects;\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, classes_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (classes_to_add) {\n        if (attributes.class == null) {\n            attributes.class = classes_to_add;\n        }\n        else {\n            attributes.class += ' ' + classes_to_add;\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += \" \" + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += \" \" + name;\n        }\n        else if (value != null) {\n            str += \" \" + name + \"=\" + JSON.stringify(String(value)\n                .replace(/\"/g, '&#34;')\n                .replace(/'/g, '&#39;'));\n        }\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(parent_component ? parent_component.$$.context : []),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, options = {}) => {\n            on_destroy = [];\n            const result = { head: '', css: new Set() };\n            const html = $$render(result, props, {}, options);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : ``;\n}\n\nfunction bind(component, name, callback) {\n    if (has_prop(component.$$.props, name)) {\n        name = component.$$.props[name] || name;\n        component.$$.bound[name] = callback;\n        callback(component.$$.ctx[name]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    // onMount happens before the initial afterUpdate\n    add_render_callback(() => {\n        const new_on_destroy = on_mount.map(run).filter(is_function);\n        if (on_destroy) {\n            on_destroy.push(...new_on_destroy);\n        }\n        else {\n            // Edge case - component was destroyed immediately,\n            // most likely as a result of a binding initialising\n            run_all(new_on_destroy);\n        }\n        component.$$.on_mount = [];\n    });\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = {};\n    }\n}\nfunction make_dirty(component, key) {\n    if (!component.$$.dirty) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty = blank_object();\n    }\n    component.$$.dirty[key] = true;\n}\nfunction init(component, options, instance, create_fragment, not_equal, props) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const prop_values = options.props || {};\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : []),\n        // everything else\n        callbacks: blank_object(),\n        dirty: null\n    };\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, prop_values, (key, ret, value = ret) => {\n            if ($$.ctx && not_equal($$.ctx[key], $$.ctx[key] = value)) {\n                if ($$.bound[key])\n                    $$.bound[key](value);\n                if (ready)\n                    make_dirty(component, key);\n            }\n            return ret;\n        })\n        : prop_values;\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(children(options.target));\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor);\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set() {\n            // overridden by instance, if it has props\n        }\n    };\n}\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set() {\n        // overridden by instance, if it has props\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, detail));\n}\nfunction append_dev(target, node) {\n    dispatch_dev(\"SvelteDOMInsert\", { target, node });\n    append(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev(\"SvelteDOMInsert\", { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev(\"SvelteDOMRemove\", { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? [\"capture\"] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev(\"SvelteDOMAddEventListener\", { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev(\"SvelteDOMRemoveEventListener\", { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev(\"SvelteDOMRemoveAttribute\", { node, attribute });\n    else\n        dispatch_dev(\"SvelteDOMSetAttribute\", { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev(\"SvelteDOMSetProperty\", { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev(\"SvelteDOMSetDataset\", { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.data === data)\n        return;\n    dispatch_dev(\"SvelteDOMSetData\", { node: text, data });\n    text.data = data;\n}\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(`'target' is a required option`);\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn(`Component was already destroyed`); // eslint-disable-line no-console\n        };\n    }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error(`Infinite loop detected`);\n        }\n    };\n}\n\nexport { HtmlTag, SvelteComponent, SvelteComponentDev, SvelteElement, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, append_dev, assign, attr, attr_dev, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_space, claim_text, clear_loops, component_subscribe, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, escape, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getContext, get_binding_group_value, get_current_component, get_slot_changes, get_slot_context, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, has_prop, identity, init, insert, insert_dev, intros, invalid_attribute_name_character, is_client, is_function, is_promise, listen, listen_dev, loop, loop_guard, measure, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, update_keyed_each, validate_component, validate_store, xlink_attr };\n","/*!\n * Pusher JavaScript Library v5.0.2\n * https://pusher.com/\n *\n * Copyright 2017, Pusher\n * Released under the MIT licence.\n */\n\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Pusher\"] = factory();\n\telse\n\t\troot[\"Pusher\"] = factory();\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 2);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n(function(nacl) {\n'use strict';\n\n// Ported in 2014 by Dmitry Chestnykh and Devi Mandiri.\n// Public domain.\n//\n// Implementation derived from TweetNaCl version 20140427.\n// See for details: http://tweetnacl.cr.yp.to/\n\nvar gf = function(init) {\n  var i, r = new Float64Array(16);\n  if (init) for (i = 0; i < init.length; i++) r[i] = init[i];\n  return r;\n};\n\n//  Pluggable, initialized in high-level API below.\nvar randombytes = function(/* x, n */) { throw new Error('no PRNG'); };\n\nvar _0 = new Uint8Array(16);\nvar _9 = new Uint8Array(32); _9[0] = 9;\n\nvar gf0 = gf(),\n    gf1 = gf([1]),\n    _121665 = gf([0xdb41, 1]),\n    D = gf([0x78a3, 0x1359, 0x4dca, 0x75eb, 0xd8ab, 0x4141, 0x0a4d, 0x0070, 0xe898, 0x7779, 0x4079, 0x8cc7, 0xfe73, 0x2b6f, 0x6cee, 0x5203]),\n    D2 = gf([0xf159, 0x26b2, 0x9b94, 0xebd6, 0xb156, 0x8283, 0x149a, 0x00e0, 0xd130, 0xeef3, 0x80f2, 0x198e, 0xfce7, 0x56df, 0xd9dc, 0x2406]),\n    X = gf([0xd51a, 0x8f25, 0x2d60, 0xc956, 0xa7b2, 0x9525, 0xc760, 0x692c, 0xdc5c, 0xfdd6, 0xe231, 0xc0a4, 0x53fe, 0xcd6e, 0x36d3, 0x2169]),\n    Y = gf([0x6658, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666]),\n    I = gf([0xa0b0, 0x4a0e, 0x1b27, 0xc4ee, 0xe478, 0xad2f, 0x1806, 0x2f43, 0xd7a7, 0x3dfb, 0x0099, 0x2b4d, 0xdf0b, 0x4fc1, 0x2480, 0x2b83]);\n\nfunction ts64(x, i, h, l) {\n  x[i]   = (h >> 24) & 0xff;\n  x[i+1] = (h >> 16) & 0xff;\n  x[i+2] = (h >>  8) & 0xff;\n  x[i+3] = h & 0xff;\n  x[i+4] = (l >> 24)  & 0xff;\n  x[i+5] = (l >> 16)  & 0xff;\n  x[i+6] = (l >>  8)  & 0xff;\n  x[i+7] = l & 0xff;\n}\n\nfunction vn(x, xi, y, yi, n) {\n  var i,d = 0;\n  for (i = 0; i < n; i++) d |= x[xi+i]^y[yi+i];\n  return (1 & ((d - 1) >>> 8)) - 1;\n}\n\nfunction crypto_verify_16(x, xi, y, yi) {\n  return vn(x,xi,y,yi,16);\n}\n\nfunction crypto_verify_32(x, xi, y, yi) {\n  return vn(x,xi,y,yi,32);\n}\n\nfunction core_salsa20(o, p, k, c) {\n  var j0  = c[ 0] & 0xff | (c[ 1] & 0xff)<<8 | (c[ 2] & 0xff)<<16 | (c[ 3] & 0xff)<<24,\n      j1  = k[ 0] & 0xff | (k[ 1] & 0xff)<<8 | (k[ 2] & 0xff)<<16 | (k[ 3] & 0xff)<<24,\n      j2  = k[ 4] & 0xff | (k[ 5] & 0xff)<<8 | (k[ 6] & 0xff)<<16 | (k[ 7] & 0xff)<<24,\n      j3  = k[ 8] & 0xff | (k[ 9] & 0xff)<<8 | (k[10] & 0xff)<<16 | (k[11] & 0xff)<<24,\n      j4  = k[12] & 0xff | (k[13] & 0xff)<<8 | (k[14] & 0xff)<<16 | (k[15] & 0xff)<<24,\n      j5  = c[ 4] & 0xff | (c[ 5] & 0xff)<<8 | (c[ 6] & 0xff)<<16 | (c[ 7] & 0xff)<<24,\n      j6  = p[ 0] & 0xff | (p[ 1] & 0xff)<<8 | (p[ 2] & 0xff)<<16 | (p[ 3] & 0xff)<<24,\n      j7  = p[ 4] & 0xff | (p[ 5] & 0xff)<<8 | (p[ 6] & 0xff)<<16 | (p[ 7] & 0xff)<<24,\n      j8  = p[ 8] & 0xff | (p[ 9] & 0xff)<<8 | (p[10] & 0xff)<<16 | (p[11] & 0xff)<<24,\n      j9  = p[12] & 0xff | (p[13] & 0xff)<<8 | (p[14] & 0xff)<<16 | (p[15] & 0xff)<<24,\n      j10 = c[ 8] & 0xff | (c[ 9] & 0xff)<<8 | (c[10] & 0xff)<<16 | (c[11] & 0xff)<<24,\n      j11 = k[16] & 0xff | (k[17] & 0xff)<<8 | (k[18] & 0xff)<<16 | (k[19] & 0xff)<<24,\n      j12 = k[20] & 0xff | (k[21] & 0xff)<<8 | (k[22] & 0xff)<<16 | (k[23] & 0xff)<<24,\n      j13 = k[24] & 0xff | (k[25] & 0xff)<<8 | (k[26] & 0xff)<<16 | (k[27] & 0xff)<<24,\n      j14 = k[28] & 0xff | (k[29] & 0xff)<<8 | (k[30] & 0xff)<<16 | (k[31] & 0xff)<<24,\n      j15 = c[12] & 0xff | (c[13] & 0xff)<<8 | (c[14] & 0xff)<<16 | (c[15] & 0xff)<<24;\n\n  var x0 = j0, x1 = j1, x2 = j2, x3 = j3, x4 = j4, x5 = j5, x6 = j6, x7 = j7,\n      x8 = j8, x9 = j9, x10 = j10, x11 = j11, x12 = j12, x13 = j13, x14 = j14,\n      x15 = j15, u;\n\n  for (var i = 0; i < 20; i += 2) {\n    u = x0 + x12 | 0;\n    x4 ^= u<<7 | u>>>(32-7);\n    u = x4 + x0 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x4 | 0;\n    x12 ^= u<<13 | u>>>(32-13);\n    u = x12 + x8 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x1 | 0;\n    x9 ^= u<<7 | u>>>(32-7);\n    u = x9 + x5 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x9 | 0;\n    x1 ^= u<<13 | u>>>(32-13);\n    u = x1 + x13 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x6 | 0;\n    x14 ^= u<<7 | u>>>(32-7);\n    u = x14 + x10 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x14 | 0;\n    x6 ^= u<<13 | u>>>(32-13);\n    u = x6 + x2 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x11 | 0;\n    x3 ^= u<<7 | u>>>(32-7);\n    u = x3 + x15 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x3 | 0;\n    x11 ^= u<<13 | u>>>(32-13);\n    u = x11 + x7 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n\n    u = x0 + x3 | 0;\n    x1 ^= u<<7 | u>>>(32-7);\n    u = x1 + x0 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x1 | 0;\n    x3 ^= u<<13 | u>>>(32-13);\n    u = x3 + x2 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x4 | 0;\n    x6 ^= u<<7 | u>>>(32-7);\n    u = x6 + x5 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x6 | 0;\n    x4 ^= u<<13 | u>>>(32-13);\n    u = x4 + x7 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x9 | 0;\n    x11 ^= u<<7 | u>>>(32-7);\n    u = x11 + x10 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x11 | 0;\n    x9 ^= u<<13 | u>>>(32-13);\n    u = x9 + x8 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x14 | 0;\n    x12 ^= u<<7 | u>>>(32-7);\n    u = x12 + x15 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x12 | 0;\n    x14 ^= u<<13 | u>>>(32-13);\n    u = x14 + x13 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n  }\n   x0 =  x0 +  j0 | 0;\n   x1 =  x1 +  j1 | 0;\n   x2 =  x2 +  j2 | 0;\n   x3 =  x3 +  j3 | 0;\n   x4 =  x4 +  j4 | 0;\n   x5 =  x5 +  j5 | 0;\n   x6 =  x6 +  j6 | 0;\n   x7 =  x7 +  j7 | 0;\n   x8 =  x8 +  j8 | 0;\n   x9 =  x9 +  j9 | 0;\n  x10 = x10 + j10 | 0;\n  x11 = x11 + j11 | 0;\n  x12 = x12 + j12 | 0;\n  x13 = x13 + j13 | 0;\n  x14 = x14 + j14 | 0;\n  x15 = x15 + j15 | 0;\n\n  o[ 0] = x0 >>>  0 & 0xff;\n  o[ 1] = x0 >>>  8 & 0xff;\n  o[ 2] = x0 >>> 16 & 0xff;\n  o[ 3] = x0 >>> 24 & 0xff;\n\n  o[ 4] = x1 >>>  0 & 0xff;\n  o[ 5] = x1 >>>  8 & 0xff;\n  o[ 6] = x1 >>> 16 & 0xff;\n  o[ 7] = x1 >>> 24 & 0xff;\n\n  o[ 8] = x2 >>>  0 & 0xff;\n  o[ 9] = x2 >>>  8 & 0xff;\n  o[10] = x2 >>> 16 & 0xff;\n  o[11] = x2 >>> 24 & 0xff;\n\n  o[12] = x3 >>>  0 & 0xff;\n  o[13] = x3 >>>  8 & 0xff;\n  o[14] = x3 >>> 16 & 0xff;\n  o[15] = x3 >>> 24 & 0xff;\n\n  o[16] = x4 >>>  0 & 0xff;\n  o[17] = x4 >>>  8 & 0xff;\n  o[18] = x4 >>> 16 & 0xff;\n  o[19] = x4 >>> 24 & 0xff;\n\n  o[20] = x5 >>>  0 & 0xff;\n  o[21] = x5 >>>  8 & 0xff;\n  o[22] = x5 >>> 16 & 0xff;\n  o[23] = x5 >>> 24 & 0xff;\n\n  o[24] = x6 >>>  0 & 0xff;\n  o[25] = x6 >>>  8 & 0xff;\n  o[26] = x6 >>> 16 & 0xff;\n  o[27] = x6 >>> 24 & 0xff;\n\n  o[28] = x7 >>>  0 & 0xff;\n  o[29] = x7 >>>  8 & 0xff;\n  o[30] = x7 >>> 16 & 0xff;\n  o[31] = x7 >>> 24 & 0xff;\n\n  o[32] = x8 >>>  0 & 0xff;\n  o[33] = x8 >>>  8 & 0xff;\n  o[34] = x8 >>> 16 & 0xff;\n  o[35] = x8 >>> 24 & 0xff;\n\n  o[36] = x9 >>>  0 & 0xff;\n  o[37] = x9 >>>  8 & 0xff;\n  o[38] = x9 >>> 16 & 0xff;\n  o[39] = x9 >>> 24 & 0xff;\n\n  o[40] = x10 >>>  0 & 0xff;\n  o[41] = x10 >>>  8 & 0xff;\n  o[42] = x10 >>> 16 & 0xff;\n  o[43] = x10 >>> 24 & 0xff;\n\n  o[44] = x11 >>>  0 & 0xff;\n  o[45] = x11 >>>  8 & 0xff;\n  o[46] = x11 >>> 16 & 0xff;\n  o[47] = x11 >>> 24 & 0xff;\n\n  o[48] = x12 >>>  0 & 0xff;\n  o[49] = x12 >>>  8 & 0xff;\n  o[50] = x12 >>> 16 & 0xff;\n  o[51] = x12 >>> 24 & 0xff;\n\n  o[52] = x13 >>>  0 & 0xff;\n  o[53] = x13 >>>  8 & 0xff;\n  o[54] = x13 >>> 16 & 0xff;\n  o[55] = x13 >>> 24 & 0xff;\n\n  o[56] = x14 >>>  0 & 0xff;\n  o[57] = x14 >>>  8 & 0xff;\n  o[58] = x14 >>> 16 & 0xff;\n  o[59] = x14 >>> 24 & 0xff;\n\n  o[60] = x15 >>>  0 & 0xff;\n  o[61] = x15 >>>  8 & 0xff;\n  o[62] = x15 >>> 16 & 0xff;\n  o[63] = x15 >>> 24 & 0xff;\n}\n\nfunction core_hsalsa20(o,p,k,c) {\n  var j0  = c[ 0] & 0xff | (c[ 1] & 0xff)<<8 | (c[ 2] & 0xff)<<16 | (c[ 3] & 0xff)<<24,\n      j1  = k[ 0] & 0xff | (k[ 1] & 0xff)<<8 | (k[ 2] & 0xff)<<16 | (k[ 3] & 0xff)<<24,\n      j2  = k[ 4] & 0xff | (k[ 5] & 0xff)<<8 | (k[ 6] & 0xff)<<16 | (k[ 7] & 0xff)<<24,\n      j3  = k[ 8] & 0xff | (k[ 9] & 0xff)<<8 | (k[10] & 0xff)<<16 | (k[11] & 0xff)<<24,\n      j4  = k[12] & 0xff | (k[13] & 0xff)<<8 | (k[14] & 0xff)<<16 | (k[15] & 0xff)<<24,\n      j5  = c[ 4] & 0xff | (c[ 5] & 0xff)<<8 | (c[ 6] & 0xff)<<16 | (c[ 7] & 0xff)<<24,\n      j6  = p[ 0] & 0xff | (p[ 1] & 0xff)<<8 | (p[ 2] & 0xff)<<16 | (p[ 3] & 0xff)<<24,\n      j7  = p[ 4] & 0xff | (p[ 5] & 0xff)<<8 | (p[ 6] & 0xff)<<16 | (p[ 7] & 0xff)<<24,\n      j8  = p[ 8] & 0xff | (p[ 9] & 0xff)<<8 | (p[10] & 0xff)<<16 | (p[11] & 0xff)<<24,\n      j9  = p[12] & 0xff | (p[13] & 0xff)<<8 | (p[14] & 0xff)<<16 | (p[15] & 0xff)<<24,\n      j10 = c[ 8] & 0xff | (c[ 9] & 0xff)<<8 | (c[10] & 0xff)<<16 | (c[11] & 0xff)<<24,\n      j11 = k[16] & 0xff | (k[17] & 0xff)<<8 | (k[18] & 0xff)<<16 | (k[19] & 0xff)<<24,\n      j12 = k[20] & 0xff | (k[21] & 0xff)<<8 | (k[22] & 0xff)<<16 | (k[23] & 0xff)<<24,\n      j13 = k[24] & 0xff | (k[25] & 0xff)<<8 | (k[26] & 0xff)<<16 | (k[27] & 0xff)<<24,\n      j14 = k[28] & 0xff | (k[29] & 0xff)<<8 | (k[30] & 0xff)<<16 | (k[31] & 0xff)<<24,\n      j15 = c[12] & 0xff | (c[13] & 0xff)<<8 | (c[14] & 0xff)<<16 | (c[15] & 0xff)<<24;\n\n  var x0 = j0, x1 = j1, x2 = j2, x3 = j3, x4 = j4, x5 = j5, x6 = j6, x7 = j7,\n      x8 = j8, x9 = j9, x10 = j10, x11 = j11, x12 = j12, x13 = j13, x14 = j14,\n      x15 = j15, u;\n\n  for (var i = 0; i < 20; i += 2) {\n    u = x0 + x12 | 0;\n    x4 ^= u<<7 | u>>>(32-7);\n    u = x4 + x0 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x4 | 0;\n    x12 ^= u<<13 | u>>>(32-13);\n    u = x12 + x8 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x1 | 0;\n    x9 ^= u<<7 | u>>>(32-7);\n    u = x9 + x5 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x9 | 0;\n    x1 ^= u<<13 | u>>>(32-13);\n    u = x1 + x13 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x6 | 0;\n    x14 ^= u<<7 | u>>>(32-7);\n    u = x14 + x10 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x14 | 0;\n    x6 ^= u<<13 | u>>>(32-13);\n    u = x6 + x2 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x11 | 0;\n    x3 ^= u<<7 | u>>>(32-7);\n    u = x3 + x15 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x3 | 0;\n    x11 ^= u<<13 | u>>>(32-13);\n    u = x11 + x7 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n\n    u = x0 + x3 | 0;\n    x1 ^= u<<7 | u>>>(32-7);\n    u = x1 + x0 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x1 | 0;\n    x3 ^= u<<13 | u>>>(32-13);\n    u = x3 + x2 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x4 | 0;\n    x6 ^= u<<7 | u>>>(32-7);\n    u = x6 + x5 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x6 | 0;\n    x4 ^= u<<13 | u>>>(32-13);\n    u = x4 + x7 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x9 | 0;\n    x11 ^= u<<7 | u>>>(32-7);\n    u = x11 + x10 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x11 | 0;\n    x9 ^= u<<13 | u>>>(32-13);\n    u = x9 + x8 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x14 | 0;\n    x12 ^= u<<7 | u>>>(32-7);\n    u = x12 + x15 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x12 | 0;\n    x14 ^= u<<13 | u>>>(32-13);\n    u = x14 + x13 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n  }\n\n  o[ 0] = x0 >>>  0 & 0xff;\n  o[ 1] = x0 >>>  8 & 0xff;\n  o[ 2] = x0 >>> 16 & 0xff;\n  o[ 3] = x0 >>> 24 & 0xff;\n\n  o[ 4] = x5 >>>  0 & 0xff;\n  o[ 5] = x5 >>>  8 & 0xff;\n  o[ 6] = x5 >>> 16 & 0xff;\n  o[ 7] = x5 >>> 24 & 0xff;\n\n  o[ 8] = x10 >>>  0 & 0xff;\n  o[ 9] = x10 >>>  8 & 0xff;\n  o[10] = x10 >>> 16 & 0xff;\n  o[11] = x10 >>> 24 & 0xff;\n\n  o[12] = x15 >>>  0 & 0xff;\n  o[13] = x15 >>>  8 & 0xff;\n  o[14] = x15 >>> 16 & 0xff;\n  o[15] = x15 >>> 24 & 0xff;\n\n  o[16] = x6 >>>  0 & 0xff;\n  o[17] = x6 >>>  8 & 0xff;\n  o[18] = x6 >>> 16 & 0xff;\n  o[19] = x6 >>> 24 & 0xff;\n\n  o[20] = x7 >>>  0 & 0xff;\n  o[21] = x7 >>>  8 & 0xff;\n  o[22] = x7 >>> 16 & 0xff;\n  o[23] = x7 >>> 24 & 0xff;\n\n  o[24] = x8 >>>  0 & 0xff;\n  o[25] = x8 >>>  8 & 0xff;\n  o[26] = x8 >>> 16 & 0xff;\n  o[27] = x8 >>> 24 & 0xff;\n\n  o[28] = x9 >>>  0 & 0xff;\n  o[29] = x9 >>>  8 & 0xff;\n  o[30] = x9 >>> 16 & 0xff;\n  o[31] = x9 >>> 24 & 0xff;\n}\n\nfunction crypto_core_salsa20(out,inp,k,c) {\n  core_salsa20(out,inp,k,c);\n}\n\nfunction crypto_core_hsalsa20(out,inp,k,c) {\n  core_hsalsa20(out,inp,k,c);\n}\n\nvar sigma = new Uint8Array([101, 120, 112, 97, 110, 100, 32, 51, 50, 45, 98, 121, 116, 101, 32, 107]);\n            // \"expand 32-byte k\"\n\nfunction crypto_stream_salsa20_xor(c,cpos,m,mpos,b,n,k) {\n  var z = new Uint8Array(16), x = new Uint8Array(64);\n  var u, i;\n  for (i = 0; i < 16; i++) z[i] = 0;\n  for (i = 0; i < 8; i++) z[i] = n[i];\n  while (b >= 64) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < 64; i++) c[cpos+i] = m[mpos+i] ^ x[i];\n    u = 1;\n    for (i = 8; i < 16; i++) {\n      u = u + (z[i] & 0xff) | 0;\n      z[i] = u & 0xff;\n      u >>>= 8;\n    }\n    b -= 64;\n    cpos += 64;\n    mpos += 64;\n  }\n  if (b > 0) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < b; i++) c[cpos+i] = m[mpos+i] ^ x[i];\n  }\n  return 0;\n}\n\nfunction crypto_stream_salsa20(c,cpos,b,n,k) {\n  var z = new Uint8Array(16), x = new Uint8Array(64);\n  var u, i;\n  for (i = 0; i < 16; i++) z[i] = 0;\n  for (i = 0; i < 8; i++) z[i] = n[i];\n  while (b >= 64) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < 64; i++) c[cpos+i] = x[i];\n    u = 1;\n    for (i = 8; i < 16; i++) {\n      u = u + (z[i] & 0xff) | 0;\n      z[i] = u & 0xff;\n      u >>>= 8;\n    }\n    b -= 64;\n    cpos += 64;\n  }\n  if (b > 0) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < b; i++) c[cpos+i] = x[i];\n  }\n  return 0;\n}\n\nfunction crypto_stream(c,cpos,d,n,k) {\n  var s = new Uint8Array(32);\n  crypto_core_hsalsa20(s,n,k,sigma);\n  var sn = new Uint8Array(8);\n  for (var i = 0; i < 8; i++) sn[i] = n[i+16];\n  return crypto_stream_salsa20(c,cpos,d,sn,s);\n}\n\nfunction crypto_stream_xor(c,cpos,m,mpos,d,n,k) {\n  var s = new Uint8Array(32);\n  crypto_core_hsalsa20(s,n,k,sigma);\n  var sn = new Uint8Array(8);\n  for (var i = 0; i < 8; i++) sn[i] = n[i+16];\n  return crypto_stream_salsa20_xor(c,cpos,m,mpos,d,sn,s);\n}\n\n/*\n* Port of Andrew Moon's Poly1305-donna-16. Public domain.\n* https://github.com/floodyberry/poly1305-donna\n*/\n\nvar poly1305 = function(key) {\n  this.buffer = new Uint8Array(16);\n  this.r = new Uint16Array(10);\n  this.h = new Uint16Array(10);\n  this.pad = new Uint16Array(8);\n  this.leftover = 0;\n  this.fin = 0;\n\n  var t0, t1, t2, t3, t4, t5, t6, t7;\n\n  t0 = key[ 0] & 0xff | (key[ 1] & 0xff) << 8; this.r[0] = ( t0                     ) & 0x1fff;\n  t1 = key[ 2] & 0xff | (key[ 3] & 0xff) << 8; this.r[1] = ((t0 >>> 13) | (t1 <<  3)) & 0x1fff;\n  t2 = key[ 4] & 0xff | (key[ 5] & 0xff) << 8; this.r[2] = ((t1 >>> 10) | (t2 <<  6)) & 0x1f03;\n  t3 = key[ 6] & 0xff | (key[ 7] & 0xff) << 8; this.r[3] = ((t2 >>>  7) | (t3 <<  9)) & 0x1fff;\n  t4 = key[ 8] & 0xff | (key[ 9] & 0xff) << 8; this.r[4] = ((t3 >>>  4) | (t4 << 12)) & 0x00ff;\n  this.r[5] = ((t4 >>>  1)) & 0x1ffe;\n  t5 = key[10] & 0xff | (key[11] & 0xff) << 8; this.r[6] = ((t4 >>> 14) | (t5 <<  2)) & 0x1fff;\n  t6 = key[12] & 0xff | (key[13] & 0xff) << 8; this.r[7] = ((t5 >>> 11) | (t6 <<  5)) & 0x1f81;\n  t7 = key[14] & 0xff | (key[15] & 0xff) << 8; this.r[8] = ((t6 >>>  8) | (t7 <<  8)) & 0x1fff;\n  this.r[9] = ((t7 >>>  5)) & 0x007f;\n\n  this.pad[0] = key[16] & 0xff | (key[17] & 0xff) << 8;\n  this.pad[1] = key[18] & 0xff | (key[19] & 0xff) << 8;\n  this.pad[2] = key[20] & 0xff | (key[21] & 0xff) << 8;\n  this.pad[3] = key[22] & 0xff | (key[23] & 0xff) << 8;\n  this.pad[4] = key[24] & 0xff | (key[25] & 0xff) << 8;\n  this.pad[5] = key[26] & 0xff | (key[27] & 0xff) << 8;\n  this.pad[6] = key[28] & 0xff | (key[29] & 0xff) << 8;\n  this.pad[7] = key[30] & 0xff | (key[31] & 0xff) << 8;\n};\n\npoly1305.prototype.blocks = function(m, mpos, bytes) {\n  var hibit = this.fin ? 0 : (1 << 11);\n  var t0, t1, t2, t3, t4, t5, t6, t7, c;\n  var d0, d1, d2, d3, d4, d5, d6, d7, d8, d9;\n\n  var h0 = this.h[0],\n      h1 = this.h[1],\n      h2 = this.h[2],\n      h3 = this.h[3],\n      h4 = this.h[4],\n      h5 = this.h[5],\n      h6 = this.h[6],\n      h7 = this.h[7],\n      h8 = this.h[8],\n      h9 = this.h[9];\n\n  var r0 = this.r[0],\n      r1 = this.r[1],\n      r2 = this.r[2],\n      r3 = this.r[3],\n      r4 = this.r[4],\n      r5 = this.r[5],\n      r6 = this.r[6],\n      r7 = this.r[7],\n      r8 = this.r[8],\n      r9 = this.r[9];\n\n  while (bytes >= 16) {\n    t0 = m[mpos+ 0] & 0xff | (m[mpos+ 1] & 0xff) << 8; h0 += ( t0                     ) & 0x1fff;\n    t1 = m[mpos+ 2] & 0xff | (m[mpos+ 3] & 0xff) << 8; h1 += ((t0 >>> 13) | (t1 <<  3)) & 0x1fff;\n    t2 = m[mpos+ 4] & 0xff | (m[mpos+ 5] & 0xff) << 8; h2 += ((t1 >>> 10) | (t2 <<  6)) & 0x1fff;\n    t3 = m[mpos+ 6] & 0xff | (m[mpos+ 7] & 0xff) << 8; h3 += ((t2 >>>  7) | (t3 <<  9)) & 0x1fff;\n    t4 = m[mpos+ 8] & 0xff | (m[mpos+ 9] & 0xff) << 8; h4 += ((t3 >>>  4) | (t4 << 12)) & 0x1fff;\n    h5 += ((t4 >>>  1)) & 0x1fff;\n    t5 = m[mpos+10] & 0xff | (m[mpos+11] & 0xff) << 8; h6 += ((t4 >>> 14) | (t5 <<  2)) & 0x1fff;\n    t6 = m[mpos+12] & 0xff | (m[mpos+13] & 0xff) << 8; h7 += ((t5 >>> 11) | (t6 <<  5)) & 0x1fff;\n    t7 = m[mpos+14] & 0xff | (m[mpos+15] & 0xff) << 8; h8 += ((t6 >>>  8) | (t7 <<  8)) & 0x1fff;\n    h9 += ((t7 >>> 5)) | hibit;\n\n    c = 0;\n\n    d0 = c;\n    d0 += h0 * r0;\n    d0 += h1 * (5 * r9);\n    d0 += h2 * (5 * r8);\n    d0 += h3 * (5 * r7);\n    d0 += h4 * (5 * r6);\n    c = (d0 >>> 13); d0 &= 0x1fff;\n    d0 += h5 * (5 * r5);\n    d0 += h6 * (5 * r4);\n    d0 += h7 * (5 * r3);\n    d0 += h8 * (5 * r2);\n    d0 += h9 * (5 * r1);\n    c += (d0 >>> 13); d0 &= 0x1fff;\n\n    d1 = c;\n    d1 += h0 * r1;\n    d1 += h1 * r0;\n    d1 += h2 * (5 * r9);\n    d1 += h3 * (5 * r8);\n    d1 += h4 * (5 * r7);\n    c = (d1 >>> 13); d1 &= 0x1fff;\n    d1 += h5 * (5 * r6);\n    d1 += h6 * (5 * r5);\n    d1 += h7 * (5 * r4);\n    d1 += h8 * (5 * r3);\n    d1 += h9 * (5 * r2);\n    c += (d1 >>> 13); d1 &= 0x1fff;\n\n    d2 = c;\n    d2 += h0 * r2;\n    d2 += h1 * r1;\n    d2 += h2 * r0;\n    d2 += h3 * (5 * r9);\n    d2 += h4 * (5 * r8);\n    c = (d2 >>> 13); d2 &= 0x1fff;\n    d2 += h5 * (5 * r7);\n    d2 += h6 * (5 * r6);\n    d2 += h7 * (5 * r5);\n    d2 += h8 * (5 * r4);\n    d2 += h9 * (5 * r3);\n    c += (d2 >>> 13); d2 &= 0x1fff;\n\n    d3 = c;\n    d3 += h0 * r3;\n    d3 += h1 * r2;\n    d3 += h2 * r1;\n    d3 += h3 * r0;\n    d3 += h4 * (5 * r9);\n    c = (d3 >>> 13); d3 &= 0x1fff;\n    d3 += h5 * (5 * r8);\n    d3 += h6 * (5 * r7);\n    d3 += h7 * (5 * r6);\n    d3 += h8 * (5 * r5);\n    d3 += h9 * (5 * r4);\n    c += (d3 >>> 13); d3 &= 0x1fff;\n\n    d4 = c;\n    d4 += h0 * r4;\n    d4 += h1 * r3;\n    d4 += h2 * r2;\n    d4 += h3 * r1;\n    d4 += h4 * r0;\n    c = (d4 >>> 13); d4 &= 0x1fff;\n    d4 += h5 * (5 * r9);\n    d4 += h6 * (5 * r8);\n    d4 += h7 * (5 * r7);\n    d4 += h8 * (5 * r6);\n    d4 += h9 * (5 * r5);\n    c += (d4 >>> 13); d4 &= 0x1fff;\n\n    d5 = c;\n    d5 += h0 * r5;\n    d5 += h1 * r4;\n    d5 += h2 * r3;\n    d5 += h3 * r2;\n    d5 += h4 * r1;\n    c = (d5 >>> 13); d5 &= 0x1fff;\n    d5 += h5 * r0;\n    d5 += h6 * (5 * r9);\n    d5 += h7 * (5 * r8);\n    d5 += h8 * (5 * r7);\n    d5 += h9 * (5 * r6);\n    c += (d5 >>> 13); d5 &= 0x1fff;\n\n    d6 = c;\n    d6 += h0 * r6;\n    d6 += h1 * r5;\n    d6 += h2 * r4;\n    d6 += h3 * r3;\n    d6 += h4 * r2;\n    c = (d6 >>> 13); d6 &= 0x1fff;\n    d6 += h5 * r1;\n    d6 += h6 * r0;\n    d6 += h7 * (5 * r9);\n    d6 += h8 * (5 * r8);\n    d6 += h9 * (5 * r7);\n    c += (d6 >>> 13); d6 &= 0x1fff;\n\n    d7 = c;\n    d7 += h0 * r7;\n    d7 += h1 * r6;\n    d7 += h2 * r5;\n    d7 += h3 * r4;\n    d7 += h4 * r3;\n    c = (d7 >>> 13); d7 &= 0x1fff;\n    d7 += h5 * r2;\n    d7 += h6 * r1;\n    d7 += h7 * r0;\n    d7 += h8 * (5 * r9);\n    d7 += h9 * (5 * r8);\n    c += (d7 >>> 13); d7 &= 0x1fff;\n\n    d8 = c;\n    d8 += h0 * r8;\n    d8 += h1 * r7;\n    d8 += h2 * r6;\n    d8 += h3 * r5;\n    d8 += h4 * r4;\n    c = (d8 >>> 13); d8 &= 0x1fff;\n    d8 += h5 * r3;\n    d8 += h6 * r2;\n    d8 += h7 * r1;\n    d8 += h8 * r0;\n    d8 += h9 * (5 * r9);\n    c += (d8 >>> 13); d8 &= 0x1fff;\n\n    d9 = c;\n    d9 += h0 * r9;\n    d9 += h1 * r8;\n    d9 += h2 * r7;\n    d9 += h3 * r6;\n    d9 += h4 * r5;\n    c = (d9 >>> 13); d9 &= 0x1fff;\n    d9 += h5 * r4;\n    d9 += h6 * r3;\n    d9 += h7 * r2;\n    d9 += h8 * r1;\n    d9 += h9 * r0;\n    c += (d9 >>> 13); d9 &= 0x1fff;\n\n    c = (((c << 2) + c)) | 0;\n    c = (c + d0) | 0;\n    d0 = c & 0x1fff;\n    c = (c >>> 13);\n    d1 += c;\n\n    h0 = d0;\n    h1 = d1;\n    h2 = d2;\n    h3 = d3;\n    h4 = d4;\n    h5 = d5;\n    h6 = d6;\n    h7 = d7;\n    h8 = d8;\n    h9 = d9;\n\n    mpos += 16;\n    bytes -= 16;\n  }\n  this.h[0] = h0;\n  this.h[1] = h1;\n  this.h[2] = h2;\n  this.h[3] = h3;\n  this.h[4] = h4;\n  this.h[5] = h5;\n  this.h[6] = h6;\n  this.h[7] = h7;\n  this.h[8] = h8;\n  this.h[9] = h9;\n};\n\npoly1305.prototype.finish = function(mac, macpos) {\n  var g = new Uint16Array(10);\n  var c, mask, f, i;\n\n  if (this.leftover) {\n    i = this.leftover;\n    this.buffer[i++] = 1;\n    for (; i < 16; i++) this.buffer[i] = 0;\n    this.fin = 1;\n    this.blocks(this.buffer, 0, 16);\n  }\n\n  c = this.h[1] >>> 13;\n  this.h[1] &= 0x1fff;\n  for (i = 2; i < 10; i++) {\n    this.h[i] += c;\n    c = this.h[i] >>> 13;\n    this.h[i] &= 0x1fff;\n  }\n  this.h[0] += (c * 5);\n  c = this.h[0] >>> 13;\n  this.h[0] &= 0x1fff;\n  this.h[1] += c;\n  c = this.h[1] >>> 13;\n  this.h[1] &= 0x1fff;\n  this.h[2] += c;\n\n  g[0] = this.h[0] + 5;\n  c = g[0] >>> 13;\n  g[0] &= 0x1fff;\n  for (i = 1; i < 10; i++) {\n    g[i] = this.h[i] + c;\n    c = g[i] >>> 13;\n    g[i] &= 0x1fff;\n  }\n  g[9] -= (1 << 13);\n\n  mask = (c ^ 1) - 1;\n  for (i = 0; i < 10; i++) g[i] &= mask;\n  mask = ~mask;\n  for (i = 0; i < 10; i++) this.h[i] = (this.h[i] & mask) | g[i];\n\n  this.h[0] = ((this.h[0]       ) | (this.h[1] << 13)                    ) & 0xffff;\n  this.h[1] = ((this.h[1] >>>  3) | (this.h[2] << 10)                    ) & 0xffff;\n  this.h[2] = ((this.h[2] >>>  6) | (this.h[3] <<  7)                    ) & 0xffff;\n  this.h[3] = ((this.h[3] >>>  9) | (this.h[4] <<  4)                    ) & 0xffff;\n  this.h[4] = ((this.h[4] >>> 12) | (this.h[5] <<  1) | (this.h[6] << 14)) & 0xffff;\n  this.h[5] = ((this.h[6] >>>  2) | (this.h[7] << 11)                    ) & 0xffff;\n  this.h[6] = ((this.h[7] >>>  5) | (this.h[8] <<  8)                    ) & 0xffff;\n  this.h[7] = ((this.h[8] >>>  8) | (this.h[9] <<  5)                    ) & 0xffff;\n\n  f = this.h[0] + this.pad[0];\n  this.h[0] = f & 0xffff;\n  for (i = 1; i < 8; i++) {\n    f = (((this.h[i] + this.pad[i]) | 0) + (f >>> 16)) | 0;\n    this.h[i] = f & 0xffff;\n  }\n\n  mac[macpos+ 0] = (this.h[0] >>> 0) & 0xff;\n  mac[macpos+ 1] = (this.h[0] >>> 8) & 0xff;\n  mac[macpos+ 2] = (this.h[1] >>> 0) & 0xff;\n  mac[macpos+ 3] = (this.h[1] >>> 8) & 0xff;\n  mac[macpos+ 4] = (this.h[2] >>> 0) & 0xff;\n  mac[macpos+ 5] = (this.h[2] >>> 8) & 0xff;\n  mac[macpos+ 6] = (this.h[3] >>> 0) & 0xff;\n  mac[macpos+ 7] = (this.h[3] >>> 8) & 0xff;\n  mac[macpos+ 8] = (this.h[4] >>> 0) & 0xff;\n  mac[macpos+ 9] = (this.h[4] >>> 8) & 0xff;\n  mac[macpos+10] = (this.h[5] >>> 0) & 0xff;\n  mac[macpos+11] = (this.h[5] >>> 8) & 0xff;\n  mac[macpos+12] = (this.h[6] >>> 0) & 0xff;\n  mac[macpos+13] = (this.h[6] >>> 8) & 0xff;\n  mac[macpos+14] = (this.h[7] >>> 0) & 0xff;\n  mac[macpos+15] = (this.h[7] >>> 8) & 0xff;\n};\n\npoly1305.prototype.update = function(m, mpos, bytes) {\n  var i, want;\n\n  if (this.leftover) {\n    want = (16 - this.leftover);\n    if (want > bytes)\n      want = bytes;\n    for (i = 0; i < want; i++)\n      this.buffer[this.leftover + i] = m[mpos+i];\n    bytes -= want;\n    mpos += want;\n    this.leftover += want;\n    if (this.leftover < 16)\n      return;\n    this.blocks(this.buffer, 0, 16);\n    this.leftover = 0;\n  }\n\n  if (bytes >= 16) {\n    want = bytes - (bytes % 16);\n    this.blocks(m, mpos, want);\n    mpos += want;\n    bytes -= want;\n  }\n\n  if (bytes) {\n    for (i = 0; i < bytes; i++)\n      this.buffer[this.leftover + i] = m[mpos+i];\n    this.leftover += bytes;\n  }\n};\n\nfunction crypto_onetimeauth(out, outpos, m, mpos, n, k) {\n  var s = new poly1305(k);\n  s.update(m, mpos, n);\n  s.finish(out, outpos);\n  return 0;\n}\n\nfunction crypto_onetimeauth_verify(h, hpos, m, mpos, n, k) {\n  var x = new Uint8Array(16);\n  crypto_onetimeauth(x,0,m,mpos,n,k);\n  return crypto_verify_16(h,hpos,x,0);\n}\n\nfunction crypto_secretbox(c,m,d,n,k) {\n  var i;\n  if (d < 32) return -1;\n  crypto_stream_xor(c,0,m,0,d,n,k);\n  crypto_onetimeauth(c, 16, c, 32, d - 32, c);\n  for (i = 0; i < 16; i++) c[i] = 0;\n  return 0;\n}\n\nfunction crypto_secretbox_open(m,c,d,n,k) {\n  var i;\n  var x = new Uint8Array(32);\n  if (d < 32) return -1;\n  crypto_stream(x,0,32,n,k);\n  if (crypto_onetimeauth_verify(c, 16,c, 32,d - 32,x) !== 0) return -1;\n  crypto_stream_xor(m,0,c,0,d,n,k);\n  for (i = 0; i < 32; i++) m[i] = 0;\n  return 0;\n}\n\nfunction set25519(r, a) {\n  var i;\n  for (i = 0; i < 16; i++) r[i] = a[i]|0;\n}\n\nfunction car25519(o) {\n  var i, v, c = 1;\n  for (i = 0; i < 16; i++) {\n    v = o[i] + c + 65535;\n    c = Math.floor(v / 65536);\n    o[i] = v - c * 65536;\n  }\n  o[0] += c-1 + 37 * (c-1);\n}\n\nfunction sel25519(p, q, b) {\n  var t, c = ~(b-1);\n  for (var i = 0; i < 16; i++) {\n    t = c & (p[i] ^ q[i]);\n    p[i] ^= t;\n    q[i] ^= t;\n  }\n}\n\nfunction pack25519(o, n) {\n  var i, j, b;\n  var m = gf(), t = gf();\n  for (i = 0; i < 16; i++) t[i] = n[i];\n  car25519(t);\n  car25519(t);\n  car25519(t);\n  for (j = 0; j < 2; j++) {\n    m[0] = t[0] - 0xffed;\n    for (i = 1; i < 15; i++) {\n      m[i] = t[i] - 0xffff - ((m[i-1]>>16) & 1);\n      m[i-1] &= 0xffff;\n    }\n    m[15] = t[15] - 0x7fff - ((m[14]>>16) & 1);\n    b = (m[15]>>16) & 1;\n    m[14] &= 0xffff;\n    sel25519(t, m, 1-b);\n  }\n  for (i = 0; i < 16; i++) {\n    o[2*i] = t[i] & 0xff;\n    o[2*i+1] = t[i]>>8;\n  }\n}\n\nfunction neq25519(a, b) {\n  var c = new Uint8Array(32), d = new Uint8Array(32);\n  pack25519(c, a);\n  pack25519(d, b);\n  return crypto_verify_32(c, 0, d, 0);\n}\n\nfunction par25519(a) {\n  var d = new Uint8Array(32);\n  pack25519(d, a);\n  return d[0] & 1;\n}\n\nfunction unpack25519(o, n) {\n  var i;\n  for (i = 0; i < 16; i++) o[i] = n[2*i] + (n[2*i+1] << 8);\n  o[15] &= 0x7fff;\n}\n\nfunction A(o, a, b) {\n  for (var i = 0; i < 16; i++) o[i] = a[i] + b[i];\n}\n\nfunction Z(o, a, b) {\n  for (var i = 0; i < 16; i++) o[i] = a[i] - b[i];\n}\n\nfunction M(o, a, b) {\n  var v, c,\n     t0 = 0,  t1 = 0,  t2 = 0,  t3 = 0,  t4 = 0,  t5 = 0,  t6 = 0,  t7 = 0,\n     t8 = 0,  t9 = 0, t10 = 0, t11 = 0, t12 = 0, t13 = 0, t14 = 0, t15 = 0,\n    t16 = 0, t17 = 0, t18 = 0, t19 = 0, t20 = 0, t21 = 0, t22 = 0, t23 = 0,\n    t24 = 0, t25 = 0, t26 = 0, t27 = 0, t28 = 0, t29 = 0, t30 = 0,\n    b0 = b[0],\n    b1 = b[1],\n    b2 = b[2],\n    b3 = b[3],\n    b4 = b[4],\n    b5 = b[5],\n    b6 = b[6],\n    b7 = b[7],\n    b8 = b[8],\n    b9 = b[9],\n    b10 = b[10],\n    b11 = b[11],\n    b12 = b[12],\n    b13 = b[13],\n    b14 = b[14],\n    b15 = b[15];\n\n  v = a[0];\n  t0 += v * b0;\n  t1 += v * b1;\n  t2 += v * b2;\n  t3 += v * b3;\n  t4 += v * b4;\n  t5 += v * b5;\n  t6 += v * b6;\n  t7 += v * b7;\n  t8 += v * b8;\n  t9 += v * b9;\n  t10 += v * b10;\n  t11 += v * b11;\n  t12 += v * b12;\n  t13 += v * b13;\n  t14 += v * b14;\n  t15 += v * b15;\n  v = a[1];\n  t1 += v * b0;\n  t2 += v * b1;\n  t3 += v * b2;\n  t4 += v * b3;\n  t5 += v * b4;\n  t6 += v * b5;\n  t7 += v * b6;\n  t8 += v * b7;\n  t9 += v * b8;\n  t10 += v * b9;\n  t11 += v * b10;\n  t12 += v * b11;\n  t13 += v * b12;\n  t14 += v * b13;\n  t15 += v * b14;\n  t16 += v * b15;\n  v = a[2];\n  t2 += v * b0;\n  t3 += v * b1;\n  t4 += v * b2;\n  t5 += v * b3;\n  t6 += v * b4;\n  t7 += v * b5;\n  t8 += v * b6;\n  t9 += v * b7;\n  t10 += v * b8;\n  t11 += v * b9;\n  t12 += v * b10;\n  t13 += v * b11;\n  t14 += v * b12;\n  t15 += v * b13;\n  t16 += v * b14;\n  t17 += v * b15;\n  v = a[3];\n  t3 += v * b0;\n  t4 += v * b1;\n  t5 += v * b2;\n  t6 += v * b3;\n  t7 += v * b4;\n  t8 += v * b5;\n  t9 += v * b6;\n  t10 += v * b7;\n  t11 += v * b8;\n  t12 += v * b9;\n  t13 += v * b10;\n  t14 += v * b11;\n  t15 += v * b12;\n  t16 += v * b13;\n  t17 += v * b14;\n  t18 += v * b15;\n  v = a[4];\n  t4 += v * b0;\n  t5 += v * b1;\n  t6 += v * b2;\n  t7 += v * b3;\n  t8 += v * b4;\n  t9 += v * b5;\n  t10 += v * b6;\n  t11 += v * b7;\n  t12 += v * b8;\n  t13 += v * b9;\n  t14 += v * b10;\n  t15 += v * b11;\n  t16 += v * b12;\n  t17 += v * b13;\n  t18 += v * b14;\n  t19 += v * b15;\n  v = a[5];\n  t5 += v * b0;\n  t6 += v * b1;\n  t7 += v * b2;\n  t8 += v * b3;\n  t9 += v * b4;\n  t10 += v * b5;\n  t11 += v * b6;\n  t12 += v * b7;\n  t13 += v * b8;\n  t14 += v * b9;\n  t15 += v * b10;\n  t16 += v * b11;\n  t17 += v * b12;\n  t18 += v * b13;\n  t19 += v * b14;\n  t20 += v * b15;\n  v = a[6];\n  t6 += v * b0;\n  t7 += v * b1;\n  t8 += v * b2;\n  t9 += v * b3;\n  t10 += v * b4;\n  t11 += v * b5;\n  t12 += v * b6;\n  t13 += v * b7;\n  t14 += v * b8;\n  t15 += v * b9;\n  t16 += v * b10;\n  t17 += v * b11;\n  t18 += v * b12;\n  t19 += v * b13;\n  t20 += v * b14;\n  t21 += v * b15;\n  v = a[7];\n  t7 += v * b0;\n  t8 += v * b1;\n  t9 += v * b2;\n  t10 += v * b3;\n  t11 += v * b4;\n  t12 += v * b5;\n  t13 += v * b6;\n  t14 += v * b7;\n  t15 += v * b8;\n  t16 += v * b9;\n  t17 += v * b10;\n  t18 += v * b11;\n  t19 += v * b12;\n  t20 += v * b13;\n  t21 += v * b14;\n  t22 += v * b15;\n  v = a[8];\n  t8 += v * b0;\n  t9 += v * b1;\n  t10 += v * b2;\n  t11 += v * b3;\n  t12 += v * b4;\n  t13 += v * b5;\n  t14 += v * b6;\n  t15 += v * b7;\n  t16 += v * b8;\n  t17 += v * b9;\n  t18 += v * b10;\n  t19 += v * b11;\n  t20 += v * b12;\n  t21 += v * b13;\n  t22 += v * b14;\n  t23 += v * b15;\n  v = a[9];\n  t9 += v * b0;\n  t10 += v * b1;\n  t11 += v * b2;\n  t12 += v * b3;\n  t13 += v * b4;\n  t14 += v * b5;\n  t15 += v * b6;\n  t16 += v * b7;\n  t17 += v * b8;\n  t18 += v * b9;\n  t19 += v * b10;\n  t20 += v * b11;\n  t21 += v * b12;\n  t22 += v * b13;\n  t23 += v * b14;\n  t24 += v * b15;\n  v = a[10];\n  t10 += v * b0;\n  t11 += v * b1;\n  t12 += v * b2;\n  t13 += v * b3;\n  t14 += v * b4;\n  t15 += v * b5;\n  t16 += v * b6;\n  t17 += v * b7;\n  t18 += v * b8;\n  t19 += v * b9;\n  t20 += v * b10;\n  t21 += v * b11;\n  t22 += v * b12;\n  t23 += v * b13;\n  t24 += v * b14;\n  t25 += v * b15;\n  v = a[11];\n  t11 += v * b0;\n  t12 += v * b1;\n  t13 += v * b2;\n  t14 += v * b3;\n  t15 += v * b4;\n  t16 += v * b5;\n  t17 += v * b6;\n  t18 += v * b7;\n  t19 += v * b8;\n  t20 += v * b9;\n  t21 += v * b10;\n  t22 += v * b11;\n  t23 += v * b12;\n  t24 += v * b13;\n  t25 += v * b14;\n  t26 += v * b15;\n  v = a[12];\n  t12 += v * b0;\n  t13 += v * b1;\n  t14 += v * b2;\n  t15 += v * b3;\n  t16 += v * b4;\n  t17 += v * b5;\n  t18 += v * b6;\n  t19 += v * b7;\n  t20 += v * b8;\n  t21 += v * b9;\n  t22 += v * b10;\n  t23 += v * b11;\n  t24 += v * b12;\n  t25 += v * b13;\n  t26 += v * b14;\n  t27 += v * b15;\n  v = a[13];\n  t13 += v * b0;\n  t14 += v * b1;\n  t15 += v * b2;\n  t16 += v * b3;\n  t17 += v * b4;\n  t18 += v * b5;\n  t19 += v * b6;\n  t20 += v * b7;\n  t21 += v * b8;\n  t22 += v * b9;\n  t23 += v * b10;\n  t24 += v * b11;\n  t25 += v * b12;\n  t26 += v * b13;\n  t27 += v * b14;\n  t28 += v * b15;\n  v = a[14];\n  t14 += v * b0;\n  t15 += v * b1;\n  t16 += v * b2;\n  t17 += v * b3;\n  t18 += v * b4;\n  t19 += v * b5;\n  t20 += v * b6;\n  t21 += v * b7;\n  t22 += v * b8;\n  t23 += v * b9;\n  t24 += v * b10;\n  t25 += v * b11;\n  t26 += v * b12;\n  t27 += v * b13;\n  t28 += v * b14;\n  t29 += v * b15;\n  v = a[15];\n  t15 += v * b0;\n  t16 += v * b1;\n  t17 += v * b2;\n  t18 += v * b3;\n  t19 += v * b4;\n  t20 += v * b5;\n  t21 += v * b6;\n  t22 += v * b7;\n  t23 += v * b8;\n  t24 += v * b9;\n  t25 += v * b10;\n  t26 += v * b11;\n  t27 += v * b12;\n  t28 += v * b13;\n  t29 += v * b14;\n  t30 += v * b15;\n\n  t0  += 38 * t16;\n  t1  += 38 * t17;\n  t2  += 38 * t18;\n  t3  += 38 * t19;\n  t4  += 38 * t20;\n  t5  += 38 * t21;\n  t6  += 38 * t22;\n  t7  += 38 * t23;\n  t8  += 38 * t24;\n  t9  += 38 * t25;\n  t10 += 38 * t26;\n  t11 += 38 * t27;\n  t12 += 38 * t28;\n  t13 += 38 * t29;\n  t14 += 38 * t30;\n  // t15 left as is\n\n  // first car\n  c = 1;\n  v =  t0 + c + 65535; c = Math.floor(v / 65536);  t0 = v - c * 65536;\n  v =  t1 + c + 65535; c = Math.floor(v / 65536);  t1 = v - c * 65536;\n  v =  t2 + c + 65535; c = Math.floor(v / 65536);  t2 = v - c * 65536;\n  v =  t3 + c + 65535; c = Math.floor(v / 65536);  t3 = v - c * 65536;\n  v =  t4 + c + 65535; c = Math.floor(v / 65536);  t4 = v - c * 65536;\n  v =  t5 + c + 65535; c = Math.floor(v / 65536);  t5 = v - c * 65536;\n  v =  t6 + c + 65535; c = Math.floor(v / 65536);  t6 = v - c * 65536;\n  v =  t7 + c + 65535; c = Math.floor(v / 65536);  t7 = v - c * 65536;\n  v =  t8 + c + 65535; c = Math.floor(v / 65536);  t8 = v - c * 65536;\n  v =  t9 + c + 65535; c = Math.floor(v / 65536);  t9 = v - c * 65536;\n  v = t10 + c + 65535; c = Math.floor(v / 65536); t10 = v - c * 65536;\n  v = t11 + c + 65535; c = Math.floor(v / 65536); t11 = v - c * 65536;\n  v = t12 + c + 65535; c = Math.floor(v / 65536); t12 = v - c * 65536;\n  v = t13 + c + 65535; c = Math.floor(v / 65536); t13 = v - c * 65536;\n  v = t14 + c + 65535; c = Math.floor(v / 65536); t14 = v - c * 65536;\n  v = t15 + c + 65535; c = Math.floor(v / 65536); t15 = v - c * 65536;\n  t0 += c-1 + 37 * (c-1);\n\n  // second car\n  c = 1;\n  v =  t0 + c + 65535; c = Math.floor(v / 65536);  t0 = v - c * 65536;\n  v =  t1 + c + 65535; c = Math.floor(v / 65536);  t1 = v - c * 65536;\n  v =  t2 + c + 65535; c = Math.floor(v / 65536);  t2 = v - c * 65536;\n  v =  t3 + c + 65535; c = Math.floor(v / 65536);  t3 = v - c * 65536;\n  v =  t4 + c + 65535; c = Math.floor(v / 65536);  t4 = v - c * 65536;\n  v =  t5 + c + 65535; c = Math.floor(v / 65536);  t5 = v - c * 65536;\n  v =  t6 + c + 65535; c = Math.floor(v / 65536);  t6 = v - c * 65536;\n  v =  t7 + c + 65535; c = Math.floor(v / 65536);  t7 = v - c * 65536;\n  v =  t8 + c + 65535; c = Math.floor(v / 65536);  t8 = v - c * 65536;\n  v =  t9 + c + 65535; c = Math.floor(v / 65536);  t9 = v - c * 65536;\n  v = t10 + c + 65535; c = Math.floor(v / 65536); t10 = v - c * 65536;\n  v = t11 + c + 65535; c = Math.floor(v / 65536); t11 = v - c * 65536;\n  v = t12 + c + 65535; c = Math.floor(v / 65536); t12 = v - c * 65536;\n  v = t13 + c + 65535; c = Math.floor(v / 65536); t13 = v - c * 65536;\n  v = t14 + c + 65535; c = Math.floor(v / 65536); t14 = v - c * 65536;\n  v = t15 + c + 65535; c = Math.floor(v / 65536); t15 = v - c * 65536;\n  t0 += c-1 + 37 * (c-1);\n\n  o[ 0] = t0;\n  o[ 1] = t1;\n  o[ 2] = t2;\n  o[ 3] = t3;\n  o[ 4] = t4;\n  o[ 5] = t5;\n  o[ 6] = t6;\n  o[ 7] = t7;\n  o[ 8] = t8;\n  o[ 9] = t9;\n  o[10] = t10;\n  o[11] = t11;\n  o[12] = t12;\n  o[13] = t13;\n  o[14] = t14;\n  o[15] = t15;\n}\n\nfunction S(o, a) {\n  M(o, a, a);\n}\n\nfunction inv25519(o, i) {\n  var c = gf();\n  var a;\n  for (a = 0; a < 16; a++) c[a] = i[a];\n  for (a = 253; a >= 0; a--) {\n    S(c, c);\n    if(a !== 2 && a !== 4) M(c, c, i);\n  }\n  for (a = 0; a < 16; a++) o[a] = c[a];\n}\n\nfunction pow2523(o, i) {\n  var c = gf();\n  var a;\n  for (a = 0; a < 16; a++) c[a] = i[a];\n  for (a = 250; a >= 0; a--) {\n      S(c, c);\n      if(a !== 1) M(c, c, i);\n  }\n  for (a = 0; a < 16; a++) o[a] = c[a];\n}\n\nfunction crypto_scalarmult(q, n, p) {\n  var z = new Uint8Array(32);\n  var x = new Float64Array(80), r, i;\n  var a = gf(), b = gf(), c = gf(),\n      d = gf(), e = gf(), f = gf();\n  for (i = 0; i < 31; i++) z[i] = n[i];\n  z[31]=(n[31]&127)|64;\n  z[0]&=248;\n  unpack25519(x,p);\n  for (i = 0; i < 16; i++) {\n    b[i]=x[i];\n    d[i]=a[i]=c[i]=0;\n  }\n  a[0]=d[0]=1;\n  for (i=254; i>=0; --i) {\n    r=(z[i>>>3]>>>(i&7))&1;\n    sel25519(a,b,r);\n    sel25519(c,d,r);\n    A(e,a,c);\n    Z(a,a,c);\n    A(c,b,d);\n    Z(b,b,d);\n    S(d,e);\n    S(f,a);\n    M(a,c,a);\n    M(c,b,e);\n    A(e,a,c);\n    Z(a,a,c);\n    S(b,a);\n    Z(c,d,f);\n    M(a,c,_121665);\n    A(a,a,d);\n    M(c,c,a);\n    M(a,d,f);\n    M(d,b,x);\n    S(b,e);\n    sel25519(a,b,r);\n    sel25519(c,d,r);\n  }\n  for (i = 0; i < 16; i++) {\n    x[i+16]=a[i];\n    x[i+32]=c[i];\n    x[i+48]=b[i];\n    x[i+64]=d[i];\n  }\n  var x32 = x.subarray(32);\n  var x16 = x.subarray(16);\n  inv25519(x32,x32);\n  M(x16,x16,x32);\n  pack25519(q,x16);\n  return 0;\n}\n\nfunction crypto_scalarmult_base(q, n) {\n  return crypto_scalarmult(q, n, _9);\n}\n\nfunction crypto_box_keypair(y, x) {\n  randombytes(x, 32);\n  return crypto_scalarmult_base(y, x);\n}\n\nfunction crypto_box_beforenm(k, y, x) {\n  var s = new Uint8Array(32);\n  crypto_scalarmult(s, x, y);\n  return crypto_core_hsalsa20(k, _0, s, sigma);\n}\n\nvar crypto_box_afternm = crypto_secretbox;\nvar crypto_box_open_afternm = crypto_secretbox_open;\n\nfunction crypto_box(c, m, d, n, y, x) {\n  var k = new Uint8Array(32);\n  crypto_box_beforenm(k, y, x);\n  return crypto_box_afternm(c, m, d, n, k);\n}\n\nfunction crypto_box_open(m, c, d, n, y, x) {\n  var k = new Uint8Array(32);\n  crypto_box_beforenm(k, y, x);\n  return crypto_box_open_afternm(m, c, d, n, k);\n}\n\nvar K = [\n  0x428a2f98, 0xd728ae22, 0x71374491, 0x23ef65cd,\n  0xb5c0fbcf, 0xec4d3b2f, 0xe9b5dba5, 0x8189dbbc,\n  0x3956c25b, 0xf348b538, 0x59f111f1, 0xb605d019,\n  0x923f82a4, 0xaf194f9b, 0xab1c5ed5, 0xda6d8118,\n  0xd807aa98, 0xa3030242, 0x12835b01, 0x45706fbe,\n  0x243185be, 0x4ee4b28c, 0x550c7dc3, 0xd5ffb4e2,\n  0x72be5d74, 0xf27b896f, 0x80deb1fe, 0x3b1696b1,\n  0x9bdc06a7, 0x25c71235, 0xc19bf174, 0xcf692694,\n  0xe49b69c1, 0x9ef14ad2, 0xefbe4786, 0x384f25e3,\n  0x0fc19dc6, 0x8b8cd5b5, 0x240ca1cc, 0x77ac9c65,\n  0x2de92c6f, 0x592b0275, 0x4a7484aa, 0x6ea6e483,\n  0x5cb0a9dc, 0xbd41fbd4, 0x76f988da, 0x831153b5,\n  0x983e5152, 0xee66dfab, 0xa831c66d, 0x2db43210,\n  0xb00327c8, 0x98fb213f, 0xbf597fc7, 0xbeef0ee4,\n  0xc6e00bf3, 0x3da88fc2, 0xd5a79147, 0x930aa725,\n  0x06ca6351, 0xe003826f, 0x14292967, 0x0a0e6e70,\n  0x27b70a85, 0x46d22ffc, 0x2e1b2138, 0x5c26c926,\n  0x4d2c6dfc, 0x5ac42aed, 0x53380d13, 0x9d95b3df,\n  0x650a7354, 0x8baf63de, 0x766a0abb, 0x3c77b2a8,\n  0x81c2c92e, 0x47edaee6, 0x92722c85, 0x1482353b,\n  0xa2bfe8a1, 0x4cf10364, 0xa81a664b, 0xbc423001,\n  0xc24b8b70, 0xd0f89791, 0xc76c51a3, 0x0654be30,\n  0xd192e819, 0xd6ef5218, 0xd6990624, 0x5565a910,\n  0xf40e3585, 0x5771202a, 0x106aa070, 0x32bbd1b8,\n  0x19a4c116, 0xb8d2d0c8, 0x1e376c08, 0x5141ab53,\n  0x2748774c, 0xdf8eeb99, 0x34b0bcb5, 0xe19b48a8,\n  0x391c0cb3, 0xc5c95a63, 0x4ed8aa4a, 0xe3418acb,\n  0x5b9cca4f, 0x7763e373, 0x682e6ff3, 0xd6b2b8a3,\n  0x748f82ee, 0x5defb2fc, 0x78a5636f, 0x43172f60,\n  0x84c87814, 0xa1f0ab72, 0x8cc70208, 0x1a6439ec,\n  0x90befffa, 0x23631e28, 0xa4506ceb, 0xde82bde9,\n  0xbef9a3f7, 0xb2c67915, 0xc67178f2, 0xe372532b,\n  0xca273ece, 0xea26619c, 0xd186b8c7, 0x21c0c207,\n  0xeada7dd6, 0xcde0eb1e, 0xf57d4f7f, 0xee6ed178,\n  0x06f067aa, 0x72176fba, 0x0a637dc5, 0xa2c898a6,\n  0x113f9804, 0xbef90dae, 0x1b710b35, 0x131c471b,\n  0x28db77f5, 0x23047d84, 0x32caab7b, 0x40c72493,\n  0x3c9ebe0a, 0x15c9bebc, 0x431d67c4, 0x9c100d4c,\n  0x4cc5d4be, 0xcb3e42b6, 0x597f299c, 0xfc657e2a,\n  0x5fcb6fab, 0x3ad6faec, 0x6c44198c, 0x4a475817\n];\n\nfunction crypto_hashblocks_hl(hh, hl, m, n) {\n  var wh = new Int32Array(16), wl = new Int32Array(16),\n      bh0, bh1, bh2, bh3, bh4, bh5, bh6, bh7,\n      bl0, bl1, bl2, bl3, bl4, bl5, bl6, bl7,\n      th, tl, i, j, h, l, a, b, c, d;\n\n  var ah0 = hh[0],\n      ah1 = hh[1],\n      ah2 = hh[2],\n      ah3 = hh[3],\n      ah4 = hh[4],\n      ah5 = hh[5],\n      ah6 = hh[6],\n      ah7 = hh[7],\n\n      al0 = hl[0],\n      al1 = hl[1],\n      al2 = hl[2],\n      al3 = hl[3],\n      al4 = hl[4],\n      al5 = hl[5],\n      al6 = hl[6],\n      al7 = hl[7];\n\n  var pos = 0;\n  while (n >= 128) {\n    for (i = 0; i < 16; i++) {\n      j = 8 * i + pos;\n      wh[i] = (m[j+0] << 24) | (m[j+1] << 16) | (m[j+2] << 8) | m[j+3];\n      wl[i] = (m[j+4] << 24) | (m[j+5] << 16) | (m[j+6] << 8) | m[j+7];\n    }\n    for (i = 0; i < 80; i++) {\n      bh0 = ah0;\n      bh1 = ah1;\n      bh2 = ah2;\n      bh3 = ah3;\n      bh4 = ah4;\n      bh5 = ah5;\n      bh6 = ah6;\n      bh7 = ah7;\n\n      bl0 = al0;\n      bl1 = al1;\n      bl2 = al2;\n      bl3 = al3;\n      bl4 = al4;\n      bl5 = al5;\n      bl6 = al6;\n      bl7 = al7;\n\n      // add\n      h = ah7;\n      l = al7;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      // Sigma1\n      h = ((ah4 >>> 14) | (al4 << (32-14))) ^ ((ah4 >>> 18) | (al4 << (32-18))) ^ ((al4 >>> (41-32)) | (ah4 << (32-(41-32))));\n      l = ((al4 >>> 14) | (ah4 << (32-14))) ^ ((al4 >>> 18) | (ah4 << (32-18))) ^ ((ah4 >>> (41-32)) | (al4 << (32-(41-32))));\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // Ch\n      h = (ah4 & ah5) ^ (~ah4 & ah6);\n      l = (al4 & al5) ^ (~al4 & al6);\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // K\n      h = K[i*2];\n      l = K[i*2+1];\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // w\n      h = wh[i%16];\n      l = wl[i%16];\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      th = c & 0xffff | d << 16;\n      tl = a & 0xffff | b << 16;\n\n      // add\n      h = th;\n      l = tl;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      // Sigma0\n      h = ((ah0 >>> 28) | (al0 << (32-28))) ^ ((al0 >>> (34-32)) | (ah0 << (32-(34-32)))) ^ ((al0 >>> (39-32)) | (ah0 << (32-(39-32))));\n      l = ((al0 >>> 28) | (ah0 << (32-28))) ^ ((ah0 >>> (34-32)) | (al0 << (32-(34-32)))) ^ ((ah0 >>> (39-32)) | (al0 << (32-(39-32))));\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // Maj\n      h = (ah0 & ah1) ^ (ah0 & ah2) ^ (ah1 & ah2);\n      l = (al0 & al1) ^ (al0 & al2) ^ (al1 & al2);\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      bh7 = (c & 0xffff) | (d << 16);\n      bl7 = (a & 0xffff) | (b << 16);\n\n      // add\n      h = bh3;\n      l = bl3;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      h = th;\n      l = tl;\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      bh3 = (c & 0xffff) | (d << 16);\n      bl3 = (a & 0xffff) | (b << 16);\n\n      ah1 = bh0;\n      ah2 = bh1;\n      ah3 = bh2;\n      ah4 = bh3;\n      ah5 = bh4;\n      ah6 = bh5;\n      ah7 = bh6;\n      ah0 = bh7;\n\n      al1 = bl0;\n      al2 = bl1;\n      al3 = bl2;\n      al4 = bl3;\n      al5 = bl4;\n      al6 = bl5;\n      al7 = bl6;\n      al0 = bl7;\n\n      if (i%16 === 15) {\n        for (j = 0; j < 16; j++) {\n          // add\n          h = wh[j];\n          l = wl[j];\n\n          a = l & 0xffff; b = l >>> 16;\n          c = h & 0xffff; d = h >>> 16;\n\n          h = wh[(j+9)%16];\n          l = wl[(j+9)%16];\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          // sigma0\n          th = wh[(j+1)%16];\n          tl = wl[(j+1)%16];\n          h = ((th >>> 1) | (tl << (32-1))) ^ ((th >>> 8) | (tl << (32-8))) ^ (th >>> 7);\n          l = ((tl >>> 1) | (th << (32-1))) ^ ((tl >>> 8) | (th << (32-8))) ^ ((tl >>> 7) | (th << (32-7)));\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          // sigma1\n          th = wh[(j+14)%16];\n          tl = wl[(j+14)%16];\n          h = ((th >>> 19) | (tl << (32-19))) ^ ((tl >>> (61-32)) | (th << (32-(61-32)))) ^ (th >>> 6);\n          l = ((tl >>> 19) | (th << (32-19))) ^ ((th >>> (61-32)) | (tl << (32-(61-32)))) ^ ((tl >>> 6) | (th << (32-6)));\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          b += a >>> 16;\n          c += b >>> 16;\n          d += c >>> 16;\n\n          wh[j] = (c & 0xffff) | (d << 16);\n          wl[j] = (a & 0xffff) | (b << 16);\n        }\n      }\n    }\n\n    // add\n    h = ah0;\n    l = al0;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[0];\n    l = hl[0];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[0] = ah0 = (c & 0xffff) | (d << 16);\n    hl[0] = al0 = (a & 0xffff) | (b << 16);\n\n    h = ah1;\n    l = al1;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[1];\n    l = hl[1];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[1] = ah1 = (c & 0xffff) | (d << 16);\n    hl[1] = al1 = (a & 0xffff) | (b << 16);\n\n    h = ah2;\n    l = al2;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[2];\n    l = hl[2];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[2] = ah2 = (c & 0xffff) | (d << 16);\n    hl[2] = al2 = (a & 0xffff) | (b << 16);\n\n    h = ah3;\n    l = al3;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[3];\n    l = hl[3];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[3] = ah3 = (c & 0xffff) | (d << 16);\n    hl[3] = al3 = (a & 0xffff) | (b << 16);\n\n    h = ah4;\n    l = al4;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[4];\n    l = hl[4];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[4] = ah4 = (c & 0xffff) | (d << 16);\n    hl[4] = al4 = (a & 0xffff) | (b << 16);\n\n    h = ah5;\n    l = al5;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[5];\n    l = hl[5];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[5] = ah5 = (c & 0xffff) | (d << 16);\n    hl[5] = al5 = (a & 0xffff) | (b << 16);\n\n    h = ah6;\n    l = al6;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[6];\n    l = hl[6];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[6] = ah6 = (c & 0xffff) | (d << 16);\n    hl[6] = al6 = (a & 0xffff) | (b << 16);\n\n    h = ah7;\n    l = al7;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[7];\n    l = hl[7];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[7] = ah7 = (c & 0xffff) | (d << 16);\n    hl[7] = al7 = (a & 0xffff) | (b << 16);\n\n    pos += 128;\n    n -= 128;\n  }\n\n  return n;\n}\n\nfunction crypto_hash(out, m, n) {\n  var hh = new Int32Array(8),\n      hl = new Int32Array(8),\n      x = new Uint8Array(256),\n      i, b = n;\n\n  hh[0] = 0x6a09e667;\n  hh[1] = 0xbb67ae85;\n  hh[2] = 0x3c6ef372;\n  hh[3] = 0xa54ff53a;\n  hh[4] = 0x510e527f;\n  hh[5] = 0x9b05688c;\n  hh[6] = 0x1f83d9ab;\n  hh[7] = 0x5be0cd19;\n\n  hl[0] = 0xf3bcc908;\n  hl[1] = 0x84caa73b;\n  hl[2] = 0xfe94f82b;\n  hl[3] = 0x5f1d36f1;\n  hl[4] = 0xade682d1;\n  hl[5] = 0x2b3e6c1f;\n  hl[6] = 0xfb41bd6b;\n  hl[7] = 0x137e2179;\n\n  crypto_hashblocks_hl(hh, hl, m, n);\n  n %= 128;\n\n  for (i = 0; i < n; i++) x[i] = m[b-n+i];\n  x[n] = 128;\n\n  n = 256-128*(n<112?1:0);\n  x[n-9] = 0;\n  ts64(x, n-8,  (b / 0x20000000) | 0, b << 3);\n  crypto_hashblocks_hl(hh, hl, x, n);\n\n  for (i = 0; i < 8; i++) ts64(out, 8*i, hh[i], hl[i]);\n\n  return 0;\n}\n\nfunction add(p, q) {\n  var a = gf(), b = gf(), c = gf(),\n      d = gf(), e = gf(), f = gf(),\n      g = gf(), h = gf(), t = gf();\n\n  Z(a, p[1], p[0]);\n  Z(t, q[1], q[0]);\n  M(a, a, t);\n  A(b, p[0], p[1]);\n  A(t, q[0], q[1]);\n  M(b, b, t);\n  M(c, p[3], q[3]);\n  M(c, c, D2);\n  M(d, p[2], q[2]);\n  A(d, d, d);\n  Z(e, b, a);\n  Z(f, d, c);\n  A(g, d, c);\n  A(h, b, a);\n\n  M(p[0], e, f);\n  M(p[1], h, g);\n  M(p[2], g, f);\n  M(p[3], e, h);\n}\n\nfunction cswap(p, q, b) {\n  var i;\n  for (i = 0; i < 4; i++) {\n    sel25519(p[i], q[i], b);\n  }\n}\n\nfunction pack(r, p) {\n  var tx = gf(), ty = gf(), zi = gf();\n  inv25519(zi, p[2]);\n  M(tx, p[0], zi);\n  M(ty, p[1], zi);\n  pack25519(r, ty);\n  r[31] ^= par25519(tx) << 7;\n}\n\nfunction scalarmult(p, q, s) {\n  var b, i;\n  set25519(p[0], gf0);\n  set25519(p[1], gf1);\n  set25519(p[2], gf1);\n  set25519(p[3], gf0);\n  for (i = 255; i >= 0; --i) {\n    b = (s[(i/8)|0] >> (i&7)) & 1;\n    cswap(p, q, b);\n    add(q, p);\n    add(p, p);\n    cswap(p, q, b);\n  }\n}\n\nfunction scalarbase(p, s) {\n  var q = [gf(), gf(), gf(), gf()];\n  set25519(q[0], X);\n  set25519(q[1], Y);\n  set25519(q[2], gf1);\n  M(q[3], X, Y);\n  scalarmult(p, q, s);\n}\n\nfunction crypto_sign_keypair(pk, sk, seeded) {\n  var d = new Uint8Array(64);\n  var p = [gf(), gf(), gf(), gf()];\n  var i;\n\n  if (!seeded) randombytes(sk, 32);\n  crypto_hash(d, sk, 32);\n  d[0] &= 248;\n  d[31] &= 127;\n  d[31] |= 64;\n\n  scalarbase(p, d);\n  pack(pk, p);\n\n  for (i = 0; i < 32; i++) sk[i+32] = pk[i];\n  return 0;\n}\n\nvar L = new Float64Array([0xed, 0xd3, 0xf5, 0x5c, 0x1a, 0x63, 0x12, 0x58, 0xd6, 0x9c, 0xf7, 0xa2, 0xde, 0xf9, 0xde, 0x14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x10]);\n\nfunction modL(r, x) {\n  var carry, i, j, k;\n  for (i = 63; i >= 32; --i) {\n    carry = 0;\n    for (j = i - 32, k = i - 12; j < k; ++j) {\n      x[j] += carry - 16 * x[i] * L[j - (i - 32)];\n      carry = (x[j] + 128) >> 8;\n      x[j] -= carry * 256;\n    }\n    x[j] += carry;\n    x[i] = 0;\n  }\n  carry = 0;\n  for (j = 0; j < 32; j++) {\n    x[j] += carry - (x[31] >> 4) * L[j];\n    carry = x[j] >> 8;\n    x[j] &= 255;\n  }\n  for (j = 0; j < 32; j++) x[j] -= carry * L[j];\n  for (i = 0; i < 32; i++) {\n    x[i+1] += x[i] >> 8;\n    r[i] = x[i] & 255;\n  }\n}\n\nfunction reduce(r) {\n  var x = new Float64Array(64), i;\n  for (i = 0; i < 64; i++) x[i] = r[i];\n  for (i = 0; i < 64; i++) r[i] = 0;\n  modL(r, x);\n}\n\n// Note: difference from C - smlen returned, not passed as argument.\nfunction crypto_sign(sm, m, n, sk) {\n  var d = new Uint8Array(64), h = new Uint8Array(64), r = new Uint8Array(64);\n  var i, j, x = new Float64Array(64);\n  var p = [gf(), gf(), gf(), gf()];\n\n  crypto_hash(d, sk, 32);\n  d[0] &= 248;\n  d[31] &= 127;\n  d[31] |= 64;\n\n  var smlen = n + 64;\n  for (i = 0; i < n; i++) sm[64 + i] = m[i];\n  for (i = 0; i < 32; i++) sm[32 + i] = d[32 + i];\n\n  crypto_hash(r, sm.subarray(32), n+32);\n  reduce(r);\n  scalarbase(p, r);\n  pack(sm, p);\n\n  for (i = 32; i < 64; i++) sm[i] = sk[i];\n  crypto_hash(h, sm, n + 64);\n  reduce(h);\n\n  for (i = 0; i < 64; i++) x[i] = 0;\n  for (i = 0; i < 32; i++) x[i] = r[i];\n  for (i = 0; i < 32; i++) {\n    for (j = 0; j < 32; j++) {\n      x[i+j] += h[i] * d[j];\n    }\n  }\n\n  modL(sm.subarray(32), x);\n  return smlen;\n}\n\nfunction unpackneg(r, p) {\n  var t = gf(), chk = gf(), num = gf(),\n      den = gf(), den2 = gf(), den4 = gf(),\n      den6 = gf();\n\n  set25519(r[2], gf1);\n  unpack25519(r[1], p);\n  S(num, r[1]);\n  M(den, num, D);\n  Z(num, num, r[2]);\n  A(den, r[2], den);\n\n  S(den2, den);\n  S(den4, den2);\n  M(den6, den4, den2);\n  M(t, den6, num);\n  M(t, t, den);\n\n  pow2523(t, t);\n  M(t, t, num);\n  M(t, t, den);\n  M(t, t, den);\n  M(r[0], t, den);\n\n  S(chk, r[0]);\n  M(chk, chk, den);\n  if (neq25519(chk, num)) M(r[0], r[0], I);\n\n  S(chk, r[0]);\n  M(chk, chk, den);\n  if (neq25519(chk, num)) return -1;\n\n  if (par25519(r[0]) === (p[31]>>7)) Z(r[0], gf0, r[0]);\n\n  M(r[3], r[0], r[1]);\n  return 0;\n}\n\nfunction crypto_sign_open(m, sm, n, pk) {\n  var i, mlen;\n  var t = new Uint8Array(32), h = new Uint8Array(64);\n  var p = [gf(), gf(), gf(), gf()],\n      q = [gf(), gf(), gf(), gf()];\n\n  mlen = -1;\n  if (n < 64) return -1;\n\n  if (unpackneg(q, pk)) return -1;\n\n  for (i = 0; i < n; i++) m[i] = sm[i];\n  for (i = 0; i < 32; i++) m[i+32] = pk[i];\n  crypto_hash(h, m, n);\n  reduce(h);\n  scalarmult(p, q, h);\n\n  scalarbase(q, sm.subarray(32));\n  add(p, q);\n  pack(t, p);\n\n  n -= 64;\n  if (crypto_verify_32(sm, 0, t, 0)) {\n    for (i = 0; i < n; i++) m[i] = 0;\n    return -1;\n  }\n\n  for (i = 0; i < n; i++) m[i] = sm[i + 64];\n  mlen = n;\n  return mlen;\n}\n\nvar crypto_secretbox_KEYBYTES = 32,\n    crypto_secretbox_NONCEBYTES = 24,\n    crypto_secretbox_ZEROBYTES = 32,\n    crypto_secretbox_BOXZEROBYTES = 16,\n    crypto_scalarmult_BYTES = 32,\n    crypto_scalarmult_SCALARBYTES = 32,\n    crypto_box_PUBLICKEYBYTES = 32,\n    crypto_box_SECRETKEYBYTES = 32,\n    crypto_box_BEFORENMBYTES = 32,\n    crypto_box_NONCEBYTES = crypto_secretbox_NONCEBYTES,\n    crypto_box_ZEROBYTES = crypto_secretbox_ZEROBYTES,\n    crypto_box_BOXZEROBYTES = crypto_secretbox_BOXZEROBYTES,\n    crypto_sign_BYTES = 64,\n    crypto_sign_PUBLICKEYBYTES = 32,\n    crypto_sign_SECRETKEYBYTES = 64,\n    crypto_sign_SEEDBYTES = 32,\n    crypto_hash_BYTES = 64;\n\nnacl.lowlevel = {\n  crypto_core_hsalsa20: crypto_core_hsalsa20,\n  crypto_stream_xor: crypto_stream_xor,\n  crypto_stream: crypto_stream,\n  crypto_stream_salsa20_xor: crypto_stream_salsa20_xor,\n  crypto_stream_salsa20: crypto_stream_salsa20,\n  crypto_onetimeauth: crypto_onetimeauth,\n  crypto_onetimeauth_verify: crypto_onetimeauth_verify,\n  crypto_verify_16: crypto_verify_16,\n  crypto_verify_32: crypto_verify_32,\n  crypto_secretbox: crypto_secretbox,\n  crypto_secretbox_open: crypto_secretbox_open,\n  crypto_scalarmult: crypto_scalarmult,\n  crypto_scalarmult_base: crypto_scalarmult_base,\n  crypto_box_beforenm: crypto_box_beforenm,\n  crypto_box_afternm: crypto_box_afternm,\n  crypto_box: crypto_box,\n  crypto_box_open: crypto_box_open,\n  crypto_box_keypair: crypto_box_keypair,\n  crypto_hash: crypto_hash,\n  crypto_sign: crypto_sign,\n  crypto_sign_keypair: crypto_sign_keypair,\n  crypto_sign_open: crypto_sign_open,\n\n  crypto_secretbox_KEYBYTES: crypto_secretbox_KEYBYTES,\n  crypto_secretbox_NONCEBYTES: crypto_secretbox_NONCEBYTES,\n  crypto_secretbox_ZEROBYTES: crypto_secretbox_ZEROBYTES,\n  crypto_secretbox_BOXZEROBYTES: crypto_secretbox_BOXZEROBYTES,\n  crypto_scalarmult_BYTES: crypto_scalarmult_BYTES,\n  crypto_scalarmult_SCALARBYTES: crypto_scalarmult_SCALARBYTES,\n  crypto_box_PUBLICKEYBYTES: crypto_box_PUBLICKEYBYTES,\n  crypto_box_SECRETKEYBYTES: crypto_box_SECRETKEYBYTES,\n  crypto_box_BEFORENMBYTES: crypto_box_BEFORENMBYTES,\n  crypto_box_NONCEBYTES: crypto_box_NONCEBYTES,\n  crypto_box_ZEROBYTES: crypto_box_ZEROBYTES,\n  crypto_box_BOXZEROBYTES: crypto_box_BOXZEROBYTES,\n  crypto_sign_BYTES: crypto_sign_BYTES,\n  crypto_sign_PUBLICKEYBYTES: crypto_sign_PUBLICKEYBYTES,\n  crypto_sign_SECRETKEYBYTES: crypto_sign_SECRETKEYBYTES,\n  crypto_sign_SEEDBYTES: crypto_sign_SEEDBYTES,\n  crypto_hash_BYTES: crypto_hash_BYTES\n};\n\n/* High-level API */\n\nfunction checkLengths(k, n) {\n  if (k.length !== crypto_secretbox_KEYBYTES) throw new Error('bad key size');\n  if (n.length !== crypto_secretbox_NONCEBYTES) throw new Error('bad nonce size');\n}\n\nfunction checkBoxLengths(pk, sk) {\n  if (pk.length !== crypto_box_PUBLICKEYBYTES) throw new Error('bad public key size');\n  if (sk.length !== crypto_box_SECRETKEYBYTES) throw new Error('bad secret key size');\n}\n\nfunction checkArrayTypes() {\n  for (var i = 0; i < arguments.length; i++) {\n    if (!(arguments[i] instanceof Uint8Array))\n      throw new TypeError('unexpected type, use Uint8Array');\n  }\n}\n\nfunction cleanup(arr) {\n  for (var i = 0; i < arr.length; i++) arr[i] = 0;\n}\n\nnacl.randomBytes = function(n) {\n  var b = new Uint8Array(n);\n  randombytes(b, n);\n  return b;\n};\n\nnacl.secretbox = function(msg, nonce, key) {\n  checkArrayTypes(msg, nonce, key);\n  checkLengths(key, nonce);\n  var m = new Uint8Array(crypto_secretbox_ZEROBYTES + msg.length);\n  var c = new Uint8Array(m.length);\n  for (var i = 0; i < msg.length; i++) m[i+crypto_secretbox_ZEROBYTES] = msg[i];\n  crypto_secretbox(c, m, m.length, nonce, key);\n  return c.subarray(crypto_secretbox_BOXZEROBYTES);\n};\n\nnacl.secretbox.open = function(box, nonce, key) {\n  checkArrayTypes(box, nonce, key);\n  checkLengths(key, nonce);\n  var c = new Uint8Array(crypto_secretbox_BOXZEROBYTES + box.length);\n  var m = new Uint8Array(c.length);\n  for (var i = 0; i < box.length; i++) c[i+crypto_secretbox_BOXZEROBYTES] = box[i];\n  if (c.length < 32) return null;\n  if (crypto_secretbox_open(m, c, c.length, nonce, key) !== 0) return null;\n  return m.subarray(crypto_secretbox_ZEROBYTES);\n};\n\nnacl.secretbox.keyLength = crypto_secretbox_KEYBYTES;\nnacl.secretbox.nonceLength = crypto_secretbox_NONCEBYTES;\nnacl.secretbox.overheadLength = crypto_secretbox_BOXZEROBYTES;\n\nnacl.scalarMult = function(n, p) {\n  checkArrayTypes(n, p);\n  if (n.length !== crypto_scalarmult_SCALARBYTES) throw new Error('bad n size');\n  if (p.length !== crypto_scalarmult_BYTES) throw new Error('bad p size');\n  var q = new Uint8Array(crypto_scalarmult_BYTES);\n  crypto_scalarmult(q, n, p);\n  return q;\n};\n\nnacl.scalarMult.base = function(n) {\n  checkArrayTypes(n);\n  if (n.length !== crypto_scalarmult_SCALARBYTES) throw new Error('bad n size');\n  var q = new Uint8Array(crypto_scalarmult_BYTES);\n  crypto_scalarmult_base(q, n);\n  return q;\n};\n\nnacl.scalarMult.scalarLength = crypto_scalarmult_SCALARBYTES;\nnacl.scalarMult.groupElementLength = crypto_scalarmult_BYTES;\n\nnacl.box = function(msg, nonce, publicKey, secretKey) {\n  var k = nacl.box.before(publicKey, secretKey);\n  return nacl.secretbox(msg, nonce, k);\n};\n\nnacl.box.before = function(publicKey, secretKey) {\n  checkArrayTypes(publicKey, secretKey);\n  checkBoxLengths(publicKey, secretKey);\n  var k = new Uint8Array(crypto_box_BEFORENMBYTES);\n  crypto_box_beforenm(k, publicKey, secretKey);\n  return k;\n};\n\nnacl.box.after = nacl.secretbox;\n\nnacl.box.open = function(msg, nonce, publicKey, secretKey) {\n  var k = nacl.box.before(publicKey, secretKey);\n  return nacl.secretbox.open(msg, nonce, k);\n};\n\nnacl.box.open.after = nacl.secretbox.open;\n\nnacl.box.keyPair = function() {\n  var pk = new Uint8Array(crypto_box_PUBLICKEYBYTES);\n  var sk = new Uint8Array(crypto_box_SECRETKEYBYTES);\n  crypto_box_keypair(pk, sk);\n  return {publicKey: pk, secretKey: sk};\n};\n\nnacl.box.keyPair.fromSecretKey = function(secretKey) {\n  checkArrayTypes(secretKey);\n  if (secretKey.length !== crypto_box_SECRETKEYBYTES)\n    throw new Error('bad secret key size');\n  var pk = new Uint8Array(crypto_box_PUBLICKEYBYTES);\n  crypto_scalarmult_base(pk, secretKey);\n  return {publicKey: pk, secretKey: new Uint8Array(secretKey)};\n};\n\nnacl.box.publicKeyLength = crypto_box_PUBLICKEYBYTES;\nnacl.box.secretKeyLength = crypto_box_SECRETKEYBYTES;\nnacl.box.sharedKeyLength = crypto_box_BEFORENMBYTES;\nnacl.box.nonceLength = crypto_box_NONCEBYTES;\nnacl.box.overheadLength = nacl.secretbox.overheadLength;\n\nnacl.sign = function(msg, secretKey) {\n  checkArrayTypes(msg, secretKey);\n  if (secretKey.length !== crypto_sign_SECRETKEYBYTES)\n    throw new Error('bad secret key size');\n  var signedMsg = new Uint8Array(crypto_sign_BYTES+msg.length);\n  crypto_sign(signedMsg, msg, msg.length, secretKey);\n  return signedMsg;\n};\n\nnacl.sign.open = function(signedMsg, publicKey) {\n  checkArrayTypes(signedMsg, publicKey);\n  if (publicKey.length !== crypto_sign_PUBLICKEYBYTES)\n    throw new Error('bad public key size');\n  var tmp = new Uint8Array(signedMsg.length);\n  var mlen = crypto_sign_open(tmp, signedMsg, signedMsg.length, publicKey);\n  if (mlen < 0) return null;\n  var m = new Uint8Array(mlen);\n  for (var i = 0; i < m.length; i++) m[i] = tmp[i];\n  return m;\n};\n\nnacl.sign.detached = function(msg, secretKey) {\n  var signedMsg = nacl.sign(msg, secretKey);\n  var sig = new Uint8Array(crypto_sign_BYTES);\n  for (var i = 0; i < sig.length; i++) sig[i] = signedMsg[i];\n  return sig;\n};\n\nnacl.sign.detached.verify = function(msg, sig, publicKey) {\n  checkArrayTypes(msg, sig, publicKey);\n  if (sig.length !== crypto_sign_BYTES)\n    throw new Error('bad signature size');\n  if (publicKey.length !== crypto_sign_PUBLICKEYBYTES)\n    throw new Error('bad public key size');\n  var sm = new Uint8Array(crypto_sign_BYTES + msg.length);\n  var m = new Uint8Array(crypto_sign_BYTES + msg.length);\n  var i;\n  for (i = 0; i < crypto_sign_BYTES; i++) sm[i] = sig[i];\n  for (i = 0; i < msg.length; i++) sm[i+crypto_sign_BYTES] = msg[i];\n  return (crypto_sign_open(m, sm, sm.length, publicKey) >= 0);\n};\n\nnacl.sign.keyPair = function() {\n  var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n  var sk = new Uint8Array(crypto_sign_SECRETKEYBYTES);\n  crypto_sign_keypair(pk, sk);\n  return {publicKey: pk, secretKey: sk};\n};\n\nnacl.sign.keyPair.fromSecretKey = function(secretKey) {\n  checkArrayTypes(secretKey);\n  if (secretKey.length !== crypto_sign_SECRETKEYBYTES)\n    throw new Error('bad secret key size');\n  var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n  for (var i = 0; i < pk.length; i++) pk[i] = secretKey[32+i];\n  return {publicKey: pk, secretKey: new Uint8Array(secretKey)};\n};\n\nnacl.sign.keyPair.fromSeed = function(seed) {\n  checkArrayTypes(seed);\n  if (seed.length !== crypto_sign_SEEDBYTES)\n    throw new Error('bad seed size');\n  var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n  var sk = new Uint8Array(crypto_sign_SECRETKEYBYTES);\n  for (var i = 0; i < 32; i++) sk[i] = seed[i];\n  crypto_sign_keypair(pk, sk, true);\n  return {publicKey: pk, secretKey: sk};\n};\n\nnacl.sign.publicKeyLength = crypto_sign_PUBLICKEYBYTES;\nnacl.sign.secretKeyLength = crypto_sign_SECRETKEYBYTES;\nnacl.sign.seedLength = crypto_sign_SEEDBYTES;\nnacl.sign.signatureLength = crypto_sign_BYTES;\n\nnacl.hash = function(msg) {\n  checkArrayTypes(msg);\n  var h = new Uint8Array(crypto_hash_BYTES);\n  crypto_hash(h, msg, msg.length);\n  return h;\n};\n\nnacl.hash.hashLength = crypto_hash_BYTES;\n\nnacl.verify = function(x, y) {\n  checkArrayTypes(x, y);\n  // Zero length arguments are considered not equal.\n  if (x.length === 0 || y.length === 0) return false;\n  if (x.length !== y.length) return false;\n  return (vn(x, 0, y, 0, x.length) === 0) ? true : false;\n};\n\nnacl.setPRNG = function(fn) {\n  randombytes = fn;\n};\n\n(function() {\n  // Initialize PRNG if environment provides CSPRNG.\n  // If not, methods calling randombytes will throw.\n  var crypto = typeof self !== 'undefined' ? (self.crypto || self.msCrypto) : null;\n  if (crypto && crypto.getRandomValues) {\n    // Browsers.\n    var QUOTA = 65536;\n    nacl.setPRNG(function(x, n) {\n      var i, v = new Uint8Array(n);\n      for (i = 0; i < n; i += QUOTA) {\n        crypto.getRandomValues(v.subarray(i, i + Math.min(n - i, QUOTA)));\n      }\n      for (i = 0; i < n; i++) x[i] = v[i];\n      cleanup(v);\n    });\n  } else if (true) {\n    // Node.js.\n    crypto = __webpack_require__(3);\n    if (crypto && crypto.randomBytes) {\n      nacl.setPRNG(function(x, n) {\n        var i, v = crypto.randomBytes(n);\n        for (i = 0; i < n; i++) x[i] = v[i];\n        cleanup(v);\n      });\n    }\n  }\n})();\n\n})( true && module.exports ? module.exports : (self.nacl = self.nacl || {}));\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// Written in 2014-2016 by Dmitry Chestnykh and Devi Mandiri.\n// Public domain.\n(function(root, f) {\n  'use strict';\n  if ( true && module.exports) module.exports = f();\n  else if (root.nacl) root.nacl.util = f();\n  else {\n    root.nacl = {};\n    root.nacl.util = f();\n  }\n}(this, function() {\n  'use strict';\n\n  var util = {};\n\n  function validateBase64(s) {\n    if (!(/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(s))) {\n      throw new TypeError('invalid encoding');\n    }\n  }\n\n  util.decodeUTF8 = function(s) {\n    if (typeof s !== 'string') throw new TypeError('expected string');\n    var i, d = unescape(encodeURIComponent(s)), b = new Uint8Array(d.length);\n    for (i = 0; i < d.length; i++) b[i] = d.charCodeAt(i);\n    return b;\n  };\n\n  util.encodeUTF8 = function(arr) {\n    var i, s = [];\n    for (i = 0; i < arr.length; i++) s.push(String.fromCharCode(arr[i]));\n    return decodeURIComponent(escape(s.join('')));\n  };\n\n  if (typeof atob === 'undefined') {\n    // Node.js\n\n    if (typeof Buffer.from !== 'undefined') {\n       // Node v6 and later\n      util.encodeBase64 = function (arr) { // v6 and later\n          return Buffer.from(arr).toString('base64');\n      };\n\n      util.decodeBase64 = function (s) {\n        validateBase64(s);\n        return new Uint8Array(Array.prototype.slice.call(Buffer.from(s, 'base64'), 0));\n      };\n\n    } else {\n      // Node earlier than v6\n      util.encodeBase64 = function (arr) { // v6 and later\n        return (new Buffer(arr)).toString('base64');\n      };\n\n      util.decodeBase64 = function(s) {\n        validateBase64(s);\n        return new Uint8Array(Array.prototype.slice.call(new Buffer(s, 'base64'), 0));\n      };\n    }\n\n  } else {\n    // Browsers\n\n    util.encodeBase64 = function(arr) {\n      var i, s = [], len = arr.length;\n      for (i = 0; i < len; i++) s.push(String.fromCharCode(arr[i]));\n      return btoa(s.join(''));\n    };\n\n    util.decodeBase64 = function(s) {\n      validateBase64(s);\n      var i, d = atob(s), b = new Uint8Array(d.length);\n      for (i = 0; i < d.length; i++) b[i] = d.charCodeAt(i);\n      return b;\n    };\n\n  }\n\n  return util;\n\n}));\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// required so we don't have to do require('pusher').default etc.\nmodule.exports = __webpack_require__(4).default;\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n/* 4 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./src/runtimes/web/dom/script_receiver_factory.ts\nvar ScriptReceiverFactory = (function () {\n    function ScriptReceiverFactory(prefix, name) {\n        this.lastId = 0;\n        this.prefix = prefix;\n        this.name = name;\n    }\n    ScriptReceiverFactory.prototype.create = function (callback) {\n        this.lastId++;\n        var number = this.lastId;\n        var id = this.prefix + number;\n        var name = this.name + \"[\" + number + \"]\";\n        var called = false;\n        var callbackWrapper = function () {\n            if (!called) {\n                callback.apply(null, arguments);\n                called = true;\n            }\n        };\n        this[number] = callbackWrapper;\n        return { number: number, id: id, name: name, callback: callbackWrapper };\n    };\n    ScriptReceiverFactory.prototype.remove = function (receiver) {\n        delete this[receiver.number];\n    };\n    return ScriptReceiverFactory;\n}());\n\nvar ScriptReceivers = new ScriptReceiverFactory(\"_pusher_script_\", \"Pusher.ScriptReceivers\");\n\n// CONCATENATED MODULE: ./src/core/defaults.ts\nvar Defaults = {\n    VERSION: \"5.0.2\",\n    PROTOCOL: 7,\n    host: 'ws.pusherapp.com',\n    ws_port: 80,\n    wss_port: 443,\n    ws_path: '',\n    sockjs_host: 'sockjs.pusher.com',\n    sockjs_http_port: 80,\n    sockjs_https_port: 443,\n    sockjs_path: '/pusher',\n    stats_host: 'stats.pusher.com',\n    channel_auth_endpoint: '/pusher/auth',\n    channel_auth_transport: 'ajax',\n    activity_timeout: 120000,\n    pong_timeout: 30000,\n    unavailable_timeout: 10000,\n    cdn_http: \"http://js.pusher.com\",\n    cdn_https: \"https://js.pusher.com\",\n    dependency_suffix: \"\"\n};\n/* harmony default export */ var defaults = (Defaults);\n\n// CONCATENATED MODULE: ./src/runtimes/web/dom/dependency_loader.ts\n\n\nvar dependency_loader_DependencyLoader = (function () {\n    function DependencyLoader(options) {\n        this.options = options;\n        this.receivers = options.receivers || ScriptReceivers;\n        this.loading = {};\n    }\n    DependencyLoader.prototype.load = function (name, options, callback) {\n        var self = this;\n        if (self.loading[name] && self.loading[name].length > 0) {\n            self.loading[name].push(callback);\n        }\n        else {\n            self.loading[name] = [callback];\n            var request = runtime.createScriptRequest(self.getPath(name, options));\n            var receiver = self.receivers.create(function (error) {\n                self.receivers.remove(receiver);\n                if (self.loading[name]) {\n                    var callbacks = self.loading[name];\n                    delete self.loading[name];\n                    var successCallback = function (wasSuccessful) {\n                        if (!wasSuccessful) {\n                            request.cleanup();\n                        }\n                    };\n                    for (var i = 0; i < callbacks.length; i++) {\n                        callbacks[i](error, successCallback);\n                    }\n                }\n            });\n            request.send(receiver);\n        }\n    };\n    DependencyLoader.prototype.getRoot = function (options) {\n        var cdn;\n        var protocol = runtime.getDocument().location.protocol;\n        if ((options && options.useTLS) || protocol === \"https:\") {\n            cdn = this.options.cdn_https;\n        }\n        else {\n            cdn = this.options.cdn_http;\n        }\n        return cdn.replace(/\\/*$/, \"\") + \"/\" + this.options.version;\n    };\n    DependencyLoader.prototype.getPath = function (name, options) {\n        return this.getRoot(options) + '/' + name + this.options.suffix + '.js';\n    };\n    ;\n    return DependencyLoader;\n}());\n/* harmony default export */ var dependency_loader = (dependency_loader_DependencyLoader);\n\n// CONCATENATED MODULE: ./src/runtimes/web/dom/dependencies.ts\n\n\n\nvar DependenciesReceivers = new ScriptReceiverFactory(\"_pusher_dependencies\", \"Pusher.DependenciesReceivers\");\nvar Dependencies = new dependency_loader({\n    cdn_http: defaults.cdn_http,\n    cdn_https: defaults.cdn_https,\n    version: defaults.VERSION,\n    suffix: defaults.dependency_suffix,\n    receivers: DependenciesReceivers\n});\n\n// CONCATENATED MODULE: ./src/core/base64.ts\nfunction encode(s) {\n    return btoa(utob(s));\n}\nvar fromCharCode = String.fromCharCode;\nvar b64chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\nvar b64tab = {};\nfor (var base64_i = 0, l = b64chars.length; base64_i < l; base64_i++) {\n    b64tab[b64chars.charAt(base64_i)] = base64_i;\n}\nvar cb_utob = function (c) {\n    var cc = c.charCodeAt(0);\n    return cc < 0x80\n        ? c\n        : cc < 0x800\n            ? fromCharCode(0xc0 | (cc >>> 6)) + fromCharCode(0x80 | (cc & 0x3f))\n            : fromCharCode(0xe0 | ((cc >>> 12) & 0x0f)) +\n                fromCharCode(0x80 | ((cc >>> 6) & 0x3f)) +\n                fromCharCode(0x80 | (cc & 0x3f));\n};\nvar utob = function (u) {\n    return u.replace(/[^\\x00-\\x7F]/g, cb_utob);\n};\nvar cb_encode = function (ccc) {\n    var padlen = [0, 2, 1][ccc.length % 3];\n    var ord = (ccc.charCodeAt(0) << 16) |\n        ((ccc.length > 1 ? ccc.charCodeAt(1) : 0) << 8) |\n        (ccc.length > 2 ? ccc.charCodeAt(2) : 0);\n    var chars = [\n        b64chars.charAt(ord >>> 18),\n        b64chars.charAt((ord >>> 12) & 63),\n        padlen >= 2 ? '=' : b64chars.charAt((ord >>> 6) & 63),\n        padlen >= 1 ? '=' : b64chars.charAt(ord & 63)\n    ];\n    return chars.join('');\n};\nvar btoa = window.btoa ||\n    function (b) {\n        return b.replace(/[\\s\\S]{1,3}/g, cb_encode);\n    };\n\n// CONCATENATED MODULE: ./src/core/utils/timers/abstract_timer.ts\nvar Timer = (function () {\n    function Timer(set, clear, delay, callback) {\n        var _this = this;\n        this.clear = clear;\n        this.timer = set(function () {\n            if (_this.timer) {\n                _this.timer = callback(_this.timer);\n            }\n        }, delay);\n    }\n    Timer.prototype.isRunning = function () {\n        return this.timer !== null;\n    };\n    Timer.prototype.ensureAborted = function () {\n        if (this.timer) {\n            this.clear(this.timer);\n            this.timer = null;\n        }\n    };\n    return Timer;\n}());\n/* harmony default export */ var abstract_timer = (Timer);\n\n// CONCATENATED MODULE: ./src/core/utils/timers/index.ts\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nfunction timers_clearTimeout(timer) {\n    window.clearTimeout(timer);\n}\nfunction timers_clearInterval(timer) {\n    window.clearInterval(timer);\n}\nvar OneOffTimer = (function (_super) {\n    __extends(OneOffTimer, _super);\n    function OneOffTimer(delay, callback) {\n        return _super.call(this, setTimeout, timers_clearTimeout, delay, function (timer) {\n            callback();\n            return null;\n        }) || this;\n    }\n    return OneOffTimer;\n}(abstract_timer));\n\nvar PeriodicTimer = (function (_super) {\n    __extends(PeriodicTimer, _super);\n    function PeriodicTimer(delay, callback) {\n        return _super.call(this, setInterval, timers_clearInterval, delay, function (timer) {\n            callback();\n            return timer;\n        }) || this;\n    }\n    return PeriodicTimer;\n}(abstract_timer));\n\n\n// CONCATENATED MODULE: ./src/core/util.ts\n\nvar Util = {\n    now: function () {\n        if (Date.now) {\n            return Date.now();\n        }\n        else {\n            return new Date().valueOf();\n        }\n    },\n    defer: function (callback) {\n        return new OneOffTimer(0, callback);\n    },\n    method: function (name) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var boundArguments = Array.prototype.slice.call(arguments, 1);\n        return function (object) {\n            return object[name].apply(object, boundArguments.concat(arguments));\n        };\n    }\n};\n/* harmony default export */ var util = (Util);\n\n// CONCATENATED MODULE: ./src/core/utils/collections.ts\n\n\nfunction extend(target) {\n    var sources = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        sources[_i - 1] = arguments[_i];\n    }\n    for (var i = 0; i < sources.length; i++) {\n        var extensions = sources[i];\n        for (var property in extensions) {\n            if (extensions[property] && extensions[property].constructor &&\n                extensions[property].constructor === Object) {\n                target[property] = extend(target[property] || {}, extensions[property]);\n            }\n            else {\n                target[property] = extensions[property];\n            }\n        }\n    }\n    return target;\n}\nfunction stringify() {\n    var m = [\"Pusher\"];\n    for (var i = 0; i < arguments.length; i++) {\n        if (typeof arguments[i] === \"string\") {\n            m.push(arguments[i]);\n        }\n        else {\n            m.push(safeJSONStringify(arguments[i]));\n        }\n    }\n    return m.join(\" : \");\n}\nfunction arrayIndexOf(array, item) {\n    var nativeIndexOf = Array.prototype.indexOf;\n    if (array === null) {\n        return -1;\n    }\n    if (nativeIndexOf && array.indexOf === nativeIndexOf) {\n        return array.indexOf(item);\n    }\n    for (var i = 0, l = array.length; i < l; i++) {\n        if (array[i] === item) {\n            return i;\n        }\n    }\n    return -1;\n}\nfunction objectApply(object, f) {\n    for (var key in object) {\n        if (Object.prototype.hasOwnProperty.call(object, key)) {\n            f(object[key], key, object);\n        }\n    }\n}\nfunction keys(object) {\n    var keys = [];\n    objectApply(object, function (_, key) {\n        keys.push(key);\n    });\n    return keys;\n}\nfunction values(object) {\n    var values = [];\n    objectApply(object, function (value) {\n        values.push(value);\n    });\n    return values;\n}\nfunction apply(array, f, context) {\n    for (var i = 0; i < array.length; i++) {\n        f.call(context || window, array[i], i, array);\n    }\n}\nfunction map(array, f) {\n    var result = [];\n    for (var i = 0; i < array.length; i++) {\n        result.push(f(array[i], i, array, result));\n    }\n    return result;\n}\nfunction mapObject(object, f) {\n    var result = {};\n    objectApply(object, function (value, key) {\n        result[key] = f(value);\n    });\n    return result;\n}\nfunction filter(array, test) {\n    test = test || function (value) { return !!value; };\n    var result = [];\n    for (var i = 0; i < array.length; i++) {\n        if (test(array[i], i, array, result)) {\n            result.push(array[i]);\n        }\n    }\n    return result;\n}\nfunction filterObject(object, test) {\n    var result = {};\n    objectApply(object, function (value, key) {\n        if ((test && test(value, key, object, result)) || Boolean(value)) {\n            result[key] = value;\n        }\n    });\n    return result;\n}\nfunction flatten(object) {\n    var result = [];\n    objectApply(object, function (value, key) {\n        result.push([key, value]);\n    });\n    return result;\n}\nfunction any(array, test) {\n    for (var i = 0; i < array.length; i++) {\n        if (test(array[i], i, array)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction collections_all(array, test) {\n    for (var i = 0; i < array.length; i++) {\n        if (!test(array[i], i, array)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction encodeParamsObject(data) {\n    return mapObject(data, function (value) {\n        if (typeof value === \"object\") {\n            value = safeJSONStringify(value);\n        }\n        return encodeURIComponent(encode(value.toString()));\n    });\n}\nfunction buildQueryString(data) {\n    var params = filterObject(data, function (value) {\n        return value !== undefined;\n    });\n    var query = map(flatten(encodeParamsObject(params)), util.method(\"join\", \"=\")).join(\"&\");\n    return query;\n}\nfunction decycleObject(object) {\n    var objects = [], paths = [];\n    return (function derez(value, path) {\n        var i, name, nu;\n        switch (typeof value) {\n            case 'object':\n                if (!value) {\n                    return null;\n                }\n                for (i = 0; i < objects.length; i += 1) {\n                    if (objects[i] === value) {\n                        return { $ref: paths[i] };\n                    }\n                }\n                objects.push(value);\n                paths.push(path);\n                if (Object.prototype.toString.apply(value) === '[object Array]') {\n                    nu = [];\n                    for (i = 0; i < value.length; i += 1) {\n                        nu[i] = derez(value[i], path + '[' + i + ']');\n                    }\n                }\n                else {\n                    nu = {};\n                    for (name in value) {\n                        if (Object.prototype.hasOwnProperty.call(value, name)) {\n                            nu[name] = derez(value[name], path + '[' + JSON.stringify(name) + ']');\n                        }\n                    }\n                }\n                return nu;\n            case 'number':\n            case 'string':\n            case 'boolean':\n                return value;\n        }\n    }(object, '$'));\n}\nfunction safeJSONStringify(source) {\n    try {\n        return JSON.stringify(source);\n    }\n    catch (e) {\n        return JSON.stringify(decycleObject(source));\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/logger.ts\n\n\nvar Logger = {\n    debug: function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (!core_pusher.log) {\n            return;\n        }\n        core_pusher.log(stringify.apply(this, arguments));\n    },\n    warn: function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var message = stringify.apply(this, arguments);\n        if (core_pusher.log) {\n            core_pusher.log(message);\n        }\n        else if (window.console) {\n            if (window.console.warn) {\n                window.console.warn(message);\n            }\n            else if (window.console.log) {\n                window.console.log(message);\n            }\n        }\n    }\n};\n/* harmony default export */ var logger = (Logger);\n\n// CONCATENATED MODULE: ./src/core/utils/url_store.ts\nvar urlStore = {\n    baseUrl: \"https://pusher.com\",\n    urls: {\n        authenticationEndpoint: {\n            path: \"/docs/authenticating_users\",\n        },\n        javascriptQuickStart: {\n            path: \"/docs/javascript_quick_start\"\n        },\n        triggeringClientEvents: {\n            path: \"/docs/client_api_guide/client_events#trigger-events\"\n        }\n    }\n};\nvar buildLogSuffix = function (key) {\n    var urlPrefix = \"See:\";\n    var urlObj = urlStore.urls[key];\n    if (!urlObj)\n        return \"\";\n    var url;\n    if (urlObj.fullUrl) {\n        url = urlObj.fullUrl;\n    }\n    else if (urlObj.path) {\n        url = urlStore.baseUrl + urlObj.path;\n    }\n    if (!url)\n        return \"\";\n    return urlPrefix + \" \" + url;\n};\n/* harmony default export */ var url_store = ({ buildLogSuffix: buildLogSuffix });\n\n// CONCATENATED MODULE: ./src/runtimes/isomorphic/auth/xhr_auth.ts\n\n\n\nvar ajax = function (context, socketId, callback) {\n    var self = this, xhr;\n    xhr = runtime.createXHR();\n    xhr.open(\"POST\", self.options.authEndpoint, true);\n    xhr.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\n    for (var headerName in this.authOptions.headers) {\n        xhr.setRequestHeader(headerName, this.authOptions.headers[headerName]);\n    }\n    xhr.onreadystatechange = function () {\n        if (xhr.readyState === 4) {\n            if (xhr.status === 200) {\n                var data, parsed = false;\n                try {\n                    data = JSON.parse(xhr.responseText);\n                    parsed = true;\n                }\n                catch (e) {\n                    callback(true, 'JSON returned from webapp was invalid, yet status code was 200. Data was: ' + xhr.responseText);\n                }\n                if (parsed) {\n                    callback(false, data);\n                }\n            }\n            else {\n                var suffix = url_store.buildLogSuffix(\"authenticationEndpoint\");\n                logger.warn('Unable to retrieve auth string from auth endpoint - ' +\n                    (\"received status \" + xhr.status + \" from \" + self.options.authEndpoint + \". \") +\n                    (\"Clients must be authenticated to join private or presence channels. \" + suffix));\n                callback(true, xhr.status);\n            }\n        }\n    };\n    xhr.send(this.composeQuery(socketId));\n    return xhr;\n};\n/* harmony default export */ var xhr_auth = (ajax);\n\n// CONCATENATED MODULE: ./src/runtimes/web/auth/jsonp_auth.ts\n\nvar jsonp = function (context, socketId, callback) {\n    if (this.authOptions.headers !== undefined) {\n        logger.warn(\"Warn\", \"To send headers with the auth request, you must use AJAX, rather than JSONP.\");\n    }\n    var callbackName = context.nextAuthCallbackID.toString();\n    context.nextAuthCallbackID++;\n    var document = context.getDocument();\n    var script = document.createElement(\"script\");\n    context.auth_callbacks[callbackName] = function (data) {\n        callback(false, data);\n    };\n    var callback_name = \"Pusher.auth_callbacks['\" + callbackName + \"']\";\n    script.src = this.options.authEndpoint +\n        '?callback=' +\n        encodeURIComponent(callback_name) +\n        '&' +\n        this.composeQuery(socketId);\n    var head = document.getElementsByTagName(\"head\")[0] || document.documentElement;\n    head.insertBefore(script, head.firstChild);\n};\n/* harmony default export */ var jsonp_auth = (jsonp);\n\n// CONCATENATED MODULE: ./src/runtimes/web/dom/script_request.ts\nvar ScriptRequest = (function () {\n    function ScriptRequest(src) {\n        this.src = src;\n    }\n    ScriptRequest.prototype.send = function (receiver) {\n        var self = this;\n        var errorString = \"Error loading \" + self.src;\n        self.script = document.createElement(\"script\");\n        self.script.id = receiver.id;\n        self.script.src = self.src;\n        self.script.type = \"text/javascript\";\n        self.script.charset = \"UTF-8\";\n        if (self.script.addEventListener) {\n            self.script.onerror = function () {\n                receiver.callback(errorString);\n            };\n            self.script.onload = function () {\n                receiver.callback(null);\n            };\n        }\n        else {\n            self.script.onreadystatechange = function () {\n                if (self.script.readyState === 'loaded' ||\n                    self.script.readyState === 'complete') {\n                    receiver.callback(null);\n                }\n            };\n        }\n        if (self.script.async === undefined && document.attachEvent &&\n            /opera/i.test(navigator.userAgent)) {\n            self.errorScript = document.createElement(\"script\");\n            self.errorScript.id = receiver.id + \"_error\";\n            self.errorScript.text = receiver.name + \"('\" + errorString + \"');\";\n            self.script.async = self.errorScript.async = false;\n        }\n        else {\n            self.script.async = true;\n        }\n        var head = document.getElementsByTagName('head')[0];\n        head.insertBefore(self.script, head.firstChild);\n        if (self.errorScript) {\n            head.insertBefore(self.errorScript, self.script.nextSibling);\n        }\n    };\n    ScriptRequest.prototype.cleanup = function () {\n        if (this.script) {\n            this.script.onload = this.script.onerror = null;\n            this.script.onreadystatechange = null;\n        }\n        if (this.script && this.script.parentNode) {\n            this.script.parentNode.removeChild(this.script);\n        }\n        if (this.errorScript && this.errorScript.parentNode) {\n            this.errorScript.parentNode.removeChild(this.errorScript);\n        }\n        this.script = null;\n        this.errorScript = null;\n    };\n    return ScriptRequest;\n}());\n/* harmony default export */ var script_request = (ScriptRequest);\n\n// CONCATENATED MODULE: ./src/runtimes/web/dom/jsonp_request.ts\n\n\nvar jsonp_request_JSONPRequest = (function () {\n    function JSONPRequest(url, data) {\n        this.url = url;\n        this.data = data;\n    }\n    JSONPRequest.prototype.send = function (receiver) {\n        if (this.request) {\n            return;\n        }\n        var query = buildQueryString(this.data);\n        var url = this.url + \"/\" + receiver.number + \"?\" + query;\n        this.request = runtime.createScriptRequest(url);\n        this.request.send(receiver);\n    };\n    JSONPRequest.prototype.cleanup = function () {\n        if (this.request) {\n            this.request.cleanup();\n        }\n    };\n    return JSONPRequest;\n}());\n/* harmony default export */ var jsonp_request = (jsonp_request_JSONPRequest);\n\n// CONCATENATED MODULE: ./src/runtimes/web/timeline/jsonp_timeline.ts\n\n\nvar getAgent = function (sender, useTLS) {\n    return function (data, callback) {\n        var scheme = \"http\" + (useTLS ? \"s\" : \"\") + \"://\";\n        var url = scheme + (sender.host || sender.options.host) + sender.options.path;\n        var request = runtime.createJSONPRequest(url, data);\n        var receiver = runtime.ScriptReceivers.create(function (error, result) {\n            ScriptReceivers.remove(receiver);\n            request.cleanup();\n            if (result && result.host) {\n                sender.host = result.host;\n            }\n            if (callback) {\n                callback(error, result);\n            }\n        });\n        request.send(receiver);\n    };\n};\nvar jsonp_timeline_jsonp = {\n    name: 'jsonp',\n    getAgent: getAgent\n};\n/* harmony default export */ var jsonp_timeline = (jsonp_timeline_jsonp);\n\n// CONCATENATED MODULE: ./src/core/transports/url_schemes.ts\n\nfunction getGenericURL(baseScheme, params, path) {\n    var scheme = baseScheme + (params.useTLS ? \"s\" : \"\");\n    var host = params.useTLS ? params.hostTLS : params.hostNonTLS;\n    return scheme + \"://\" + host + path;\n}\nfunction getGenericPath(key, queryString) {\n    var path = \"/app/\" + key;\n    var query = \"?protocol=\" + defaults.PROTOCOL +\n        \"&client=js\" +\n        \"&version=\" + defaults.VERSION +\n        (queryString ? (\"&\" + queryString) : \"\");\n    return path + query;\n}\nvar ws = {\n    getInitial: function (key, params) {\n        var path = (params.httpPath || \"\") + getGenericPath(key, \"flash=false\");\n        return getGenericURL(\"ws\", params, path);\n    }\n};\nvar http = {\n    getInitial: function (key, params) {\n        var path = (params.httpPath || \"/pusher\") + getGenericPath(key);\n        return getGenericURL(\"http\", params, path);\n    }\n};\nvar sockjs = {\n    getInitial: function (key, params) {\n        return getGenericURL(\"http\", params, params.httpPath || \"/pusher\");\n    },\n    getPath: function (key, params) {\n        return getGenericPath(key);\n    }\n};\n\n// CONCATENATED MODULE: ./src/core/events/callback_registry.ts\n\nvar callback_registry_CallbackRegistry = (function () {\n    function CallbackRegistry() {\n        this._callbacks = {};\n    }\n    CallbackRegistry.prototype.get = function (name) {\n        return this._callbacks[prefix(name)];\n    };\n    CallbackRegistry.prototype.add = function (name, callback, context) {\n        var prefixedEventName = prefix(name);\n        this._callbacks[prefixedEventName] = this._callbacks[prefixedEventName] || [];\n        this._callbacks[prefixedEventName].push({\n            fn: callback,\n            context: context\n        });\n    };\n    CallbackRegistry.prototype.remove = function (name, callback, context) {\n        if (!name && !callback && !context) {\n            this._callbacks = {};\n            return;\n        }\n        var names = name ? [prefix(name)] : keys(this._callbacks);\n        if (callback || context) {\n            this.removeCallback(names, callback, context);\n        }\n        else {\n            this.removeAllCallbacks(names);\n        }\n    };\n    CallbackRegistry.prototype.removeCallback = function (names, callback, context) {\n        apply(names, function (name) {\n            this._callbacks[name] = filter(this._callbacks[name] || [], function (binding) {\n                return (callback && callback !== binding.fn) ||\n                    (context && context !== binding.context);\n            });\n            if (this._callbacks[name].length === 0) {\n                delete this._callbacks[name];\n            }\n        }, this);\n    };\n    CallbackRegistry.prototype.removeAllCallbacks = function (names) {\n        apply(names, function (name) {\n            delete this._callbacks[name];\n        }, this);\n    };\n    return CallbackRegistry;\n}());\n/* harmony default export */ var callback_registry = (callback_registry_CallbackRegistry);\nfunction prefix(name) {\n    return \"_\" + name;\n}\n\n// CONCATENATED MODULE: ./src/core/events/dispatcher.ts\n\n\nvar dispatcher_Dispatcher = (function () {\n    function Dispatcher(failThrough) {\n        this.callbacks = new callback_registry();\n        this.global_callbacks = [];\n        this.failThrough = failThrough;\n    }\n    Dispatcher.prototype.bind = function (eventName, callback, context) {\n        this.callbacks.add(eventName, callback, context);\n        return this;\n    };\n    Dispatcher.prototype.bind_global = function (callback) {\n        this.global_callbacks.push(callback);\n        return this;\n    };\n    Dispatcher.prototype.unbind = function (eventName, callback, context) {\n        this.callbacks.remove(eventName, callback, context);\n        return this;\n    };\n    Dispatcher.prototype.unbind_global = function (callback) {\n        if (!callback) {\n            this.global_callbacks = [];\n            return this;\n        }\n        this.global_callbacks = filter(this.global_callbacks || [], function (c) { return c !== callback; });\n        return this;\n    };\n    Dispatcher.prototype.unbind_all = function () {\n        this.unbind();\n        this.unbind_global();\n        return this;\n    };\n    Dispatcher.prototype.emit = function (eventName, data, metadata) {\n        for (var i = 0; i < this.global_callbacks.length; i++) {\n            this.global_callbacks[i](eventName, data);\n        }\n        var callbacks = this.callbacks.get(eventName);\n        var args = [];\n        if (metadata) {\n            args.push(data, metadata);\n        }\n        else if (data) {\n            args.push(data);\n        }\n        if (callbacks && callbacks.length > 0) {\n            for (var i = 0; i < callbacks.length; i++) {\n                callbacks[i].fn.apply(callbacks[i].context || window, args);\n            }\n        }\n        else if (this.failThrough) {\n            this.failThrough(eventName, data);\n        }\n        return this;\n    };\n    return Dispatcher;\n}());\n/* harmony default export */ var dispatcher = (dispatcher_Dispatcher);\n\n// CONCATENATED MODULE: ./src/core/transports/transport_connection.ts\nvar transport_connection_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar transport_connection_TransportConnection = (function (_super) {\n    transport_connection_extends(TransportConnection, _super);\n    function TransportConnection(hooks, name, priority, key, options) {\n        var _this = _super.call(this) || this;\n        _this.initialize = runtime.transportConnectionInitializer;\n        _this.hooks = hooks;\n        _this.name = name;\n        _this.priority = priority;\n        _this.key = key;\n        _this.options = options;\n        _this.state = \"new\";\n        _this.timeline = options.timeline;\n        _this.activityTimeout = options.activityTimeout;\n        _this.id = _this.timeline.generateUniqueID();\n        return _this;\n    }\n    TransportConnection.prototype.handlesActivityChecks = function () {\n        return Boolean(this.hooks.handlesActivityChecks);\n    };\n    TransportConnection.prototype.supportsPing = function () {\n        return Boolean(this.hooks.supportsPing);\n    };\n    TransportConnection.prototype.connect = function () {\n        var _this = this;\n        if (this.socket || this.state !== \"initialized\") {\n            return false;\n        }\n        var url = this.hooks.urls.getInitial(this.key, this.options);\n        try {\n            this.socket = this.hooks.getSocket(url, this.options);\n        }\n        catch (e) {\n            util.defer(function () {\n                _this.onError(e);\n                _this.changeState(\"closed\");\n            });\n            return false;\n        }\n        this.bindListeners();\n        logger.debug(\"Connecting\", { transport: this.name, url: url });\n        this.changeState(\"connecting\");\n        return true;\n    };\n    TransportConnection.prototype.close = function () {\n        if (this.socket) {\n            this.socket.close();\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    TransportConnection.prototype.send = function (data) {\n        var _this = this;\n        if (this.state === \"open\") {\n            util.defer(function () {\n                if (_this.socket) {\n                    _this.socket.send(data);\n                }\n            });\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    TransportConnection.prototype.ping = function () {\n        if (this.state === \"open\" && this.supportsPing()) {\n            this.socket.ping();\n        }\n    };\n    TransportConnection.prototype.onOpen = function () {\n        if (this.hooks.beforeOpen) {\n            this.hooks.beforeOpen(this.socket, this.hooks.urls.getPath(this.key, this.options));\n        }\n        this.changeState(\"open\");\n        this.socket.onopen = undefined;\n    };\n    TransportConnection.prototype.onError = function (error) {\n        this.emit(\"error\", { type: 'WebSocketError', error: error });\n        this.timeline.error(this.buildTimelineMessage({ error: error.toString() }));\n    };\n    TransportConnection.prototype.onClose = function (closeEvent) {\n        if (closeEvent) {\n            this.changeState(\"closed\", {\n                code: closeEvent.code,\n                reason: closeEvent.reason,\n                wasClean: closeEvent.wasClean\n            });\n        }\n        else {\n            this.changeState(\"closed\");\n        }\n        this.unbindListeners();\n        this.socket = undefined;\n    };\n    TransportConnection.prototype.onMessage = function (message) {\n        this.emit(\"message\", message);\n    };\n    TransportConnection.prototype.onActivity = function () {\n        this.emit(\"activity\");\n    };\n    TransportConnection.prototype.bindListeners = function () {\n        var _this = this;\n        this.socket.onopen = function () {\n            _this.onOpen();\n        };\n        this.socket.onerror = function (error) {\n            _this.onError(error);\n        };\n        this.socket.onclose = function (closeEvent) {\n            _this.onClose(closeEvent);\n        };\n        this.socket.onmessage = function (message) {\n            _this.onMessage(message);\n        };\n        if (this.supportsPing()) {\n            this.socket.onactivity = function () { _this.onActivity(); };\n        }\n    };\n    TransportConnection.prototype.unbindListeners = function () {\n        if (this.socket) {\n            this.socket.onopen = undefined;\n            this.socket.onerror = undefined;\n            this.socket.onclose = undefined;\n            this.socket.onmessage = undefined;\n            if (this.supportsPing()) {\n                this.socket.onactivity = undefined;\n            }\n        }\n    };\n    TransportConnection.prototype.changeState = function (state, params) {\n        this.state = state;\n        this.timeline.info(this.buildTimelineMessage({\n            state: state,\n            params: params\n        }));\n        this.emit(state, params);\n    };\n    TransportConnection.prototype.buildTimelineMessage = function (message) {\n        return extend({ cid: this.id }, message);\n    };\n    return TransportConnection;\n}(dispatcher));\n/* harmony default export */ var transport_connection = (transport_connection_TransportConnection);\n\n// CONCATENATED MODULE: ./src/core/transports/transport.ts\n\nvar transport_Transport = (function () {\n    function Transport(hooks) {\n        this.hooks = hooks;\n    }\n    Transport.prototype.isSupported = function (environment) {\n        return this.hooks.isSupported(environment);\n    };\n    Transport.prototype.createConnection = function (name, priority, key, options) {\n        return new transport_connection(this.hooks, name, priority, key, options);\n    };\n    return Transport;\n}());\n/* harmony default export */ var transports_transport = (transport_Transport);\n\n// CONCATENATED MODULE: ./src/runtimes/isomorphic/transports/transports.ts\n\n\n\n\nvar WSTransport = new transports_transport({\n    urls: ws,\n    handlesActivityChecks: false,\n    supportsPing: false,\n    isInitialized: function () {\n        return Boolean(runtime.getWebSocketAPI());\n    },\n    isSupported: function () {\n        return Boolean(runtime.getWebSocketAPI());\n    },\n    getSocket: function (url) {\n        return runtime.createWebSocket(url);\n    }\n});\nvar httpConfiguration = {\n    urls: http,\n    handlesActivityChecks: false,\n    supportsPing: true,\n    isInitialized: function () {\n        return true;\n    }\n};\nvar streamingConfiguration = extend({ getSocket: function (url) {\n        return runtime.HTTPFactory.createStreamingSocket(url);\n    }\n}, httpConfiguration);\nvar pollingConfiguration = extend({ getSocket: function (url) {\n        return runtime.HTTPFactory.createPollingSocket(url);\n    }\n}, httpConfiguration);\nvar xhrConfiguration = {\n    isSupported: function () {\n        return runtime.isXHRSupported();\n    }\n};\nvar XHRStreamingTransport = new transports_transport(extend({}, streamingConfiguration, xhrConfiguration));\nvar XHRPollingTransport = new transports_transport(extend({}, pollingConfiguration, xhrConfiguration));\nvar Transports = {\n    ws: WSTransport,\n    xhr_streaming: XHRStreamingTransport,\n    xhr_polling: XHRPollingTransport\n};\n/* harmony default export */ var transports = (Transports);\n\n// CONCATENATED MODULE: ./src/runtimes/web/transports/transports.ts\n\n\n\n\n\n\nvar SockJSTransport = new transports_transport({\n    file: \"sockjs\",\n    urls: sockjs,\n    handlesActivityChecks: true,\n    supportsPing: false,\n    isSupported: function () {\n        return true;\n    },\n    isInitialized: function () {\n        return window.SockJS !== undefined;\n    },\n    getSocket: function (url, options) {\n        return new window.SockJS(url, null, {\n            js_path: Dependencies.getPath(\"sockjs\", {\n                useTLS: options.useTLS\n            }),\n            ignore_null_origin: options.ignoreNullOrigin\n        });\n    },\n    beforeOpen: function (socket, path) {\n        socket.send(JSON.stringify({\n            path: path\n        }));\n    }\n});\nvar xdrConfiguration = {\n    isSupported: function (environment) {\n        var yes = runtime.isXDRSupported(environment.useTLS);\n        return yes;\n    }\n};\nvar XDRStreamingTransport = new transports_transport(extend({}, streamingConfiguration, xdrConfiguration));\nvar XDRPollingTransport = new transports_transport(extend({}, pollingConfiguration, xdrConfiguration));\ntransports.xdr_streaming = XDRStreamingTransport;\ntransports.xdr_polling = XDRPollingTransport;\ntransports.sockjs = SockJSTransport;\n/* harmony default export */ var transports_transports = (transports);\n\n// CONCATENATED MODULE: ./src/runtimes/web/net_info.ts\nvar net_info_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar NetInfo = (function (_super) {\n    net_info_extends(NetInfo, _super);\n    function NetInfo() {\n        var _this = _super.call(this) || this;\n        var self = _this;\n        if (window.addEventListener !== undefined) {\n            window.addEventListener(\"online\", function () {\n                self.emit('online');\n            }, false);\n            window.addEventListener(\"offline\", function () {\n                self.emit('offline');\n            }, false);\n        }\n        return _this;\n    }\n    NetInfo.prototype.isOnline = function () {\n        if (window.navigator.onLine === undefined) {\n            return true;\n        }\n        else {\n            return window.navigator.onLine;\n        }\n    };\n    return NetInfo;\n}(dispatcher));\n\nvar net_info_Network = new NetInfo();\n\n// CONCATENATED MODULE: ./src/core/transports/assistant_to_the_transport_manager.ts\n\n\nvar assistant_to_the_transport_manager_AssistantToTheTransportManager = (function () {\n    function AssistantToTheTransportManager(manager, transport, options) {\n        this.manager = manager;\n        this.transport = transport;\n        this.minPingDelay = options.minPingDelay;\n        this.maxPingDelay = options.maxPingDelay;\n        this.pingDelay = undefined;\n    }\n    AssistantToTheTransportManager.prototype.createConnection = function (name, priority, key, options) {\n        var _this = this;\n        options = extend({}, options, {\n            activityTimeout: this.pingDelay\n        });\n        var connection = this.transport.createConnection(name, priority, key, options);\n        var openTimestamp = null;\n        var onOpen = function () {\n            connection.unbind(\"open\", onOpen);\n            connection.bind(\"closed\", onClosed);\n            openTimestamp = util.now();\n        };\n        var onClosed = function (closeEvent) {\n            connection.unbind(\"closed\", onClosed);\n            if (closeEvent.code === 1002 || closeEvent.code === 1003) {\n                _this.manager.reportDeath();\n            }\n            else if (!closeEvent.wasClean && openTimestamp) {\n                var lifespan = util.now() - openTimestamp;\n                if (lifespan < 2 * _this.maxPingDelay) {\n                    _this.manager.reportDeath();\n                    _this.pingDelay = Math.max(lifespan / 2, _this.minPingDelay);\n                }\n            }\n        };\n        connection.bind(\"open\", onOpen);\n        return connection;\n    };\n    AssistantToTheTransportManager.prototype.isSupported = function (environment) {\n        return this.manager.isAlive() && this.transport.isSupported(environment);\n    };\n    return AssistantToTheTransportManager;\n}());\n/* harmony default export */ var assistant_to_the_transport_manager = (assistant_to_the_transport_manager_AssistantToTheTransportManager);\n\n// CONCATENATED MODULE: ./src/core/connection/protocol/protocol.ts\nvar Protocol = {\n    decodeMessage: function (messageEvent) {\n        try {\n            var messageData = JSON.parse(messageEvent.data);\n            var pusherEventData = messageData.data;\n            if (typeof pusherEventData === 'string') {\n                try {\n                    pusherEventData = JSON.parse(messageData.data);\n                }\n                catch (e) { }\n            }\n            var pusherEvent = {\n                event: messageData.event,\n                channel: messageData.channel,\n                data: pusherEventData,\n            };\n            if (messageData.user_id) {\n                pusherEvent.user_id = messageData.user_id;\n            }\n            return pusherEvent;\n        }\n        catch (e) {\n            throw { type: 'MessageParseError', error: e, data: messageEvent.data };\n        }\n    },\n    encodeMessage: function (event) {\n        return JSON.stringify(event);\n    },\n    processHandshake: function (messageEvent) {\n        var message = Protocol.decodeMessage(messageEvent);\n        if (message.event === \"pusher:connection_established\") {\n            if (!message.data.activity_timeout) {\n                throw \"No activity timeout specified in handshake\";\n            }\n            return {\n                action: \"connected\",\n                id: message.data.socket_id,\n                activityTimeout: message.data.activity_timeout * 1000\n            };\n        }\n        else if (message.event === \"pusher:error\") {\n            return {\n                action: this.getCloseAction(message.data),\n                error: this.getCloseError(message.data)\n            };\n        }\n        else {\n            throw \"Invalid handshake\";\n        }\n    },\n    getCloseAction: function (closeEvent) {\n        if (closeEvent.code < 4000) {\n            if (closeEvent.code >= 1002 && closeEvent.code <= 1004) {\n                return \"backoff\";\n            }\n            else {\n                return null;\n            }\n        }\n        else if (closeEvent.code === 4000) {\n            return \"tls_only\";\n        }\n        else if (closeEvent.code < 4100) {\n            return \"refused\";\n        }\n        else if (closeEvent.code < 4200) {\n            return \"backoff\";\n        }\n        else if (closeEvent.code < 4300) {\n            return \"retry\";\n        }\n        else {\n            return \"refused\";\n        }\n    },\n    getCloseError: function (closeEvent) {\n        if (closeEvent.code !== 1000 && closeEvent.code !== 1001) {\n            return {\n                type: 'PusherError',\n                data: {\n                    code: closeEvent.code,\n                    message: closeEvent.reason || closeEvent.message\n                }\n            };\n        }\n        else {\n            return null;\n        }\n    }\n};\n/* harmony default export */ var protocol_protocol = (Protocol);\n\n// CONCATENATED MODULE: ./src/core/connection/connection.ts\nvar connection_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar connection_Connection = (function (_super) {\n    connection_extends(Connection, _super);\n    function Connection(id, transport) {\n        var _this = _super.call(this) || this;\n        _this.id = id;\n        _this.transport = transport;\n        _this.activityTimeout = transport.activityTimeout;\n        _this.bindListeners();\n        return _this;\n    }\n    Connection.prototype.handlesActivityChecks = function () {\n        return this.transport.handlesActivityChecks();\n    };\n    Connection.prototype.send = function (data) {\n        return this.transport.send(data);\n    };\n    Connection.prototype.send_event = function (name, data, channel) {\n        var event = { event: name, data: data };\n        if (channel) {\n            event.channel = channel;\n        }\n        logger.debug('Event sent', event);\n        return this.send(protocol_protocol.encodeMessage(event));\n    };\n    Connection.prototype.ping = function () {\n        if (this.transport.supportsPing()) {\n            this.transport.ping();\n        }\n        else {\n            this.send_event('pusher:ping', {});\n        }\n    };\n    Connection.prototype.close = function () {\n        this.transport.close();\n    };\n    Connection.prototype.bindListeners = function () {\n        var _this = this;\n        var listeners = {\n            message: function (messageEvent) {\n                var pusherEvent;\n                try {\n                    pusherEvent = protocol_protocol.decodeMessage(messageEvent);\n                }\n                catch (e) {\n                    _this.emit('error', {\n                        type: 'MessageParseError',\n                        error: e,\n                        data: messageEvent.data\n                    });\n                }\n                if (pusherEvent !== undefined) {\n                    logger.debug('Event recd', pusherEvent);\n                    switch (pusherEvent.event) {\n                        case 'pusher:error':\n                            _this.emit('error', { type: 'PusherError', data: pusherEvent.data });\n                            break;\n                        case 'pusher:ping':\n                            _this.emit(\"ping\");\n                            break;\n                        case 'pusher:pong':\n                            _this.emit(\"pong\");\n                            break;\n                    }\n                    _this.emit('message', pusherEvent);\n                }\n            },\n            activity: function () {\n                _this.emit(\"activity\");\n            },\n            error: function (error) {\n                _this.emit(\"error\", { type: \"WebSocketError\", error: error });\n            },\n            closed: function (closeEvent) {\n                unbindListeners();\n                if (closeEvent && closeEvent.code) {\n                    _this.handleCloseEvent(closeEvent);\n                }\n                _this.transport = null;\n                _this.emit(\"closed\");\n            }\n        };\n        var unbindListeners = function () {\n            objectApply(listeners, function (listener, event) {\n                _this.transport.unbind(event, listener);\n            });\n        };\n        objectApply(listeners, function (listener, event) {\n            _this.transport.bind(event, listener);\n        });\n    };\n    Connection.prototype.handleCloseEvent = function (closeEvent) {\n        var action = protocol_protocol.getCloseAction(closeEvent);\n        var error = protocol_protocol.getCloseError(closeEvent);\n        if (error) {\n            this.emit('error', error);\n        }\n        if (action) {\n            this.emit(action, { action: action, error: error });\n        }\n    };\n    return Connection;\n}(dispatcher));\n/* harmony default export */ var connection_connection = (connection_Connection);\n\n// CONCATENATED MODULE: ./src/core/connection/handshake/index.ts\n\n\n\nvar handshake_Handshake = (function () {\n    function Handshake(transport, callback) {\n        this.transport = transport;\n        this.callback = callback;\n        this.bindListeners();\n    }\n    Handshake.prototype.close = function () {\n        this.unbindListeners();\n        this.transport.close();\n    };\n    Handshake.prototype.bindListeners = function () {\n        var _this = this;\n        this.onMessage = function (m) {\n            _this.unbindListeners();\n            var result;\n            try {\n                result = protocol_protocol.processHandshake(m);\n            }\n            catch (e) {\n                _this.finish(\"error\", { error: e });\n                _this.transport.close();\n                return;\n            }\n            if (result.action === \"connected\") {\n                _this.finish(\"connected\", {\n                    connection: new connection_connection(result.id, _this.transport),\n                    activityTimeout: result.activityTimeout\n                });\n            }\n            else {\n                _this.finish(result.action, { error: result.error });\n                _this.transport.close();\n            }\n        };\n        this.onClosed = function (closeEvent) {\n            _this.unbindListeners();\n            var action = protocol_protocol.getCloseAction(closeEvent) || \"backoff\";\n            var error = protocol_protocol.getCloseError(closeEvent);\n            _this.finish(action, { error: error });\n        };\n        this.transport.bind(\"message\", this.onMessage);\n        this.transport.bind(\"closed\", this.onClosed);\n    };\n    Handshake.prototype.unbindListeners = function () {\n        this.transport.unbind(\"message\", this.onMessage);\n        this.transport.unbind(\"closed\", this.onClosed);\n    };\n    Handshake.prototype.finish = function (action, params) {\n        this.callback(extend({ transport: this.transport, action: action }, params));\n    };\n    return Handshake;\n}());\n/* harmony default export */ var connection_handshake = (handshake_Handshake);\n\n// CONCATENATED MODULE: ./src/core/auth/pusher_authorizer.ts\n\nvar pusher_authorizer_PusherAuthorizer = (function () {\n    function PusherAuthorizer(channel, options) {\n        this.channel = channel;\n        var authTransport = options.authTransport;\n        if (typeof runtime.getAuthorizers()[authTransport] === \"undefined\") {\n            throw \"'\" + authTransport + \"' is not a recognized auth transport\";\n        }\n        this.type = authTransport;\n        this.options = options;\n        this.authOptions = (options || {}).auth || {};\n    }\n    PusherAuthorizer.prototype.composeQuery = function (socketId) {\n        var query = 'socket_id=' + encodeURIComponent(socketId) +\n            '&channel_name=' + encodeURIComponent(this.channel.name);\n        for (var i in this.authOptions.params) {\n            query += \"&\" + encodeURIComponent(i) + \"=\" + encodeURIComponent(this.authOptions.params[i]);\n        }\n        return query;\n    };\n    PusherAuthorizer.prototype.authorize = function (socketId, callback) {\n        PusherAuthorizer.authorizers = PusherAuthorizer.authorizers || runtime.getAuthorizers();\n        return PusherAuthorizer.authorizers[this.type].call(this, runtime, socketId, callback);\n    };\n    return PusherAuthorizer;\n}());\n/* harmony default export */ var pusher_authorizer = (pusher_authorizer_PusherAuthorizer);\n\n// CONCATENATED MODULE: ./src/core/timeline/timeline_sender.ts\n\nvar timeline_sender_TimelineSender = (function () {\n    function TimelineSender(timeline, options) {\n        this.timeline = timeline;\n        this.options = options || {};\n    }\n    TimelineSender.prototype.send = function (useTLS, callback) {\n        if (this.timeline.isEmpty()) {\n            return;\n        }\n        this.timeline.send(runtime.TimelineTransport.getAgent(this, useTLS), callback);\n    };\n    return TimelineSender;\n}());\n/* harmony default export */ var timeline_sender = (timeline_sender_TimelineSender);\n\n// CONCATENATED MODULE: ./src/core/errors.ts\nvar errors_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar BadEventName = (function (_super) {\n    errors_extends(BadEventName, _super);\n    function BadEventName(msg) {\n        var _newTarget = this.constructor;\n        var _this = _super.call(this, msg) || this;\n        Object.setPrototypeOf(_this, _newTarget.prototype);\n        return _this;\n    }\n    return BadEventName;\n}(Error));\n\nvar RequestTimedOut = (function (_super) {\n    errors_extends(RequestTimedOut, _super);\n    function RequestTimedOut(msg) {\n        var _newTarget = this.constructor;\n        var _this = _super.call(this, msg) || this;\n        Object.setPrototypeOf(_this, _newTarget.prototype);\n        return _this;\n    }\n    return RequestTimedOut;\n}(Error));\n\nvar TransportPriorityTooLow = (function (_super) {\n    errors_extends(TransportPriorityTooLow, _super);\n    function TransportPriorityTooLow(msg) {\n        var _newTarget = this.constructor;\n        var _this = _super.call(this, msg) || this;\n        Object.setPrototypeOf(_this, _newTarget.prototype);\n        return _this;\n    }\n    return TransportPriorityTooLow;\n}(Error));\n\nvar TransportClosed = (function (_super) {\n    errors_extends(TransportClosed, _super);\n    function TransportClosed(msg) {\n        var _newTarget = this.constructor;\n        var _this = _super.call(this, msg) || this;\n        Object.setPrototypeOf(_this, _newTarget.prototype);\n        return _this;\n    }\n    return TransportClosed;\n}(Error));\n\nvar UnsupportedFeature = (function (_super) {\n    errors_extends(UnsupportedFeature, _super);\n    function UnsupportedFeature(msg) {\n        var _newTarget = this.constructor;\n        var _this = _super.call(this, msg) || this;\n        Object.setPrototypeOf(_this, _newTarget.prototype);\n        return _this;\n    }\n    return UnsupportedFeature;\n}(Error));\n\nvar UnsupportedTransport = (function (_super) {\n    errors_extends(UnsupportedTransport, _super);\n    function UnsupportedTransport(msg) {\n        var _newTarget = this.constructor;\n        var _this = _super.call(this, msg) || this;\n        Object.setPrototypeOf(_this, _newTarget.prototype);\n        return _this;\n    }\n    return UnsupportedTransport;\n}(Error));\n\nvar UnsupportedStrategy = (function (_super) {\n    errors_extends(UnsupportedStrategy, _super);\n    function UnsupportedStrategy(msg) {\n        var _newTarget = this.constructor;\n        var _this = _super.call(this, msg) || this;\n        Object.setPrototypeOf(_this, _newTarget.prototype);\n        return _this;\n    }\n    return UnsupportedStrategy;\n}(Error));\n\n\n// CONCATENATED MODULE: ./src/core/channels/channel.ts\nvar channel_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar channel_Channel = (function (_super) {\n    channel_extends(Channel, _super);\n    function Channel(name, pusher) {\n        var _this = _super.call(this, function (event, data) {\n            logger.debug('No callbacks on ' + name + ' for ' + event);\n        }) || this;\n        _this.name = name;\n        _this.pusher = pusher;\n        _this.subscribed = false;\n        _this.subscriptionPending = false;\n        _this.subscriptionCancelled = false;\n        return _this;\n    }\n    Channel.prototype.authorize = function (socketId, callback) {\n        return callback(false, {});\n    };\n    Channel.prototype.trigger = function (event, data) {\n        if (event.indexOf(\"client-\") !== 0) {\n            throw new BadEventName(\"Event '\" + event + \"' does not start with 'client-'\");\n        }\n        if (!this.subscribed) {\n            var suffix = url_store.buildLogSuffix(\"triggeringClientEvents\");\n            logger.warn(\"Client event triggered before channel 'subscription_succeeded' event . \" + suffix);\n        }\n        return this.pusher.send_event(event, data, this.name);\n    };\n    Channel.prototype.disconnect = function () {\n        this.subscribed = false;\n        this.subscriptionPending = false;\n    };\n    Channel.prototype.handleEvent = function (event) {\n        var eventName = event.event;\n        var data = event.data;\n        if (eventName === \"pusher_internal:subscription_succeeded\") {\n            this.handleSubscriptionSucceededEvent(event);\n        }\n        else if (eventName.indexOf(\"pusher_internal:\") !== 0) {\n            var metadata = {};\n            this.emit(eventName, data, metadata);\n        }\n    };\n    Channel.prototype.handleSubscriptionSucceededEvent = function (event) {\n        this.subscriptionPending = false;\n        this.subscribed = true;\n        if (this.subscriptionCancelled) {\n            this.pusher.unsubscribe(this.name);\n        }\n        else {\n            this.emit(\"pusher:subscription_succeeded\", event.data);\n        }\n    };\n    Channel.prototype.subscribe = function () {\n        var _this = this;\n        if (this.subscribed) {\n            return;\n        }\n        this.subscriptionPending = true;\n        this.subscriptionCancelled = false;\n        this.authorize(this.pusher.connection.socket_id, function (error, data) {\n            if (error) {\n                _this.emit('pusher:subscription_error', data);\n            }\n            else {\n                _this.pusher.send_event('pusher:subscribe', {\n                    auth: data.auth,\n                    channel_data: data.channel_data,\n                    channel: _this.name\n                });\n            }\n        });\n    };\n    Channel.prototype.unsubscribe = function () {\n        this.subscribed = false;\n        this.pusher.send_event('pusher:unsubscribe', {\n            channel: this.name\n        });\n    };\n    Channel.prototype.cancelSubscription = function () {\n        this.subscriptionCancelled = true;\n    };\n    Channel.prototype.reinstateSubscription = function () {\n        this.subscriptionCancelled = false;\n    };\n    return Channel;\n}(dispatcher));\n/* harmony default export */ var channels_channel = (channel_Channel);\n\n// CONCATENATED MODULE: ./src/core/channels/private_channel.ts\nvar private_channel_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar private_channel_PrivateChannel = (function (_super) {\n    private_channel_extends(PrivateChannel, _super);\n    function PrivateChannel() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PrivateChannel.prototype.authorize = function (socketId, callback) {\n        var authorizer = factory.createAuthorizer(this, this.pusher.config);\n        return authorizer.authorize(socketId, callback);\n    };\n    return PrivateChannel;\n}(channels_channel));\n/* harmony default export */ var private_channel = (private_channel_PrivateChannel);\n\n// CONCATENATED MODULE: ./src/core/channels/members.ts\n\nvar members_Members = (function () {\n    function Members() {\n        this.reset();\n    }\n    Members.prototype.get = function (id) {\n        if (Object.prototype.hasOwnProperty.call(this.members, id)) {\n            return {\n                id: id,\n                info: this.members[id]\n            };\n        }\n        else {\n            return null;\n        }\n    };\n    Members.prototype.each = function (callback) {\n        var _this = this;\n        objectApply(this.members, function (member, id) {\n            callback(_this.get(id));\n        });\n    };\n    Members.prototype.setMyID = function (id) {\n        this.myID = id;\n    };\n    Members.prototype.onSubscription = function (subscriptionData) {\n        this.members = subscriptionData.presence.hash;\n        this.count = subscriptionData.presence.count;\n        this.me = this.get(this.myID);\n    };\n    Members.prototype.addMember = function (memberData) {\n        if (this.get(memberData.user_id) === null) {\n            this.count++;\n        }\n        this.members[memberData.user_id] = memberData.user_info;\n        return this.get(memberData.user_id);\n    };\n    Members.prototype.removeMember = function (memberData) {\n        var member = this.get(memberData.user_id);\n        if (member) {\n            delete this.members[memberData.user_id];\n            this.count--;\n        }\n        return member;\n    };\n    Members.prototype.reset = function () {\n        this.members = {};\n        this.count = 0;\n        this.myID = null;\n        this.me = null;\n    };\n    return Members;\n}());\n/* harmony default export */ var members = (members_Members);\n\n// CONCATENATED MODULE: ./src/core/channels/presence_channel.ts\nvar presence_channel_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar presence_channel_PresenceChannel = (function (_super) {\n    presence_channel_extends(PresenceChannel, _super);\n    function PresenceChannel(name, pusher) {\n        var _this = _super.call(this, name, pusher) || this;\n        _this.members = new members();\n        return _this;\n    }\n    PresenceChannel.prototype.authorize = function (socketId, callback) {\n        var _this = this;\n        _super.prototype.authorize.call(this, socketId, function (error, authData) {\n            if (!error) {\n                if (authData.channel_data === undefined) {\n                    var suffix = url_store.buildLogSuffix(\"authenticationEndpoint\");\n                    logger.warn(\"Invalid auth response for channel '\" + _this.name + \"',\" +\n                        (\"expected 'channel_data' field. \" + suffix));\n                    callback(\"Invalid auth response\");\n                    return;\n                }\n                var channelData = JSON.parse(authData.channel_data);\n                _this.members.setMyID(channelData.user_id);\n            }\n            callback(error, authData);\n        });\n    };\n    PresenceChannel.prototype.handleEvent = function (event) {\n        var eventName = event.event;\n        if (eventName.indexOf(\"pusher_internal:\") === 0) {\n            this.handleInternalEvent(event);\n        }\n        else {\n            var data = event.data;\n            var metadata = {};\n            if (event.user_id) {\n                metadata.user_id = event.user_id;\n            }\n            this.emit(eventName, data, metadata);\n        }\n    };\n    PresenceChannel.prototype.handleInternalEvent = function (event) {\n        var eventName = event.event;\n        var data = event.data;\n        switch (eventName) {\n            case \"pusher_internal:subscription_succeeded\":\n                this.handleSubscriptionSucceededEvent(event);\n                break;\n            case \"pusher_internal:member_added\":\n                var addedMember = this.members.addMember(data);\n                this.emit('pusher:member_added', addedMember);\n                break;\n            case \"pusher_internal:member_removed\":\n                var removedMember = this.members.removeMember(data);\n                if (removedMember) {\n                    this.emit('pusher:member_removed', removedMember);\n                }\n                break;\n        }\n    };\n    PresenceChannel.prototype.handleSubscriptionSucceededEvent = function (event) {\n        this.subscriptionPending = false;\n        this.subscribed = true;\n        if (this.subscriptionCancelled) {\n            this.pusher.unsubscribe(this.name);\n        }\n        else {\n            this.members.onSubscription(event.data);\n            this.emit(\"pusher:subscription_succeeded\", this.members);\n        }\n    };\n    PresenceChannel.prototype.disconnect = function () {\n        this.members.reset();\n        _super.prototype.disconnect.call(this);\n    };\n    return PresenceChannel;\n}(private_channel));\n/* harmony default export */ var presence_channel = (presence_channel_PresenceChannel);\n\n// EXTERNAL MODULE: ./node_modules/tweetnacl/nacl-fast.js\nvar nacl_fast = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./node_modules/tweetnacl-util/nacl-util.js\nvar nacl_util = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/core/channels/encrypted_channel.ts\nvar encrypted_channel_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar encrypted_channel_EncryptedChannel = (function (_super) {\n    encrypted_channel_extends(EncryptedChannel, _super);\n    function EncryptedChannel() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.key = null;\n        return _this;\n    }\n    EncryptedChannel.prototype.authorize = function (socketId, callback) {\n        var _this = this;\n        _super.prototype.authorize.call(this, socketId, function (error, authData) {\n            if (error) {\n                callback(true, authData);\n                return;\n            }\n            var sharedSecret = authData[\"shared_secret\"];\n            if (!sharedSecret) {\n                var errorMsg = \"No shared_secret key in auth payload for encrypted channel: \" + _this.name;\n                callback(true, errorMsg);\n                logger.warn(\"Error: \" + errorMsg);\n                return;\n            }\n            _this.key = Object(nacl_util[\"decodeBase64\"])(sharedSecret);\n            delete authData[\"shared_secret\"];\n            callback(false, authData);\n        });\n    };\n    EncryptedChannel.prototype.trigger = function (event, data) {\n        throw new UnsupportedFeature('Client events are not currently supported for encrypted channels');\n    };\n    EncryptedChannel.prototype.handleEvent = function (event) {\n        var eventName = event.event;\n        var data = event.data;\n        if (eventName.indexOf(\"pusher_internal:\") === 0 || eventName.indexOf(\"pusher:\") === 0) {\n            _super.prototype.handleEvent.call(this, event);\n            return;\n        }\n        this.handleEncryptedEvent(eventName, data);\n    };\n    EncryptedChannel.prototype.handleEncryptedEvent = function (event, data) {\n        var _this = this;\n        if (!this.key) {\n            logger.debug('Received encrypted event before key has been retrieved from the authEndpoint');\n            return;\n        }\n        if (!data.ciphertext || !data.nonce) {\n            logger.warn('Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: ' + data);\n            return;\n        }\n        var cipherText = Object(nacl_util[\"decodeBase64\"])(data.ciphertext);\n        if (cipherText.length < nacl_fast[\"secretbox\"].overheadLength) {\n            logger.warn(\"Expected encrypted event ciphertext length to be \" + nacl_fast[\"secretbox\"].overheadLength + \", got: \" + cipherText.length);\n            return;\n        }\n        var nonce = Object(nacl_util[\"decodeBase64\"])(data.nonce);\n        if (nonce.length < nacl_fast[\"secretbox\"].nonceLength) {\n            logger.warn(\"Expected encrypted event nonce length to be \" + nacl_fast[\"secretbox\"].nonceLength + \", got: \" + nonce.length);\n            return;\n        }\n        var bytes = nacl_fast[\"secretbox\"].open(cipherText, nonce, this.key);\n        if (bytes === null) {\n            logger.debug('Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint...');\n            this.authorize(this.pusher.connection.socket_id, function (error, authData) {\n                if (error) {\n                    logger.warn(\"Failed to make a request to the authEndpoint: \" + authData + \". Unable to fetch new key, so dropping encrypted event\");\n                    return;\n                }\n                bytes = nacl_fast[\"secretbox\"].open(cipherText, nonce, _this.key);\n                if (bytes === null) {\n                    logger.warn(\"Failed to decrypt event with new key. Dropping encrypted event\");\n                    return;\n                }\n                _this.emitJSON(event, Object(nacl_util[\"encodeUTF8\"])(bytes));\n                return;\n            });\n            return;\n        }\n        this.emitJSON(event, Object(nacl_util[\"encodeUTF8\"])(bytes));\n    };\n    EncryptedChannel.prototype.emitJSON = function (eventName, data) {\n        try {\n            this.emit(eventName, JSON.parse(data));\n        }\n        catch (e) {\n            this.emit(eventName, data);\n        }\n        return this;\n    };\n    return EncryptedChannel;\n}(private_channel));\n/* harmony default export */ var encrypted_channel = (encrypted_channel_EncryptedChannel);\n\n// CONCATENATED MODULE: ./src/core/connection/connection_manager.ts\nvar connection_manager_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar connection_manager_ConnectionManager = (function (_super) {\n    connection_manager_extends(ConnectionManager, _super);\n    function ConnectionManager(key, options) {\n        var _this = _super.call(this) || this;\n        _this.key = key;\n        _this.options = options || {};\n        _this.state = \"initialized\";\n        _this.connection = null;\n        _this.usingTLS = !!options.useTLS;\n        _this.timeline = _this.options.timeline;\n        _this.errorCallbacks = _this.buildErrorCallbacks();\n        _this.connectionCallbacks = _this.buildConnectionCallbacks(_this.errorCallbacks);\n        _this.handshakeCallbacks = _this.buildHandshakeCallbacks(_this.errorCallbacks);\n        var Network = runtime.getNetwork();\n        Network.bind(\"online\", function () {\n            _this.timeline.info({ netinfo: \"online\" });\n            if (_this.state === \"connecting\" || _this.state === \"unavailable\") {\n                _this.retryIn(0);\n            }\n        });\n        Network.bind(\"offline\", function () {\n            _this.timeline.info({ netinfo: \"offline\" });\n            if (_this.connection) {\n                _this.sendActivityCheck();\n            }\n        });\n        _this.updateStrategy();\n        return _this;\n    }\n    ConnectionManager.prototype.connect = function () {\n        if (this.connection || this.runner) {\n            return;\n        }\n        if (!this.strategy.isSupported()) {\n            this.updateState(\"failed\");\n            return;\n        }\n        this.updateState(\"connecting\");\n        this.startConnecting();\n        this.setUnavailableTimer();\n    };\n    ;\n    ConnectionManager.prototype.send = function (data) {\n        if (this.connection) {\n            return this.connection.send(data);\n        }\n        else {\n            return false;\n        }\n    };\n    ;\n    ConnectionManager.prototype.send_event = function (name, data, channel) {\n        if (this.connection) {\n            return this.connection.send_event(name, data, channel);\n        }\n        else {\n            return false;\n        }\n    };\n    ;\n    ConnectionManager.prototype.disconnect = function () {\n        this.disconnectInternally();\n        this.updateState(\"disconnected\");\n    };\n    ;\n    ConnectionManager.prototype.isUsingTLS = function () {\n        return this.usingTLS;\n    };\n    ;\n    ConnectionManager.prototype.startConnecting = function () {\n        var _this = this;\n        var callback = function (error, handshake) {\n            if (error) {\n                _this.runner = _this.strategy.connect(0, callback);\n            }\n            else {\n                if (handshake.action === \"error\") {\n                    _this.emit(\"error\", { type: \"HandshakeError\", error: handshake.error });\n                    _this.timeline.error({ handshakeError: handshake.error });\n                }\n                else {\n                    _this.abortConnecting();\n                    _this.handshakeCallbacks[handshake.action](handshake);\n                }\n            }\n        };\n        this.runner = this.strategy.connect(0, callback);\n    };\n    ;\n    ConnectionManager.prototype.abortConnecting = function () {\n        if (this.runner) {\n            this.runner.abort();\n            this.runner = null;\n        }\n    };\n    ;\n    ConnectionManager.prototype.disconnectInternally = function () {\n        this.abortConnecting();\n        this.clearRetryTimer();\n        this.clearUnavailableTimer();\n        if (this.connection) {\n            var connection = this.abandonConnection();\n            connection.close();\n        }\n    };\n    ;\n    ConnectionManager.prototype.updateStrategy = function () {\n        this.strategy = this.options.getStrategy({\n            key: this.key,\n            timeline: this.timeline,\n            useTLS: this.usingTLS\n        });\n    };\n    ;\n    ConnectionManager.prototype.retryIn = function (delay) {\n        var _this = this;\n        this.timeline.info({ action: \"retry\", delay: delay });\n        if (delay > 0) {\n            this.emit(\"connecting_in\", Math.round(delay / 1000));\n        }\n        this.retryTimer = new OneOffTimer(delay || 0, function () {\n            _this.disconnectInternally();\n            _this.connect();\n        });\n    };\n    ;\n    ConnectionManager.prototype.clearRetryTimer = function () {\n        if (this.retryTimer) {\n            this.retryTimer.ensureAborted();\n            this.retryTimer = null;\n        }\n    };\n    ;\n    ConnectionManager.prototype.setUnavailableTimer = function () {\n        var _this = this;\n        this.unavailableTimer = new OneOffTimer(this.options.unavailableTimeout, function () {\n            _this.updateState(\"unavailable\");\n        });\n    };\n    ;\n    ConnectionManager.prototype.clearUnavailableTimer = function () {\n        if (this.unavailableTimer) {\n            this.unavailableTimer.ensureAborted();\n        }\n    };\n    ;\n    ConnectionManager.prototype.sendActivityCheck = function () {\n        var _this = this;\n        this.stopActivityCheck();\n        this.connection.ping();\n        this.activityTimer = new OneOffTimer(this.options.pongTimeout, function () {\n            _this.timeline.error({ pong_timed_out: _this.options.pongTimeout });\n            _this.retryIn(0);\n        });\n    };\n    ;\n    ConnectionManager.prototype.resetActivityCheck = function () {\n        var _this = this;\n        this.stopActivityCheck();\n        if (this.connection && !this.connection.handlesActivityChecks()) {\n            this.activityTimer = new OneOffTimer(this.activityTimeout, function () {\n                _this.sendActivityCheck();\n            });\n        }\n    };\n    ;\n    ConnectionManager.prototype.stopActivityCheck = function () {\n        if (this.activityTimer) {\n            this.activityTimer.ensureAborted();\n        }\n    };\n    ;\n    ConnectionManager.prototype.buildConnectionCallbacks = function (errorCallbacks) {\n        var _this = this;\n        return extend({}, errorCallbacks, {\n            message: function (message) {\n                _this.resetActivityCheck();\n                _this.emit('message', message);\n            },\n            ping: function () {\n                _this.send_event('pusher:pong', {});\n            },\n            activity: function () {\n                _this.resetActivityCheck();\n            },\n            error: function (error) {\n                _this.emit(\"error\", { type: \"WebSocketError\", error: error });\n            },\n            closed: function () {\n                _this.abandonConnection();\n                if (_this.shouldRetry()) {\n                    _this.retryIn(1000);\n                }\n            }\n        });\n    };\n    ;\n    ConnectionManager.prototype.buildHandshakeCallbacks = function (errorCallbacks) {\n        var _this = this;\n        return extend({}, errorCallbacks, {\n            connected: function (handshake) {\n                _this.activityTimeout = Math.min(_this.options.activityTimeout, handshake.activityTimeout, handshake.connection.activityTimeout || Infinity);\n                _this.clearUnavailableTimer();\n                _this.setConnection(handshake.connection);\n                _this.socket_id = _this.connection.id;\n                _this.updateState(\"connected\", { socket_id: _this.socket_id });\n            }\n        });\n    };\n    ;\n    ConnectionManager.prototype.buildErrorCallbacks = function () {\n        var _this = this;\n        var withErrorEmitted = function (callback) {\n            return function (result) {\n                if (result.error) {\n                    _this.emit(\"error\", { type: \"WebSocketError\", error: result.error });\n                }\n                callback(result);\n            };\n        };\n        return {\n            tls_only: withErrorEmitted(function () {\n                _this.usingTLS = true;\n                _this.updateStrategy();\n                _this.retryIn(0);\n            }),\n            refused: withErrorEmitted(function () {\n                _this.disconnect();\n            }),\n            backoff: withErrorEmitted(function () {\n                _this.retryIn(1000);\n            }),\n            retry: withErrorEmitted(function () {\n                _this.retryIn(0);\n            })\n        };\n    };\n    ;\n    ConnectionManager.prototype.setConnection = function (connection) {\n        this.connection = connection;\n        for (var event in this.connectionCallbacks) {\n            this.connection.bind(event, this.connectionCallbacks[event]);\n        }\n        this.resetActivityCheck();\n    };\n    ;\n    ConnectionManager.prototype.abandonConnection = function () {\n        if (!this.connection) {\n            return;\n        }\n        this.stopActivityCheck();\n        for (var event in this.connectionCallbacks) {\n            this.connection.unbind(event, this.connectionCallbacks[event]);\n        }\n        var connection = this.connection;\n        this.connection = null;\n        return connection;\n    };\n    ConnectionManager.prototype.updateState = function (newState, data) {\n        var previousState = this.state;\n        this.state = newState;\n        if (previousState !== newState) {\n            var newStateDescription = newState;\n            if (newStateDescription === \"connected\") {\n                newStateDescription += \" with new socket ID \" + data.socket_id;\n            }\n            logger.debug('State changed', previousState + ' -> ' + newStateDescription);\n            this.timeline.info({ state: newState, params: data });\n            this.emit('state_change', { previous: previousState, current: newState });\n            this.emit(newState, data);\n        }\n    };\n    ConnectionManager.prototype.shouldRetry = function () {\n        return this.state === \"connecting\" || this.state === \"connected\";\n    };\n    return ConnectionManager;\n}(dispatcher));\n/* harmony default export */ var connection_manager = (connection_manager_ConnectionManager);\n\n// CONCATENATED MODULE: ./src/core/channels/channels.ts\n\n\n\nvar channels_Channels = (function () {\n    function Channels() {\n        this.channels = {};\n    }\n    Channels.prototype.add = function (name, pusher) {\n        if (!this.channels[name]) {\n            this.channels[name] = createChannel(name, pusher);\n        }\n        return this.channels[name];\n    };\n    Channels.prototype.all = function () {\n        return values(this.channels);\n    };\n    Channels.prototype.find = function (name) {\n        return this.channels[name];\n    };\n    Channels.prototype.remove = function (name) {\n        var channel = this.channels[name];\n        delete this.channels[name];\n        return channel;\n    };\n    Channels.prototype.disconnect = function () {\n        objectApply(this.channels, function (channel) {\n            channel.disconnect();\n        });\n    };\n    return Channels;\n}());\n/* harmony default export */ var channels = (channels_Channels);\nfunction createChannel(name, pusher) {\n    if (name.indexOf('private-encrypted-') === 0) {\n        if (false) { var errorMsg; }\n        return factory.createEncryptedChannel(name, pusher);\n    }\n    else if (name.indexOf('private-') === 0) {\n        return factory.createPrivateChannel(name, pusher);\n    }\n    else if (name.indexOf('presence-') === 0) {\n        return factory.createPresenceChannel(name, pusher);\n    }\n    else {\n        return factory.createChannel(name, pusher);\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/utils/factory.ts\n\n\n\n\n\n\n\n\n\n\nvar Factory = {\n    createChannels: function () {\n        return new channels();\n    },\n    createConnectionManager: function (key, options) {\n        return new connection_manager(key, options);\n    },\n    createChannel: function (name, pusher) {\n        return new channels_channel(name, pusher);\n    },\n    createPrivateChannel: function (name, pusher) {\n        return new private_channel(name, pusher);\n    },\n    createPresenceChannel: function (name, pusher) {\n        return new presence_channel(name, pusher);\n    },\n    createEncryptedChannel: function (name, pusher) {\n        return new encrypted_channel(name, pusher);\n    },\n    createTimelineSender: function (timeline, options) {\n        return new timeline_sender(timeline, options);\n    },\n    createAuthorizer: function (channel, options) {\n        if (options.authorizer) {\n            return options.authorizer(channel, options);\n        }\n        return new pusher_authorizer(channel, options);\n    },\n    createHandshake: function (transport, callback) {\n        return new connection_handshake(transport, callback);\n    },\n    createAssistantToTheTransportManager: function (manager, transport, options) {\n        return new assistant_to_the_transport_manager(manager, transport, options);\n    }\n};\n/* harmony default export */ var factory = (Factory);\n\n// CONCATENATED MODULE: ./src/core/transports/transport_manager.ts\n\nvar transport_manager_TransportManager = (function () {\n    function TransportManager(options) {\n        this.options = options || {};\n        this.livesLeft = this.options.lives || Infinity;\n    }\n    TransportManager.prototype.getAssistant = function (transport) {\n        return factory.createAssistantToTheTransportManager(this, transport, {\n            minPingDelay: this.options.minPingDelay,\n            maxPingDelay: this.options.maxPingDelay\n        });\n    };\n    TransportManager.prototype.isAlive = function () {\n        return this.livesLeft > 0;\n    };\n    TransportManager.prototype.reportDeath = function () {\n        this.livesLeft -= 1;\n    };\n    return TransportManager;\n}());\n/* harmony default export */ var transport_manager = (transport_manager_TransportManager);\n\n// CONCATENATED MODULE: ./src/core/strategies/sequential_strategy.ts\n\n\n\nvar sequential_strategy_SequentialStrategy = (function () {\n    function SequentialStrategy(strategies, options) {\n        this.strategies = strategies;\n        this.loop = Boolean(options.loop);\n        this.failFast = Boolean(options.failFast);\n        this.timeout = options.timeout;\n        this.timeoutLimit = options.timeoutLimit;\n    }\n    SequentialStrategy.prototype.isSupported = function () {\n        return any(this.strategies, util.method(\"isSupported\"));\n    };\n    SequentialStrategy.prototype.connect = function (minPriority, callback) {\n        var _this = this;\n        var strategies = this.strategies;\n        var current = 0;\n        var timeout = this.timeout;\n        var runner = null;\n        var tryNextStrategy = function (error, handshake) {\n            if (handshake) {\n                callback(null, handshake);\n            }\n            else {\n                current = current + 1;\n                if (_this.loop) {\n                    current = current % strategies.length;\n                }\n                if (current < strategies.length) {\n                    if (timeout) {\n                        timeout = timeout * 2;\n                        if (_this.timeoutLimit) {\n                            timeout = Math.min(timeout, _this.timeoutLimit);\n                        }\n                    }\n                    runner = _this.tryStrategy(strategies[current], minPriority, { timeout: timeout, failFast: _this.failFast }, tryNextStrategy);\n                }\n                else {\n                    callback(true);\n                }\n            }\n        };\n        runner = this.tryStrategy(strategies[current], minPriority, { timeout: timeout, failFast: this.failFast }, tryNextStrategy);\n        return {\n            abort: function () {\n                runner.abort();\n            },\n            forceMinPriority: function (p) {\n                minPriority = p;\n                if (runner) {\n                    runner.forceMinPriority(p);\n                }\n            }\n        };\n    };\n    SequentialStrategy.prototype.tryStrategy = function (strategy, minPriority, options, callback) {\n        var timer = null;\n        var runner = null;\n        if (options.timeout > 0) {\n            timer = new OneOffTimer(options.timeout, function () {\n                runner.abort();\n                callback(true);\n            });\n        }\n        runner = strategy.connect(minPriority, function (error, handshake) {\n            if (error && timer && timer.isRunning() && !options.failFast) {\n                return;\n            }\n            if (timer) {\n                timer.ensureAborted();\n            }\n            callback(error, handshake);\n        });\n        return {\n            abort: function () {\n                if (timer) {\n                    timer.ensureAborted();\n                }\n                runner.abort();\n            },\n            forceMinPriority: function (p) {\n                runner.forceMinPriority(p);\n            }\n        };\n    };\n    return SequentialStrategy;\n}());\n/* harmony default export */ var sequential_strategy = (sequential_strategy_SequentialStrategy);\n\n// CONCATENATED MODULE: ./src/core/strategies/best_connected_ever_strategy.ts\n\n\nvar best_connected_ever_strategy_BestConnectedEverStrategy = (function () {\n    function BestConnectedEverStrategy(strategies) {\n        this.strategies = strategies;\n    }\n    BestConnectedEverStrategy.prototype.isSupported = function () {\n        return any(this.strategies, util.method(\"isSupported\"));\n    };\n    BestConnectedEverStrategy.prototype.connect = function (minPriority, callback) {\n        return connect(this.strategies, minPriority, function (i, runners) {\n            return function (error, handshake) {\n                runners[i].error = error;\n                if (error) {\n                    if (allRunnersFailed(runners)) {\n                        callback(true);\n                    }\n                    return;\n                }\n                apply(runners, function (runner) {\n                    runner.forceMinPriority(handshake.transport.priority);\n                });\n                callback(null, handshake);\n            };\n        });\n    };\n    return BestConnectedEverStrategy;\n}());\n/* harmony default export */ var best_connected_ever_strategy = (best_connected_ever_strategy_BestConnectedEverStrategy);\nfunction connect(strategies, minPriority, callbackBuilder) {\n    var runners = map(strategies, function (strategy, i, _, rs) {\n        return strategy.connect(minPriority, callbackBuilder(i, rs));\n    });\n    return {\n        abort: function () {\n            apply(runners, abortRunner);\n        },\n        forceMinPriority: function (p) {\n            apply(runners, function (runner) {\n                runner.forceMinPriority(p);\n            });\n        }\n    };\n}\nfunction allRunnersFailed(runners) {\n    return collections_all(runners, function (runner) {\n        return Boolean(runner.error);\n    });\n}\nfunction abortRunner(runner) {\n    if (!runner.error && !runner.aborted) {\n        runner.abort();\n        runner.aborted = true;\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/strategies/cached_strategy.ts\n\n\n\n\nvar cached_strategy_CachedStrategy = (function () {\n    function CachedStrategy(strategy, transports, options) {\n        this.strategy = strategy;\n        this.transports = transports;\n        this.ttl = options.ttl || 1800 * 1000;\n        this.usingTLS = options.useTLS;\n        this.timeline = options.timeline;\n    }\n    CachedStrategy.prototype.isSupported = function () {\n        return this.strategy.isSupported();\n    };\n    CachedStrategy.prototype.connect = function (minPriority, callback) {\n        var usingTLS = this.usingTLS;\n        var info = fetchTransportCache(usingTLS);\n        var strategies = [this.strategy];\n        if (info && info.timestamp + this.ttl >= util.now()) {\n            var transport = this.transports[info.transport];\n            if (transport) {\n                this.timeline.info({\n                    cached: true,\n                    transport: info.transport,\n                    latency: info.latency\n                });\n                strategies.push(new sequential_strategy([transport], {\n                    timeout: info.latency * 2 + 1000,\n                    failFast: true\n                }));\n            }\n        }\n        var startTimestamp = util.now();\n        var runner = strategies.pop().connect(minPriority, function cb(error, handshake) {\n            if (error) {\n                flushTransportCache(usingTLS);\n                if (strategies.length > 0) {\n                    startTimestamp = util.now();\n                    runner = strategies.pop().connect(minPriority, cb);\n                }\n                else {\n                    callback(error);\n                }\n            }\n            else {\n                storeTransportCache(usingTLS, handshake.transport.name, util.now() - startTimestamp);\n                callback(null, handshake);\n            }\n        });\n        return {\n            abort: function () {\n                runner.abort();\n            },\n            forceMinPriority: function (p) {\n                minPriority = p;\n                if (runner) {\n                    runner.forceMinPriority(p);\n                }\n            }\n        };\n    };\n    return CachedStrategy;\n}());\n/* harmony default export */ var cached_strategy = (cached_strategy_CachedStrategy);\nfunction getTransportCacheKey(usingTLS) {\n    return \"pusherTransport\" + (usingTLS ? \"TLS\" : \"NonTLS\");\n}\nfunction fetchTransportCache(usingTLS) {\n    var storage = runtime.getLocalStorage();\n    if (storage) {\n        try {\n            var serializedCache = storage[getTransportCacheKey(usingTLS)];\n            if (serializedCache) {\n                return JSON.parse(serializedCache);\n            }\n        }\n        catch (e) {\n            flushTransportCache(usingTLS);\n        }\n    }\n    return null;\n}\nfunction storeTransportCache(usingTLS, transport, latency) {\n    var storage = runtime.getLocalStorage();\n    if (storage) {\n        try {\n            storage[getTransportCacheKey(usingTLS)] = safeJSONStringify({\n                timestamp: util.now(),\n                transport: transport,\n                latency: latency\n            });\n        }\n        catch (e) {\n        }\n    }\n}\nfunction flushTransportCache(usingTLS) {\n    var storage = runtime.getLocalStorage();\n    if (storage) {\n        try {\n            delete storage[getTransportCacheKey(usingTLS)];\n        }\n        catch (e) {\n        }\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/strategies/delayed_strategy.ts\n\nvar delayed_strategy_DelayedStrategy = (function () {\n    function DelayedStrategy(strategy, _a) {\n        var number = _a.delay;\n        this.strategy = strategy;\n        this.options = { delay: number };\n    }\n    DelayedStrategy.prototype.isSupported = function () {\n        return this.strategy.isSupported();\n    };\n    DelayedStrategy.prototype.connect = function (minPriority, callback) {\n        var strategy = this.strategy;\n        var runner;\n        var timer = new OneOffTimer(this.options.delay, function () {\n            runner = strategy.connect(minPriority, callback);\n        });\n        return {\n            abort: function () {\n                timer.ensureAborted();\n                if (runner) {\n                    runner.abort();\n                }\n            },\n            forceMinPriority: function (p) {\n                minPriority = p;\n                if (runner) {\n                    runner.forceMinPriority(p);\n                }\n            }\n        };\n    };\n    return DelayedStrategy;\n}());\n/* harmony default export */ var delayed_strategy = (delayed_strategy_DelayedStrategy);\n\n// CONCATENATED MODULE: ./src/core/strategies/if_strategy.ts\nvar IfStrategy = (function () {\n    function IfStrategy(test, trueBranch, falseBranch) {\n        this.test = test;\n        this.trueBranch = trueBranch;\n        this.falseBranch = falseBranch;\n    }\n    IfStrategy.prototype.isSupported = function () {\n        var branch = this.test() ? this.trueBranch : this.falseBranch;\n        return branch.isSupported();\n    };\n    IfStrategy.prototype.connect = function (minPriority, callback) {\n        var branch = this.test() ? this.trueBranch : this.falseBranch;\n        return branch.connect(minPriority, callback);\n    };\n    return IfStrategy;\n}());\n/* harmony default export */ var if_strategy = (IfStrategy);\n\n// CONCATENATED MODULE: ./src/core/strategies/first_connected_strategy.ts\nvar FirstConnectedStrategy = (function () {\n    function FirstConnectedStrategy(strategy) {\n        this.strategy = strategy;\n    }\n    FirstConnectedStrategy.prototype.isSupported = function () {\n        return this.strategy.isSupported();\n    };\n    FirstConnectedStrategy.prototype.connect = function (minPriority, callback) {\n        var runner = this.strategy.connect(minPriority, function (error, handshake) {\n            if (handshake) {\n                runner.abort();\n            }\n            callback(error, handshake);\n        });\n        return runner;\n    };\n    return FirstConnectedStrategy;\n}());\n/* harmony default export */ var first_connected_strategy = (FirstConnectedStrategy);\n\n// CONCATENATED MODULE: ./src/runtimes/web/default_strategy.ts\n\n\n\n\n\n\n\n\nfunction testSupportsStrategy(strategy) {\n    return function () {\n        return strategy.isSupported();\n    };\n}\nvar getDefaultStrategy = function (config, defineTransport) {\n    var definedTransports = {};\n    function defineTransportStrategy(name, type, priority, options, manager) {\n        var transport = defineTransport(config, name, type, priority, options, manager);\n        definedTransports[name] = transport;\n        return transport;\n    }\n    var ws_options = {\n        hostNonTLS: config.wsHost + \":\" + config.wsPort,\n        hostTLS: config.wsHost + \":\" + config.wssPort,\n        httpPath: config.wsPath\n    };\n    var wss_options = extend({}, ws_options, {\n        useTLS: true\n    });\n    var sockjs_options = {\n        hostNonTLS: config.httpHost + \":\" + config.httpPort,\n        hostTLS: config.httpHost + \":\" + config.httpsPort,\n        httpPath: config.httpPath\n    };\n    var timeouts = {\n        loop: true,\n        timeout: 15000,\n        timeoutLimit: 60000\n    };\n    var ws_manager = new transport_manager({\n        lives: 2,\n        minPingDelay: 10000,\n        maxPingDelay: config.activity_timeout\n    });\n    var streaming_manager = new transport_manager({\n        lives: 2,\n        minPingDelay: 10000,\n        maxPingDelay: config.activity_timeout\n    });\n    var ws_transport = defineTransportStrategy(\"ws\", \"ws\", 3, ws_options, ws_manager);\n    var wss_transport = defineTransportStrategy(\"wss\", \"ws\", 3, wss_options, ws_manager);\n    var sockjs_transport = defineTransportStrategy(\"sockjs\", \"sockjs\", 1, sockjs_options);\n    var xhr_streaming_transport = defineTransportStrategy(\"xhr_streaming\", \"xhr_streaming\", 1, sockjs_options, streaming_manager);\n    var xdr_streaming_transport = defineTransportStrategy(\"xdr_streaming\", \"xdr_streaming\", 1, sockjs_options, streaming_manager);\n    var xhr_polling_transport = defineTransportStrategy(\"xhr_polling\", \"xhr_polling\", 1, sockjs_options);\n    var xdr_polling_transport = defineTransportStrategy(\"xdr_polling\", \"xdr_polling\", 1, sockjs_options);\n    var ws_loop = new sequential_strategy([ws_transport], timeouts);\n    var wss_loop = new sequential_strategy([wss_transport], timeouts);\n    var sockjs_loop = new sequential_strategy([sockjs_transport], timeouts);\n    var streaming_loop = new sequential_strategy([new if_strategy(testSupportsStrategy(xhr_streaming_transport), xhr_streaming_transport, xdr_streaming_transport)], timeouts);\n    var polling_loop = new sequential_strategy([new if_strategy(testSupportsStrategy(xhr_polling_transport), xhr_polling_transport, xdr_polling_transport)], timeouts);\n    var http_loop = new sequential_strategy([new if_strategy(testSupportsStrategy(streaming_loop), new best_connected_ever_strategy([streaming_loop, new delayed_strategy(polling_loop, { delay: 4000 })]), polling_loop)], timeouts);\n    var http_fallback_loop = new if_strategy(testSupportsStrategy(http_loop), http_loop, sockjs_loop);\n    var wsStrategy;\n    if (config.useTLS) {\n        wsStrategy = new best_connected_ever_strategy([ws_loop, new delayed_strategy(http_fallback_loop, { delay: 2000 })]);\n    }\n    else {\n        wsStrategy = new best_connected_ever_strategy([\n            ws_loop,\n            new delayed_strategy(wss_loop, { delay: 2000 }),\n            new delayed_strategy(http_fallback_loop, { delay: 5000 })\n        ]);\n    }\n    return new cached_strategy(new first_connected_strategy(new if_strategy(testSupportsStrategy(ws_transport), wsStrategy, http_fallback_loop)), definedTransports, {\n        ttl: 1800000,\n        timeline: config.timeline,\n        useTLS: config.useTLS\n    });\n};\n/* harmony default export */ var default_strategy = (getDefaultStrategy);\n\n// CONCATENATED MODULE: ./src/runtimes/web/transports/transport_connection_initializer.ts\n\n/* harmony default export */ var transport_connection_initializer = (function () {\n    var self = this;\n    self.timeline.info(self.buildTimelineMessage({\n        transport: self.name + (self.options.useTLS ? \"s\" : \"\")\n    }));\n    if (self.hooks.isInitialized()) {\n        self.changeState(\"initialized\");\n    }\n    else if (self.hooks.file) {\n        self.changeState(\"initializing\");\n        Dependencies.load(self.hooks.file, { useTLS: self.options.useTLS }, function (error, callback) {\n            if (self.hooks.isInitialized()) {\n                self.changeState(\"initialized\");\n                callback(true);\n            }\n            else {\n                if (error) {\n                    self.onError(error);\n                }\n                self.onClose();\n                callback(false);\n            }\n        });\n    }\n    else {\n        self.onClose();\n    }\n});\n\n// CONCATENATED MODULE: ./src/runtimes/web/http/http_xdomain_request.ts\n\nvar http_xdomain_request_hooks = {\n    getRequest: function (socket) {\n        var xdr = new window.XDomainRequest();\n        xdr.ontimeout = function () {\n            socket.emit(\"error\", new RequestTimedOut());\n            socket.close();\n        };\n        xdr.onerror = function (e) {\n            socket.emit(\"error\", e);\n            socket.close();\n        };\n        xdr.onprogress = function () {\n            if (xdr.responseText && xdr.responseText.length > 0) {\n                socket.onChunk(200, xdr.responseText);\n            }\n        };\n        xdr.onload = function () {\n            if (xdr.responseText && xdr.responseText.length > 0) {\n                socket.onChunk(200, xdr.responseText);\n            }\n            socket.emit(\"finished\", 200);\n            socket.close();\n        };\n        return xdr;\n    },\n    abortRequest: function (xdr) {\n        xdr.ontimeout = xdr.onerror = xdr.onprogress = xdr.onload = null;\n        xdr.abort();\n    }\n};\n/* harmony default export */ var http_xdomain_request = (http_xdomain_request_hooks);\n\n// CONCATENATED MODULE: ./src/core/http/http_request.ts\nvar http_request_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar MAX_BUFFER_LENGTH = 256 * 1024;\nvar http_request_HTTPRequest = (function (_super) {\n    http_request_extends(HTTPRequest, _super);\n    function HTTPRequest(hooks, method, url) {\n        var _this = _super.call(this) || this;\n        _this.hooks = hooks;\n        _this.method = method;\n        _this.url = url;\n        return _this;\n    }\n    HTTPRequest.prototype.start = function (payload) {\n        var _this = this;\n        this.position = 0;\n        this.xhr = this.hooks.getRequest(this);\n        this.unloader = function () {\n            _this.close();\n        };\n        runtime.addUnloadListener(this.unloader);\n        this.xhr.open(this.method, this.url, true);\n        if (this.xhr.setRequestHeader) {\n            this.xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n        }\n        this.xhr.send(payload);\n    };\n    HTTPRequest.prototype.close = function () {\n        if (this.unloader) {\n            runtime.removeUnloadListener(this.unloader);\n            this.unloader = null;\n        }\n        if (this.xhr) {\n            this.hooks.abortRequest(this.xhr);\n            this.xhr = null;\n        }\n    };\n    HTTPRequest.prototype.onChunk = function (status, data) {\n        while (true) {\n            var chunk = this.advanceBuffer(data);\n            if (chunk) {\n                this.emit(\"chunk\", { status: status, data: chunk });\n            }\n            else {\n                break;\n            }\n        }\n        if (this.isBufferTooLong(data)) {\n            this.emit(\"buffer_too_long\");\n        }\n    };\n    HTTPRequest.prototype.advanceBuffer = function (buffer) {\n        var unreadData = buffer.slice(this.position);\n        var endOfLinePosition = unreadData.indexOf(\"\\n\");\n        if (endOfLinePosition !== -1) {\n            this.position += endOfLinePosition + 1;\n            return unreadData.slice(0, endOfLinePosition);\n        }\n        else {\n            return null;\n        }\n    };\n    HTTPRequest.prototype.isBufferTooLong = function (buffer) {\n        return this.position === buffer.length && buffer.length > MAX_BUFFER_LENGTH;\n    };\n    return HTTPRequest;\n}(dispatcher));\n/* harmony default export */ var http_request = (http_request_HTTPRequest);\n\n// CONCATENATED MODULE: ./src/core/http/state.ts\nvar State;\n(function (State) {\n    State[State[\"CONNECTING\"] = 0] = \"CONNECTING\";\n    State[State[\"OPEN\"] = 1] = \"OPEN\";\n    State[State[\"CLOSED\"] = 3] = \"CLOSED\";\n})(State || (State = {}));\n/* harmony default export */ var state = (State);\n\n// CONCATENATED MODULE: ./src/core/http/http_socket.ts\n\n\n\nvar autoIncrement = 1;\nvar http_socket_HTTPSocket = (function () {\n    function HTTPSocket(hooks, url) {\n        this.hooks = hooks;\n        this.session = randomNumber(1000) + \"/\" + randomString(8);\n        this.location = getLocation(url);\n        this.readyState = state.CONNECTING;\n        this.openStream();\n    }\n    HTTPSocket.prototype.send = function (payload) {\n        return this.sendRaw(JSON.stringify([payload]));\n    };\n    HTTPSocket.prototype.ping = function () {\n        this.hooks.sendHeartbeat(this);\n    };\n    HTTPSocket.prototype.close = function (code, reason) {\n        this.onClose(code, reason, true);\n    };\n    HTTPSocket.prototype.sendRaw = function (payload) {\n        if (this.readyState === state.OPEN) {\n            try {\n                runtime.createSocketRequest(\"POST\", getUniqueURL(getSendURL(this.location, this.session))).start(payload);\n                return true;\n            }\n            catch (e) {\n                return false;\n            }\n        }\n        else {\n            return false;\n        }\n    };\n    HTTPSocket.prototype.reconnect = function () {\n        this.closeStream();\n        this.openStream();\n    };\n    ;\n    HTTPSocket.prototype.onClose = function (code, reason, wasClean) {\n        this.closeStream();\n        this.readyState = state.CLOSED;\n        if (this.onclose) {\n            this.onclose({\n                code: code,\n                reason: reason,\n                wasClean: wasClean\n            });\n        }\n    };\n    HTTPSocket.prototype.onChunk = function (chunk) {\n        if (chunk.status !== 200) {\n            return;\n        }\n        if (this.readyState === state.OPEN) {\n            this.onActivity();\n        }\n        var payload;\n        var type = chunk.data.slice(0, 1);\n        switch (type) {\n            case 'o':\n                payload = JSON.parse(chunk.data.slice(1) || '{}');\n                this.onOpen(payload);\n                break;\n            case 'a':\n                payload = JSON.parse(chunk.data.slice(1) || '[]');\n                for (var i = 0; i < payload.length; i++) {\n                    this.onEvent(payload[i]);\n                }\n                break;\n            case 'm':\n                payload = JSON.parse(chunk.data.slice(1) || 'null');\n                this.onEvent(payload);\n                break;\n            case 'h':\n                this.hooks.onHeartbeat(this);\n                break;\n            case 'c':\n                payload = JSON.parse(chunk.data.slice(1) || '[]');\n                this.onClose(payload[0], payload[1], true);\n                break;\n        }\n    };\n    HTTPSocket.prototype.onOpen = function (options) {\n        if (this.readyState === state.CONNECTING) {\n            if (options && options.hostname) {\n                this.location.base = replaceHost(this.location.base, options.hostname);\n            }\n            this.readyState = state.OPEN;\n            if (this.onopen) {\n                this.onopen();\n            }\n        }\n        else {\n            this.onClose(1006, \"Server lost session\", true);\n        }\n    };\n    HTTPSocket.prototype.onEvent = function (event) {\n        if (this.readyState === state.OPEN && this.onmessage) {\n            this.onmessage({ data: event });\n        }\n    };\n    HTTPSocket.prototype.onActivity = function () {\n        if (this.onactivity) {\n            this.onactivity();\n        }\n    };\n    HTTPSocket.prototype.onError = function (error) {\n        if (this.onerror) {\n            this.onerror(error);\n        }\n    };\n    HTTPSocket.prototype.openStream = function () {\n        var _this = this;\n        this.stream = runtime.createSocketRequest(\"POST\", getUniqueURL(this.hooks.getReceiveURL(this.location, this.session)));\n        this.stream.bind(\"chunk\", function (chunk) {\n            _this.onChunk(chunk);\n        });\n        this.stream.bind(\"finished\", function (status) {\n            _this.hooks.onFinished(_this, status);\n        });\n        this.stream.bind(\"buffer_too_long\", function () {\n            _this.reconnect();\n        });\n        try {\n            this.stream.start();\n        }\n        catch (error) {\n            util.defer(function () {\n                _this.onError(error);\n                _this.onClose(1006, \"Could not start streaming\", false);\n            });\n        }\n    };\n    HTTPSocket.prototype.closeStream = function () {\n        if (this.stream) {\n            this.stream.unbind_all();\n            this.stream.close();\n            this.stream = null;\n        }\n    };\n    return HTTPSocket;\n}());\nfunction getLocation(url) {\n    var parts = /([^\\?]*)\\/*(\\??.*)/.exec(url);\n    return {\n        base: parts[1],\n        queryString: parts[2]\n    };\n}\nfunction getSendURL(url, session) {\n    return url.base + \"/\" + session + \"/xhr_send\";\n}\nfunction getUniqueURL(url) {\n    var separator = (url.indexOf('?') === -1) ? \"?\" : \"&\";\n    return url + separator + \"t=\" + (+new Date()) + \"&n=\" + autoIncrement++;\n}\nfunction replaceHost(url, hostname) {\n    var urlParts = /(https?:\\/\\/)([^\\/:]+)((\\/|:)?.*)/.exec(url);\n    return urlParts[1] + hostname + urlParts[3];\n}\nfunction randomNumber(max) {\n    return Math.floor(Math.random() * max);\n}\nfunction randomString(length) {\n    var result = [];\n    for (var i = 0; i < length; i++) {\n        result.push(randomNumber(32).toString(32));\n    }\n    return result.join('');\n}\n/* harmony default export */ var http_socket = (http_socket_HTTPSocket);\n\n// CONCATENATED MODULE: ./src/core/http/http_streaming_socket.ts\nvar http_streaming_socket_hooks = {\n    getReceiveURL: function (url, session) {\n        return url.base + \"/\" + session + \"/xhr_streaming\" + url.queryString;\n    },\n    onHeartbeat: function (socket) {\n        socket.sendRaw(\"[]\");\n    },\n    sendHeartbeat: function (socket) {\n        socket.sendRaw(\"[]\");\n    },\n    onFinished: function (socket, status) {\n        socket.onClose(1006, \"Connection interrupted (\" + status + \")\", false);\n    }\n};\n/* harmony default export */ var http_streaming_socket = (http_streaming_socket_hooks);\n\n// CONCATENATED MODULE: ./src/core/http/http_polling_socket.ts\nvar http_polling_socket_hooks = {\n    getReceiveURL: function (url, session) {\n        return url.base + \"/\" + session + \"/xhr\" + url.queryString;\n    },\n    onHeartbeat: function () {\n    },\n    sendHeartbeat: function (socket) {\n        socket.sendRaw(\"[]\");\n    },\n    onFinished: function (socket, status) {\n        if (status === 200) {\n            socket.reconnect();\n        }\n        else {\n            socket.onClose(1006, \"Connection interrupted (\" + status + \")\", false);\n        }\n    }\n};\n/* harmony default export */ var http_polling_socket = (http_polling_socket_hooks);\n\n// CONCATENATED MODULE: ./src/runtimes/isomorphic/http/http_xhr_request.ts\n\nvar http_xhr_request_hooks = {\n    getRequest: function (socket) {\n        var Constructor = runtime.getXHRAPI();\n        var xhr = new Constructor();\n        xhr.onreadystatechange = xhr.onprogress = function () {\n            switch (xhr.readyState) {\n                case 3:\n                    if (xhr.responseText && xhr.responseText.length > 0) {\n                        socket.onChunk(xhr.status, xhr.responseText);\n                    }\n                    break;\n                case 4:\n                    if (xhr.responseText && xhr.responseText.length > 0) {\n                        socket.onChunk(xhr.status, xhr.responseText);\n                    }\n                    socket.emit(\"finished\", xhr.status);\n                    socket.close();\n                    break;\n            }\n        };\n        return xhr;\n    },\n    abortRequest: function (xhr) {\n        xhr.onreadystatechange = null;\n        xhr.abort();\n    }\n};\n/* harmony default export */ var http_xhr_request = (http_xhr_request_hooks);\n\n// CONCATENATED MODULE: ./src/runtimes/isomorphic/http/http.ts\n\n\n\n\n\nvar HTTP = {\n    createStreamingSocket: function (url) {\n        return this.createSocket(http_streaming_socket, url);\n    },\n    createPollingSocket: function (url) {\n        return this.createSocket(http_polling_socket, url);\n    },\n    createSocket: function (hooks, url) {\n        return new http_socket(hooks, url);\n    },\n    createXHR: function (method, url) {\n        return this.createRequest(http_xhr_request, method, url);\n    },\n    createRequest: function (hooks, method, url) {\n        return new http_request(hooks, method, url);\n    }\n};\n/* harmony default export */ var http_http = (HTTP);\n\n// CONCATENATED MODULE: ./src/runtimes/web/http/http.ts\n\n\nhttp_http.createXDR = function (method, url) {\n    return this.createRequest(http_xdomain_request, method, url);\n};\n/* harmony default export */ var web_http_http = (http_http);\n\n// CONCATENATED MODULE: ./src/runtimes/web/runtime.ts\n\n\n\n\n\n\n\n\n\n\n\n\nvar Runtime = {\n    nextAuthCallbackID: 1,\n    auth_callbacks: {},\n    ScriptReceivers: ScriptReceivers,\n    DependenciesReceivers: DependenciesReceivers,\n    getDefaultStrategy: default_strategy,\n    Transports: transports_transports,\n    transportConnectionInitializer: transport_connection_initializer,\n    HTTPFactory: web_http_http,\n    TimelineTransport: jsonp_timeline,\n    getXHRAPI: function () {\n        return window.XMLHttpRequest;\n    },\n    getWebSocketAPI: function () {\n        return window.WebSocket || window.MozWebSocket;\n    },\n    setup: function (PusherClass) {\n        var _this = this;\n        window.Pusher = PusherClass;\n        var initializeOnDocumentBody = function () {\n            _this.onDocumentBody(PusherClass.ready);\n        };\n        if (!window.JSON) {\n            Dependencies.load(\"json2\", {}, initializeOnDocumentBody);\n        }\n        else {\n            initializeOnDocumentBody();\n        }\n    },\n    getDocument: function () {\n        return document;\n    },\n    getProtocol: function () {\n        return this.getDocument().location.protocol;\n    },\n    getAuthorizers: function () {\n        return { ajax: xhr_auth, jsonp: jsonp_auth };\n    },\n    onDocumentBody: function (callback) {\n        var _this = this;\n        if (document.body) {\n            callback();\n        }\n        else {\n            setTimeout(function () {\n                _this.onDocumentBody(callback);\n            }, 0);\n        }\n    },\n    createJSONPRequest: function (url, data) {\n        return new jsonp_request(url, data);\n    },\n    createScriptRequest: function (src) {\n        return new script_request(src);\n    },\n    getLocalStorage: function () {\n        try {\n            return window.localStorage;\n        }\n        catch (e) {\n            return undefined;\n        }\n    },\n    createXHR: function () {\n        if (this.getXHRAPI()) {\n            return this.createXMLHttpRequest();\n        }\n        else {\n            return this.createMicrosoftXHR();\n        }\n    },\n    createXMLHttpRequest: function () {\n        var Constructor = this.getXHRAPI();\n        return new Constructor();\n    },\n    createMicrosoftXHR: function () {\n        return new ActiveXObject(\"Microsoft.XMLHTTP\");\n    },\n    getNetwork: function () {\n        return net_info_Network;\n    },\n    createWebSocket: function (url) {\n        var Constructor = this.getWebSocketAPI();\n        return new Constructor(url);\n    },\n    createSocketRequest: function (method, url) {\n        if (this.isXHRSupported()) {\n            return this.HTTPFactory.createXHR(method, url);\n        }\n        else if (this.isXDRSupported(url.indexOf(\"https:\") === 0)) {\n            return this.HTTPFactory.createXDR(method, url);\n        }\n        else {\n            throw \"Cross-origin HTTP requests are not supported\";\n        }\n    },\n    isXHRSupported: function () {\n        var Constructor = this.getXHRAPI();\n        return Boolean(Constructor) && (new Constructor()).withCredentials !== undefined;\n    },\n    isXDRSupported: function (useTLS) {\n        var protocol = useTLS ? \"https:\" : \"http:\";\n        var documentProtocol = this.getProtocol();\n        return Boolean((window['XDomainRequest'])) && documentProtocol === protocol;\n    },\n    addUnloadListener: function (listener) {\n        if (window.addEventListener !== undefined) {\n            window.addEventListener(\"unload\", listener, false);\n        }\n        else if (window.attachEvent !== undefined) {\n            window.attachEvent(\"onunload\", listener);\n        }\n    },\n    removeUnloadListener: function (listener) {\n        if (window.addEventListener !== undefined) {\n            window.removeEventListener(\"unload\", listener, false);\n        }\n        else if (window.detachEvent !== undefined) {\n            window.detachEvent(\"onunload\", listener);\n        }\n    }\n};\n/* harmony default export */ var runtime = (Runtime);\n\n// CONCATENATED MODULE: ./src/core/timeline/level.ts\nvar TimelineLevel;\n(function (TimelineLevel) {\n    TimelineLevel[TimelineLevel[\"ERROR\"] = 3] = \"ERROR\";\n    TimelineLevel[TimelineLevel[\"INFO\"] = 6] = \"INFO\";\n    TimelineLevel[TimelineLevel[\"DEBUG\"] = 7] = \"DEBUG\";\n})(TimelineLevel || (TimelineLevel = {}));\n/* harmony default export */ var timeline_level = (TimelineLevel);\n\n// CONCATENATED MODULE: ./src/core/timeline/timeline.ts\n\n\n\nvar timeline_Timeline = (function () {\n    function Timeline(key, session, options) {\n        this.key = key;\n        this.session = session;\n        this.events = [];\n        this.options = options || {};\n        this.sent = 0;\n        this.uniqueID = 0;\n    }\n    Timeline.prototype.log = function (level, event) {\n        if (level <= this.options.level) {\n            this.events.push(extend({}, event, { timestamp: util.now() }));\n            if (this.options.limit && this.events.length > this.options.limit) {\n                this.events.shift();\n            }\n        }\n    };\n    Timeline.prototype.error = function (event) {\n        this.log(timeline_level.ERROR, event);\n    };\n    Timeline.prototype.info = function (event) {\n        this.log(timeline_level.INFO, event);\n    };\n    Timeline.prototype.debug = function (event) {\n        this.log(timeline_level.DEBUG, event);\n    };\n    Timeline.prototype.isEmpty = function () {\n        return this.events.length === 0;\n    };\n    Timeline.prototype.send = function (sendfn, callback) {\n        var _this = this;\n        var data = extend({\n            session: this.session,\n            bundle: this.sent + 1,\n            key: this.key,\n            lib: \"js\",\n            version: this.options.version,\n            cluster: this.options.cluster,\n            features: this.options.features,\n            timeline: this.events\n        }, this.options.params);\n        this.events = [];\n        sendfn(data, function (error, result) {\n            if (!error) {\n                _this.sent++;\n            }\n            if (callback) {\n                callback(error, result);\n            }\n        });\n        return true;\n    };\n    Timeline.prototype.generateUniqueID = function () {\n        this.uniqueID++;\n        return this.uniqueID;\n    };\n    return Timeline;\n}());\n/* harmony default export */ var timeline_timeline = (timeline_Timeline);\n\n// CONCATENATED MODULE: ./src/core/strategies/transport_strategy.ts\n\n\n\n\nvar transport_strategy_TransportStrategy = (function () {\n    function TransportStrategy(name, priority, transport, options) {\n        this.name = name;\n        this.priority = priority;\n        this.transport = transport;\n        this.options = options || {};\n    }\n    TransportStrategy.prototype.isSupported = function () {\n        return this.transport.isSupported({\n            useTLS: this.options.useTLS\n        });\n    };\n    TransportStrategy.prototype.connect = function (minPriority, callback) {\n        var _this = this;\n        if (!this.isSupported()) {\n            return failAttempt(new UnsupportedStrategy(), callback);\n        }\n        else if (this.priority < minPriority) {\n            return failAttempt(new TransportPriorityTooLow(), callback);\n        }\n        var connected = false;\n        var transport = this.transport.createConnection(this.name, this.priority, this.options.key, this.options);\n        var handshake = null;\n        var onInitialized = function () {\n            transport.unbind(\"initialized\", onInitialized);\n            transport.connect();\n        };\n        var onOpen = function () {\n            handshake = factory.createHandshake(transport, function (result) {\n                connected = true;\n                unbindListeners();\n                callback(null, result);\n            });\n        };\n        var onError = function (error) {\n            unbindListeners();\n            callback(error);\n        };\n        var onClosed = function () {\n            unbindListeners();\n            var serializedTransport;\n            serializedTransport = safeJSONStringify(transport);\n            callback(new TransportClosed(serializedTransport));\n        };\n        var unbindListeners = function () {\n            transport.unbind(\"initialized\", onInitialized);\n            transport.unbind(\"open\", onOpen);\n            transport.unbind(\"error\", onError);\n            transport.unbind(\"closed\", onClosed);\n        };\n        transport.bind(\"initialized\", onInitialized);\n        transport.bind(\"open\", onOpen);\n        transport.bind(\"error\", onError);\n        transport.bind(\"closed\", onClosed);\n        transport.initialize();\n        return {\n            abort: function () {\n                if (connected) {\n                    return;\n                }\n                unbindListeners();\n                if (handshake) {\n                    handshake.close();\n                }\n                else {\n                    transport.close();\n                }\n            },\n            forceMinPriority: function (p) {\n                if (connected) {\n                    return;\n                }\n                if (_this.priority < p) {\n                    if (handshake) {\n                        handshake.close();\n                    }\n                    else {\n                        transport.close();\n                    }\n                }\n            }\n        };\n    };\n    return TransportStrategy;\n}());\n/* harmony default export */ var transport_strategy = (transport_strategy_TransportStrategy);\nfunction failAttempt(error, callback) {\n    util.defer(function () {\n        callback(error);\n    });\n    return {\n        abort: function () { },\n        forceMinPriority: function () { }\n    };\n}\n\n// CONCATENATED MODULE: ./src/core/strategies/strategy_builder.ts\n\n\n\n\n\nvar strategy_builder_Transports = runtime.Transports;\nvar strategy_builder_defineTransport = function (config, name, type, priority, options, manager) {\n    var transportClass = strategy_builder_Transports[type];\n    if (!transportClass) {\n        throw new UnsupportedTransport(type);\n    }\n    var enabled = (!config.enabledTransports ||\n        arrayIndexOf(config.enabledTransports, name) !== -1) &&\n        (!config.disabledTransports ||\n            arrayIndexOf(config.disabledTransports, name) === -1);\n    var transport;\n    if (enabled) {\n        transport = new transport_strategy(name, priority, manager ? manager.getAssistant(transportClass) : transportClass, extend({\n            key: config.key,\n            useTLS: config.useTLS,\n            timeline: config.timeline,\n            ignoreNullOrigin: config.ignoreNullOrigin\n        }, options));\n    }\n    else {\n        transport = strategy_builder_UnsupportedStrategy;\n    }\n    return transport;\n};\nvar strategy_builder_UnsupportedStrategy = {\n    isSupported: function () {\n        return false;\n    },\n    connect: function (_, callback) {\n        var deferred = util.defer(function () {\n            callback(new UnsupportedStrategy());\n        });\n        return {\n            abort: function () {\n                deferred.ensureAborted();\n            },\n            forceMinPriority: function () { }\n        };\n    }\n};\n\n// CONCATENATED MODULE: ./src/core/config.ts\n\nvar getGlobalConfig = function () {\n    return {\n        wsHost: defaults.host,\n        wsPort: defaults.ws_port,\n        wssPort: defaults.wss_port,\n        wsPath: defaults.ws_path,\n        httpHost: defaults.sockjs_host,\n        httpPort: defaults.sockjs_http_port,\n        httpsPort: defaults.sockjs_https_port,\n        httpPath: defaults.sockjs_path,\n        statsHost: defaults.stats_host,\n        authEndpoint: defaults.channel_auth_endpoint,\n        authTransport: defaults.channel_auth_transport,\n        activity_timeout: defaults.activity_timeout,\n        pong_timeout: defaults.pong_timeout,\n        unavailable_timeout: defaults.unavailable_timeout\n    };\n};\nvar getClusterConfig = function (clusterName) {\n    return {\n        wsHost: 'ws-' + clusterName + '.pusher.com',\n        httpHost: 'sockjs-' + clusterName + '.pusher.com'\n    };\n};\n\n// CONCATENATED MODULE: ./src/core/pusher.ts\n\n\n\n\n\n\n\n\n\n\n\n\nvar pusher_Pusher = (function () {\n    function Pusher(app_key, options) {\n        var _this = this;\n        checkAppKey(app_key);\n        options = options || {};\n        if (!options.cluster && !(options.wsHost || options.httpHost)) {\n            var suffix = url_store.buildLogSuffix('javascriptQuickStart');\n            logger.warn(\"You should always specify a cluster when connecting. \" + suffix);\n        }\n        this.key = app_key;\n        this.config = extend(getGlobalConfig(), options.cluster ? getClusterConfig(options.cluster) : {}, options);\n        this.channels = factory.createChannels();\n        this.global_emitter = new dispatcher();\n        this.sessionID = Math.floor(Math.random() * 1000000000);\n        this.timeline = new timeline_timeline(this.key, this.sessionID, {\n            cluster: this.config.cluster,\n            features: Pusher.getClientFeatures(),\n            params: this.config.timelineParams || {},\n            limit: 50,\n            level: timeline_level.INFO,\n            version: defaults.VERSION\n        });\n        if (!this.config.disableStats) {\n            this.timelineSender = factory.createTimelineSender(this.timeline, {\n                host: this.config.statsHost,\n                path: '/timeline/v2/' + runtime.TimelineTransport.name\n            });\n        }\n        var getStrategy = function (options) {\n            var config = extend({}, _this.config, options);\n            return runtime.getDefaultStrategy(config, strategy_builder_defineTransport);\n        };\n        this.connection = factory.createConnectionManager(this.key, extend({\n            getStrategy: getStrategy,\n            timeline: this.timeline,\n            activityTimeout: this.config.activity_timeout,\n            pongTimeout: this.config.pong_timeout,\n            unavailableTimeout: this.config.unavailable_timeout\n        }, this.config, { useTLS: this.shouldUseTLS() }));\n        this.connection.bind('connected', function () {\n            _this.subscribeAll();\n            if (_this.timelineSender) {\n                _this.timelineSender.send(_this.connection.isUsingTLS());\n            }\n        });\n        this.connection.bind('message', function (event) {\n            var eventName = event.event;\n            var internal = eventName.indexOf('pusher_internal:') === 0;\n            if (event.channel) {\n                var channel = _this.channel(event.channel);\n                if (channel) {\n                    channel.handleEvent(event);\n                }\n            }\n            if (!internal) {\n                _this.global_emitter.emit(event.event, event.data);\n            }\n        });\n        this.connection.bind('connecting', function () {\n            _this.channels.disconnect();\n        });\n        this.connection.bind('disconnected', function () {\n            _this.channels.disconnect();\n        });\n        this.connection.bind('error', function (err) {\n            logger.warn('Error', err);\n        });\n        Pusher.instances.push(this);\n        this.timeline.info({ instances: Pusher.instances.length });\n        if (Pusher.isReady) {\n            this.connect();\n        }\n    }\n    Pusher.ready = function () {\n        Pusher.isReady = true;\n        for (var i = 0, l = Pusher.instances.length; i < l; i++) {\n            Pusher.instances[i].connect();\n        }\n    };\n    Pusher.log = function (message) {\n        if (Pusher.logToConsole && window.console && window.console.log) {\n            window.console.log(message);\n        }\n    };\n    Pusher.getClientFeatures = function () {\n        return keys(filterObject({ ws: runtime.Transports.ws }, function (t) {\n            return t.isSupported({});\n        }));\n    };\n    Pusher.prototype.channel = function (name) {\n        return this.channels.find(name);\n    };\n    Pusher.prototype.allChannels = function () {\n        return this.channels.all();\n    };\n    Pusher.prototype.connect = function () {\n        this.connection.connect();\n        if (this.timelineSender) {\n            if (!this.timelineSenderTimer) {\n                var usingTLS = this.connection.isUsingTLS();\n                var timelineSender = this.timelineSender;\n                this.timelineSenderTimer = new PeriodicTimer(60000, function () {\n                    timelineSender.send(usingTLS);\n                });\n            }\n        }\n    };\n    Pusher.prototype.disconnect = function () {\n        this.connection.disconnect();\n        if (this.timelineSenderTimer) {\n            this.timelineSenderTimer.ensureAborted();\n            this.timelineSenderTimer = null;\n        }\n    };\n    Pusher.prototype.bind = function (event_name, callback, context) {\n        this.global_emitter.bind(event_name, callback, context);\n        return this;\n    };\n    Pusher.prototype.unbind = function (event_name, callback, context) {\n        this.global_emitter.unbind(event_name, callback, context);\n        return this;\n    };\n    Pusher.prototype.bind_global = function (callback) {\n        this.global_emitter.bind_global(callback);\n        return this;\n    };\n    Pusher.prototype.unbind_global = function (callback) {\n        this.global_emitter.unbind_global(callback);\n        return this;\n    };\n    Pusher.prototype.unbind_all = function (callback) {\n        this.global_emitter.unbind_all();\n        return this;\n    };\n    Pusher.prototype.subscribeAll = function () {\n        var channelName;\n        for (channelName in this.channels.channels) {\n            if (this.channels.channels.hasOwnProperty(channelName)) {\n                this.subscribe(channelName);\n            }\n        }\n    };\n    Pusher.prototype.subscribe = function (channel_name) {\n        var channel = this.channels.add(channel_name, this);\n        if (channel.subscriptionPending && channel.subscriptionCancelled) {\n            channel.reinstateSubscription();\n        }\n        else if (!channel.subscriptionPending &&\n            this.connection.state === 'connected') {\n            channel.subscribe();\n        }\n        return channel;\n    };\n    Pusher.prototype.unsubscribe = function (channel_name) {\n        var channel = this.channels.find(channel_name);\n        if (channel && channel.subscriptionPending) {\n            channel.cancelSubscription();\n        }\n        else {\n            channel = this.channels.remove(channel_name);\n            if (channel && this.connection.state === 'connected') {\n                channel.unsubscribe();\n            }\n        }\n    };\n    Pusher.prototype.send_event = function (event_name, data, channel) {\n        return this.connection.send_event(event_name, data, channel);\n    };\n    Pusher.prototype.shouldUseTLS = function () {\n        if (runtime.getProtocol() === 'https:') {\n            return true;\n        }\n        else if (this.config.forceTLS === true) {\n            return true;\n        }\n        else {\n            return Boolean(this.config.encrypted);\n        }\n    };\n    Pusher.instances = [];\n    Pusher.isReady = false;\n    Pusher.logToConsole = false;\n    Pusher.Runtime = runtime;\n    Pusher.ScriptReceivers = runtime.ScriptReceivers;\n    Pusher.DependenciesReceivers = runtime.DependenciesReceivers;\n    Pusher.auth_callbacks = runtime.auth_callbacks;\n    return Pusher;\n}());\n/* harmony default export */ var core_pusher = __webpack_exports__[\"default\"] = (pusher_Pusher);\nfunction checkAppKey(key) {\n    if (key === null || key === undefined) {\n        throw 'You must pass your app key when you instantiate Pusher.';\n    }\n}\nruntime.setup(pusher_Pusher);\n\n\n/***/ })\n/******/ ]);\n});","<script>\nimport {createEventDispatcher} from 'svelte'\nconst dispatch = createEventDispatcher()\n\nexport let username\nexport const onSubmit = (evt) =>  {\n    dispatch('submit', username)\n}\n\n\n</script>\n\n<form id=\"registrationForm\" on:submit|preventDefault={onSubmit}>\n  <label>your initials</label>\n  <input bind:value={username} autofocus maxlength=\"2\" size=\"2\">\n  <input type=\"submit\" value=\"go\">\n</form>","<script>\n  import { createEventDispatcher } from \"svelte\";\n  const dispatch = createEventDispatcher();\n\n  export let dir = { hForce: 0, vForce: 0 };\n  export let activeKeys = new Map();\n  export let sequence = \"\";\n\n  function goLeft() {\n    sequence = `${sequence}h`;\n    dir = { vForce: 0, hForce: -1 };\n  }\n\n  function goRight() {\n    sequence = `${sequence}l`;\n    dir = { vForce: 0, hForce: 1 };\n  }\n\n  function goUp() {\n    sequence = `${sequence}k`;\n    dir = { hForce: 0, vForce: -1 };\n  }\n\n  function goDown() {\n    sequence = `${sequence}j`;\n    dir = { hForce: 0, vForce: 1 };\n  }\n\n  function hitA() {\n    sequence = `${sequence}a`;\n  }\n  function hitB() {\n    sequence = `${sequence}b`;\n  }\n\n  function goStop() {\n    dir = { vForce: 0, hForce: 0 };\n  }\n\n  const onKeyDown = evt => {\n    // debounce\n    if (activeKeys.get(evt.key)) {\n      return;\n    }\n    activeKeys.set(evt.key, true);\n\n    switch (evt.key) {\n      case \"j\":\n      case \"ArrowDown\":\n        goDown();\n        return;\n      case \"k\":\n      case \"ArrowUp\":\n        goUp();\n        return;\n      case \"h\":\n      case \"ArrowLeft\":\n        goLeft();\n        return;\n      case \"l\":\n      case \"ArrowRight\":\n        goRight();\n        return;\n      case \"a\":\n        hitA();\n        return;\n      case \"b\":\n        hitB();\n        return;\n      default:\n        return null;\n    }\n  };\n\n  const onKeyUp = evt => {\n    activeKeys.set(evt.key, false);\n    if (sequence.match(\"kkjjhlhlba\")) {\n      console.log(\"Konami!!\");\n      sequence = \"\";\n    }\n    switch (evt.key) {\n      case \"j\":\n      case \"ArrowDown\":\n      case \"k\":\n      case \"ArrowUp\":\n      case \"h\":\n      case \"ArrowLeft\":\n      case \"l\":\n      case \"ArrowRight\":\n        goStop();\n        return;\n      default:\n        return null;\n    }\n  };\n  $: dispatch(\"controls\", dir);\n</script>\n\n<style>\n.controls-container{\n    bottom: 0;\n    width: 100%;\n\n}\n  .controls {\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    border: 1px solid #000;\n      \n  }\n  .controls .button-row{\n      display: flex;\n      width: 100%;\n      justify-content: center;\n      align-content: center;\n  }\n\n  button{\n      flex: 1;\n      margin: 2px;\n      max-width: 100px;\n      height: 48px;\n      border-radius: 21px;\n      border-color: #000;\n      border-width: 4px;\n  }\n  .minor-buttons button{\n      padding: 2px;\n      height: 42px;\n      max-width: 42px \n  }\n</style>\n\n<svelte:window on:keydown={onKeyDown} on:keyup={onKeyUp} />\n<div class=\"controls-container\">\n<div class=\"controls\">\n  <div class=\"button-row minor-buttons\">\n    <button on:mousedown={hitA} on:mouseup={goStop} on:touchstart={hitA} on:touchend={goStop}>A</button>\n    <button on:mousedown={hitB} on:mouseup={goStop} on:touchstart={hitB} on:touchend={goStop}>B</button>\n  </div>\n  <div class=\"button-row\">\n    <button on:mousedown={goUp} on:mouseup={goStop} on:touchstart={goUp} on:touchend={goStop}>Up</button>\n  </div>\n  <div class=\"button-row\">\n    <button on:mousedown={goLeft} on:mouseup={goStop} on:touchstart={goLeft} on:touchend={goStop}>left</button>\n    <button on:mousedown={goRight} on:mouseup={goStop} on:touchstart={goRight} on:touchend={goStop}>right</button>\n  </div>\n  <div class=\"button-row\">\n    <button on:mousedown={goDown} on:mouseup={goStop} on:touchstart={goDown} on:touchend={goStop}>down</button>\n  </div>\n</div>\n\n</div>\n","<script>\n  export let player;\n  export let xPos = 0;\n  export let yPos = 0;\n</script>\n\n<style>\n  .player {\n    fill: none;\n    stroke-width: 2;\n    stroke: #fff;\n  }\n\n  .player-name {\n    font-size: 10px;\n    text-transform: uppercase;\n    fill: #999;\n  }\n  .team-0 {\n    fill: red;\n  }\n\n  .team-1 {\n    fill: blue;\n  }\n</style>\n\n<svg y=\"{yPos}%\" x=\"{xPos}%\" overflow=\"visible\">\n  <text class=\"player-name team-{player.team}\" x=\"12\" y=\"5\">\n    {player.info.name}\n  </text>\n    <rect\n    class=\"player team-{player.team}\"\n    width=\"20\"\n    height=\"20\"\n    rx=\"5\"\n    x=\"-10\"\n    y=\"-10\" />\n    <circle\n      r=\"2\"\n      fill=\"yellow\"\n      />\n</svg>\n\n\n ","<script>\n  export let xPos = 0;\n  export let yPos = 0;\n</script>\n\n<svg \n  y=\"{yPos}%\"\n  x=\"{xPos}%\" \n  overflow=\"visible\"\n>\n  <circle \n    r=\"7\"\n    cx=\"-3.5\"\n    cy=\"-3.5\"\n    fill=\"yellow\"\n    stroke=\"black\"\n   />\n</svg>\n","<script>\n  export let side = \"left\";\n  export let size = 80;\n  export let goalPosts = {\n    top: 10,\n    bottom: 10\n  }\n</script>\n\n\n<svg \nx=\"{side==='left'? 0 : 100}%\"\ny=\"{goalPosts.top}%\"\noverflow=\"visible\">\n  <rect  \n    stroke-width=\"2\"  \n    stroke=\"#fff\"\n    fill=\"none\"\n    stroke-dasharray=\"4\"\n    opacity=\"1\"\n    width=\"10\"\n    height=\"{size}%\"\n    x=\"{side==='left' ? 0 : -10}\"\n    />\n\n</svg>\n","<script>\n  import { createEventDispatcher } from \"svelte\";\n  import Player from \"./Player.svelte\";\n  import Ball from \"./Ball.svelte\";\n  import Goal from \"./Goal.svelte\";\n  export let playerPositions = {};\n  export let renderedPlayers = [];\n  export let currentPlayers = [];\n  export let ballPos = {\n    xPos: 50,\n    yPos: 50,\n    speed: 0,\n    hForce: 1,\n    vForce: 1\n  };\n\n  const dispatch = createEventDispatcher();\n\n  export let playerFriction = 0.05;\n  export let ballFriction = 0.08;\n\n  export let arenaSize = { width: 100, height: 100 };\n  export let goalSize = 30;\n  export let collisionProximity = 2.8;\n  export let kickVariation = 1.5;\n\n  let containerWidth;\n  let containerHeight;\n\n  const animStep = () => {\n    Object.entries(playerPositions).forEach(([key, p]) => {\n      if (p.speed > playerFriction / 2) {\n        p.speed -= playerFriction;\n      } else {\n        p.speed = 0;\n      }\n      if (ballPos.speed > ballFriction / 2) {\n        ballPos.speed -= ballFriction;\n      } else {\n        ballPos.speed = 0;\n      }\n\n      const newxPos = p.xPos + p.hForce * p.speed;\n      if (0 < newxPos && arenaSize.width > newxPos) {\n        p.xPos = newxPos;\n      }\n\n      const newyPos = p.yPos + p.vForce * p.speed;\n      if (0 < newyPos && arenaSize.height > newyPos) {\n        p.yPos = newyPos;\n      }\n\n      if (\n        Math.abs(ballPos.xPos - p.xPos) <= collisionProximity &&\n        Math.abs(ballPos.yPos - p.yPos) <= collisionProximity\n      ) {\n        ballPos.speed = p.speed * 2;\n        if (p.xPos > ballPos.xPos) {\n          ballPos.hForce = -1 * (Math.random() * kickVariation);\n          ballPos.xPos -= collisionProximity;\n        } else {\n          ballPos.hForce = Math.random() * kickVariation;\n          ballPos.xPos += collisionProximity;\n        }\n\n        if (p.yPos > ballPos.yPos) {\n          ballPos.yPos -= collisionProximity;\n          ballPos.vForce = -1 * (Math.random() * kickVariation);\n        } else {\n          ballPos.yPos += collisionProximity;\n          ballPos.vForce = Math.random() * kickVariation;\n        }\n        dispatch(\"ballcollide\", ballPos);\n      }\n    });\n\n    renderedPlayers = currentPlayers.map(m => ({\n      ...m,\n      ...playerPositions[m.id]\n    }));\n\n    if (ballPos.xPos >= arenaSize.width) {\n      if (\n        arenaSize.height / 2 - goalSize / 2 < ballPos.yPos &&\n        arenaSize.height / 2 + goalSize / 2 > ballPos.yPos\n      ) {\n        dispatch(\"goooooal\", \"right\");\n      } else {\n        ballPos.hForce = -1;\n      }\n    }\n\n    if (ballPos.xPos < 0) {\n      if (\n        arenaSize.height / 2 - goalSize / 2 < ballPos.yPos &&\n        arenaSize.height / 2 + goalSize / 2 > ballPos.yPos\n      ) {\n        dispatch(\"goooooal\", \"left\");\n      } else {\n        ballPos.hForce = 1;\n      }\n    }\n\n    if (ballPos.yPos >= arenaSize.height) {\n      ballPos.vForce = -1;\n    }\n\n    if (ballPos.yPos < 0) {\n      ballPos.vForce = 1;\n    }\n\n    ballPos = {\n      ...ballPos,\n      xPos: ballPos.xPos + ballPos.hForce * ballPos.speed,\n      yPos: ballPos.yPos + ballPos.vForce * ballPos.speed\n    };\n    window.requestAnimationFrame(animStep);\n  };\n  animStep();\n\n  $: goalPosts = {\n    top: arenaSize.height / 2 - goalSize / 2,\n    bottom: arenaSize.height / 2 + goalSize / 2\n  };\n</script>\n\n<style>\n  main {\n    border: 1px solid #000;\n    position: relative;\n  }\n  .svgcanvas {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n  }\n  .linemarkings {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n  }\n\n  .playingfield {\n    background: green;\n    width: 100%;\n    height: 100%;\n    position: relative;\n  }\n\n  .line {\n    stroke: white;\n    opacity: 0.5;\n    stroke-width: 5;\n    fill: none;\n  }\n</style>\n\n<main class=\"playingfield\">\n  <svg class=\"linemarkings\">\n    <g class=\"line\">\n      <circle cx=\"50%\" cy=\"50%\" r=\"20%\" />\n      <circle cx=\"50%\" cy=\"50%\" r=\"5\" />\n      <line x1=\"50%\" x2=\"50%\" y1=\"0\" y2=\"100%\" />\n    </g>\n  </svg>\n\n  <svg class=\"svgcanvas\">\n    <Goal side=\"left\" {goalPosts} size={goalSize} />\n    <Goal side=\"right\" {goalPosts} size={goalSize} />\n    <Ball {...ballPos} />\n    {#each renderedPlayers as player}\n      <Player {player} xPos={player.xPos} yPos={player.yPos} />\n    {/each}\n  </svg>\n\n</main>\n","<script>\n    export let scoreline = [0,0]\n    \n</script>\n\n<style>\n.scoreboard{\n    display: flex;\n    justify-content: center;\n}\n.score{\n    border-radius: 10px;\n    background: black;\n    color: gold;\n    padding: 10px;\n    flex: 0 1 64px;\n    margin: 4px;\n    text-align: center;\n    font-size: 32px;\n}\n\n.team {\n    width: 10px;\nmargin: 4px;\n}\n\n.team-1{\n    background-color: red;\n}\n\n.team-0{\n    background-color: blue;\n}\n\n</style>\n\n\n<div class=\"scoreboard\">\n    <div class=\"team team-1\"></div>\n    <div class=\"score\">{scoreline[1]}</div>\n    <div class=\"score\">{scoreline[0]}</div>\n    <div class=\"team team-0\"></div>\n</div>","export { identity as linear } from '../internal';\n\n/*\nAdapted from https://github.com/mattdesl\nDistributed under MIT License https://github.com/mattdesl/eases/blob/master/LICENSE.md\n*/\nfunction backInOut(t) {\n    const s = 1.70158 * 1.525;\n    if ((t *= 2) < 1)\n        return 0.5 * (t * t * ((s + 1) * t - s));\n    return 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2);\n}\nfunction backIn(t) {\n    const s = 1.70158;\n    return t * t * ((s + 1) * t - s);\n}\nfunction backOut(t) {\n    const s = 1.70158;\n    return --t * t * ((s + 1) * t + s) + 1;\n}\nfunction bounceOut(t) {\n    const a = 4.0 / 11.0;\n    const b = 8.0 / 11.0;\n    const c = 9.0 / 10.0;\n    const ca = 4356.0 / 361.0;\n    const cb = 35442.0 / 1805.0;\n    const cc = 16061.0 / 1805.0;\n    const t2 = t * t;\n    return t < a\n        ? 7.5625 * t2\n        : t < b\n            ? 9.075 * t2 - 9.9 * t + 3.4\n            : t < c\n                ? ca * t2 - cb * t + cc\n                : 10.8 * t * t - 20.52 * t + 10.72;\n}\nfunction bounceInOut(t) {\n    return t < 0.5\n        ? 0.5 * (1.0 - bounceOut(1.0 - t * 2.0))\n        : 0.5 * bounceOut(t * 2.0 - 1.0) + 0.5;\n}\nfunction bounceIn(t) {\n    return 1.0 - bounceOut(1.0 - t);\n}\nfunction circInOut(t) {\n    if ((t *= 2) < 1)\n        return -0.5 * (Math.sqrt(1 - t * t) - 1);\n    return 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n}\nfunction circIn(t) {\n    return 1.0 - Math.sqrt(1.0 - t * t);\n}\nfunction circOut(t) {\n    return Math.sqrt(1 - --t * t);\n}\nfunction cubicInOut(t) {\n    return t < 0.5 ? 4.0 * t * t * t : 0.5 * Math.pow(2.0 * t - 2.0, 3.0) + 1.0;\n}\nfunction cubicIn(t) {\n    return t * t * t;\n}\nfunction cubicOut(t) {\n    const f = t - 1.0;\n    return f * f * f + 1.0;\n}\nfunction elasticInOut(t) {\n    return t < 0.5\n        ? 0.5 *\n            Math.sin(((+13.0 * Math.PI) / 2) * 2.0 * t) *\n            Math.pow(2.0, 10.0 * (2.0 * t - 1.0))\n        : 0.5 *\n            Math.sin(((-13.0 * Math.PI) / 2) * (2.0 * t - 1.0 + 1.0)) *\n            Math.pow(2.0, -10.0 * (2.0 * t - 1.0)) +\n            1.0;\n}\nfunction elasticIn(t) {\n    return Math.sin((13.0 * t * Math.PI) / 2) * Math.pow(2.0, 10.0 * (t - 1.0));\n}\nfunction elasticOut(t) {\n    return (Math.sin((-13.0 * (t + 1.0) * Math.PI) / 2) * Math.pow(2.0, -10.0 * t) + 1.0);\n}\nfunction expoInOut(t) {\n    return t === 0.0 || t === 1.0\n        ? t\n        : t < 0.5\n            ? +0.5 * Math.pow(2.0, 20.0 * t - 10.0)\n            : -0.5 * Math.pow(2.0, 10.0 - t * 20.0) + 1.0;\n}\nfunction expoIn(t) {\n    return t === 0.0 ? t : Math.pow(2.0, 10.0 * (t - 1.0));\n}\nfunction expoOut(t) {\n    return t === 1.0 ? t : 1.0 - Math.pow(2.0, -10.0 * t);\n}\nfunction quadInOut(t) {\n    t /= 0.5;\n    if (t < 1)\n        return 0.5 * t * t;\n    t--;\n    return -0.5 * (t * (t - 2) - 1);\n}\nfunction quadIn(t) {\n    return t * t;\n}\nfunction quadOut(t) {\n    return -t * (t - 2.0);\n}\nfunction quartInOut(t) {\n    return t < 0.5\n        ? +8.0 * Math.pow(t, 4.0)\n        : -8.0 * Math.pow(t - 1.0, 4.0) + 1.0;\n}\nfunction quartIn(t) {\n    return Math.pow(t, 4.0);\n}\nfunction quartOut(t) {\n    return Math.pow(t - 1.0, 3.0) * (1.0 - t) + 1.0;\n}\nfunction quintInOut(t) {\n    if ((t *= 2) < 1)\n        return 0.5 * t * t * t * t * t;\n    return 0.5 * ((t -= 2) * t * t * t * t + 2);\n}\nfunction quintIn(t) {\n    return t * t * t * t * t;\n}\nfunction quintOut(t) {\n    return --t * t * t * t * t + 1;\n}\nfunction sineInOut(t) {\n    return -0.5 * (Math.cos(Math.PI * t) - 1);\n}\nfunction sineIn(t) {\n    const v = Math.cos(t * Math.PI * 0.5);\n    if (Math.abs(v) < 1e-14)\n        return 1;\n    else\n        return 1 - v;\n}\nfunction sineOut(t) {\n    return Math.sin((t * Math.PI) / 2);\n}\n\nexport { backIn, backInOut, backOut, bounceIn, bounceInOut, bounceOut, circIn, circInOut, circOut, cubicIn, cubicInOut, cubicOut, elasticIn, elasticInOut, elasticOut, expoIn, expoInOut, expoOut, quadIn, quadInOut, quadOut, quartIn, quartInOut, quartOut, quintIn, quintInOut, quintOut, sineIn, sineInOut, sineOut };\n","import { cubicInOut, linear, cubicOut } from '../easing';\nimport { is_function, assign } from '../internal';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\n\nfunction blur(node, { delay = 0, duration = 400, easing = cubicInOut, amount = 5, opacity = 0 }) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const f = style.filter === 'none' ? '' : style.filter;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (_t, u) => `opacity: ${target_opacity - (od * u)}; filter: ${f} blur(${u * amount}px);`\n    };\n}\nfunction fade(node, { delay = 0, duration = 400, easing = linear }) {\n    const o = +getComputedStyle(node).opacity;\n    return {\n        delay,\n        duration,\n        easing,\n        css: t => `opacity: ${t * o}`\n    };\n}\nfunction fly(node, { delay = 0, duration = 400, easing = cubicOut, x = 0, y = 0, opacity = 0 }) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (t, u) => `\n\t\t\ttransform: ${transform} translate(${(1 - t) * x}px, ${(1 - t) * y}px);\n\t\t\topacity: ${target_opacity - (od * u)}`\n    };\n}\nfunction slide(node, { delay = 0, duration = 400, easing = cubicOut }) {\n    const style = getComputedStyle(node);\n    const opacity = +style.opacity;\n    const height = parseFloat(style.height);\n    const padding_top = parseFloat(style.paddingTop);\n    const padding_bottom = parseFloat(style.paddingBottom);\n    const margin_top = parseFloat(style.marginTop);\n    const margin_bottom = parseFloat(style.marginBottom);\n    const border_top_width = parseFloat(style.borderTopWidth);\n    const border_bottom_width = parseFloat(style.borderBottomWidth);\n    return {\n        delay,\n        duration,\n        easing,\n        css: t => `overflow: hidden;` +\n            `opacity: ${Math.min(t * 20, 1) * opacity};` +\n            `height: ${t * height}px;` +\n            `padding-top: ${t * padding_top}px;` +\n            `padding-bottom: ${t * padding_bottom}px;` +\n            `margin-top: ${t * margin_top}px;` +\n            `margin-bottom: ${t * margin_bottom}px;` +\n            `border-top-width: ${t * border_top_width}px;` +\n            `border-bottom-width: ${t * border_bottom_width}px;`\n    };\n}\nfunction scale(node, { delay = 0, duration = 400, easing = cubicOut, start = 0, opacity = 0 }) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const sd = 1 - start;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (_t, u) => `\n\t\t\ttransform: ${transform} scale(${1 - (sd * u)});\n\t\t\topacity: ${target_opacity - (od * u)}\n\t\t`\n    };\n}\nfunction draw(node, { delay = 0, speed, duration, easing = cubicInOut }) {\n    const len = node.getTotalLength();\n    if (duration === undefined) {\n        if (speed === undefined) {\n            duration = 800;\n        }\n        else {\n            duration = len / speed;\n        }\n    }\n    else if (typeof duration === 'function') {\n        duration = duration(len);\n    }\n    return {\n        delay,\n        duration,\n        easing,\n        css: (t, u) => `stroke-dasharray: ${t * len} ${u * len}`\n    };\n}\nfunction crossfade(_a) {\n    var { fallback } = _a, defaults = __rest(_a, [\"fallback\"]);\n    const to_receive = new Map();\n    const to_send = new Map();\n    function crossfade(from, node, params) {\n        const { delay = 0, duration = d => Math.sqrt(d) * 30, easing = cubicOut } = assign(assign({}, defaults), params);\n        const to = node.getBoundingClientRect();\n        const dx = from.left - to.left;\n        const dy = from.top - to.top;\n        const dw = from.width / to.width;\n        const dh = from.height / to.height;\n        const d = Math.sqrt(dx * dx + dy * dy);\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        const opacity = +style.opacity;\n        return {\n            delay,\n            duration: is_function(duration) ? duration(d) : duration,\n            easing,\n            css: (t, u) => `\n\t\t\t\topacity: ${t * opacity};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${transform} translate(${u * dx}px,${u * dy}px) scale(${t + (1 - t) * dw}, ${t + (1 - t) * dh});\n\t\t\t`\n        };\n    }\n    function transition(items, counterparts, intro) {\n        return (node, params) => {\n            items.set(params.key, {\n                rect: node.getBoundingClientRect()\n            });\n            return () => {\n                if (counterparts.has(params.key)) {\n                    const { rect } = counterparts.get(params.key);\n                    counterparts.delete(params.key);\n                    return crossfade(rect, node, params);\n                }\n                // if the node is disappearing altogether\n                // (i.e. wasn't claimed by the other list)\n                // then we need to supply an outro\n                items.delete(params.key);\n                return fallback && fallback(node, params, intro);\n            };\n        };\n    }\n    return [\n        transition(to_send, to_receive, false),\n        transition(to_receive, to_send, true)\n    ];\n}\n\nexport { blur, crossfade, draw, fade, fly, scale, slide };\n","<script>    \n    import {slide} from 'svelte/transition/'\n    export let messages = [];\n    let currentMessageIndex = 0\n    let currentMessageText = ''\n    let displayMessageText = false\n    let messagePosition = 100\n    \n    function switchMessages(){\n        if(!messages.length){\n            return\n        }\n        displayMessageText = false\n            \n\n        setTimeout(()=>{\n            currentMessageIndex +=1;\n            currentMessageText = messages[currentMessageIndex%messages.length].tweet\n            displayMessageText = true\n            messagePosition = 100;\n            \n        }, 1000)\n    }\n\n    let messageTimer = setInterval(switchMessages, 10000)\n\n    function scrollMessage(){\n        messagePosition -= 1;\n        window.requestAnimationFrame(scrollMessage);\n    }\n    scrollMessage();\n\n</script>\n\n<style>\n  .received-messages {\n    background-color: #000;\n    color: #fff;\n    width: 100%;\n    height: 24px;\n    position: relative;\n    overflow: hidden;\n    font-size: 12px;\n    padding: 2px;\n  }\n\n  .message {\n    position: absolute;\n    white-space: nowrap;\n  }\n\n\n\n    \n  \n\n</style>\n\n<div class=\"received-messages\">\n    {#if displayMessageText}\n    <div class=\"message\" transition:slide  style=\"left:{messagePosition}px\">{currentMessageText}</div>\n    {/if}\n\n</div>\n","<script>\n  import Pusher from \"pusher-js\";\n  import Login from \"./Login.svelte\";\n  import Controls from \"./Controls.svelte\";\n  import Arena from \"./Arena.svelte\";\n  import Score from \"./Score.svelte\";\n  import ReceivedMessages from './ReceivedMessages.svelte'\n\n  export let pusher = null;\n  export let usertoken = null;\n  export let pusherChannel = null;\n  export let messagesChannel = null;\n  export let isGameHost = false;\n\n  let receivedMessages = [];\n  let currentPlayers = [];\n  let me = null;\n  let playerPositions = {};\n  let playerDefaultStartPos = {\n    xPos: 0,\n    yPos: 0,\n    vForce: 0,\n    hForce: 0,\n    speed: 3\n  };\n  let startBallPos = {\n    xPos: 50,\n    yPos: 50,\n    speed: 0,\n    hForce: 1,\n    vForce: 1\n  };\n  let ballPos = { ...startBallPos };\n  let scoreline = [0, 0];\n  let arenaSize = { width: 100, height: 100 };\n  let playerSpeed = 1;\n\n  const setCurrentMembers = pusherMembers => {\n    const members = [];\n    if (!pusherMembers) {\n      return members;\n    }\n    pusherMembers.each(m => {\n      members.push(m);\n    });\n\n    isGameHost = pusherChannel.members.me.id === members[0].id;\n    return members;\n  };\n\n  const pusherInit = () => {\n    pusher = new Pusher(\"5682fcdf7df3eb814416\", {\n      cluster: \"eu\",\n      forceTLS: true,\n      auth: {\n        headers: {\n          authorization: `Bearer ${usertoken}`\n        }\n      }\n    });\n\n    pusherChannel = pusher.subscribe(\"presence-lnug-channel\");\n    messagesChannel = pusher.subscribe(\"lnug-game-cheers\");\n\n    pusherChannel.bind(\"pusher:subscription_succeeded\", function(members) {\n      currentPlayers = setCurrentMembers(pusherChannel.members);\n      me = pusherChannel.members.me;\n      const team = currentPlayers.length % 2;\n\n      updatePlayerPositions(me.id, {\n        ...playerDefaultStartPos,\n        team,\n        xPos: team ? arenaSize.width - 10 : 10,\n        yPos: Math.random() * arenaSize.height\n      });\n    });\n\n    pusherChannel.bind(\"pusher:member_added\", function(member) {\n      currentPlayers = setCurrentMembers(pusherChannel.members);\n      pusherChannel.trigger(\"client-player-move\", playerPositions[me.id]);\n      if (isGameHost) {\n        pusherChannel.trigger(\"client-init\", { scoreline });\n      }\n    });\n\n    pusherChannel.bind(\"pusher:member_removed\", function(member) {\n      currentPlayers = setCurrentMembers(pusherChannel.members);\n    });\n\n    pusherChannel.bind(\"client-player-move\", function(data, meta) {\n      updatePlayerPositions(meta.user_id, data);\n    });\n\n    pusherChannel.bind(\"client-ball-bounce\", function(data, meta) {\n      updateBallPosition(data);\n    });\n\n    pusherChannel.bind(\"client-init\", function({ scoreline }, meta) {\n      updateScoreline(scoreline);\n    });\n\n    pusherChannel.bind(\"client-goal\", function(data, meta) {\n      updateScoreline(data);\n      updateBallPosition(startBallPos);\n    });\n\n    messagesChannel.bind('twitter-hoorah', function(data){\n      receivedMessages = [...receivedMessages, data]\n    })\n  };\n\n  const onSubmit = async evt => {\n    const response = await fetch(\"/register\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({ username: evt.detail })\n    });\n\n    const data = await response.json();\n    usertoken = data.token;\n\n    if (usertoken) {\n      pusherInit();\n    }\n  };\n\n  const updatePlayerPositions = (id, position) => {\n    playerPositions = {\n      ...playerPositions,\n      [id]: position\n    };\n  };\n\n  const updateBallPosition = newBallPos => {\n    ballPos = {\n      ...startBallPos,\n      ...newBallPos\n    };\n  };\n\n  const updateScoreline = newScoreline => {\n    scoreline = newScoreline;\n  };\n\n  const onPlayerControl = evt => {\n    const position = {\n      ...playerDefaultStartPos,\n      ...playerPositions[me.id],\n      ...evt.detail,\n      speed: playerSpeed\n    };\n    updatePlayerPositions(me.id, position);\n    pusherChannel.trigger(\"client-player-move\", position);\n  };\n\n  const onGoal = evt => {\n    const newScoreline = [...scoreline];\n    if (evt.detail === \"left\") {\n      newScoreline[0] += 1;\n    } else {\n      newScoreline[1] += 1;\n    }\n    if (isGameHost) {\n      ballPos = startBallPos;\n      updateScoreline(newScoreline);\n      pusherChannel.trigger(\"client-goal\", newScoreline);\n    }\n  };\n\n  const onBallCollide = evt => {\n    if (isGameHost) {\n      updateBallPosition(evt.detail);\n      pusherChannel.trigger(\"client-ball-bounce\", evt.detail);\n    }\n  };\n</script>\n\n<style>\n  .gamearea {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    height: 100%;\n  }\n  .scoreboard{\n      flex: 0 1 0;\n      background-color: #999;\n  }\n  .arena{\n      flex: 1\n\n  }\n  .controls{\n    background-color: #efefef;\n      flex: 0 1 0;\n  }\n \n .messagesbanner{\n   flex: 0 1 0;\n\n }\n\n\n</style>\n\n{#if !usertoken}\n\n  <Login on:submit={onSubmit} />\n{:else}\n\n  <div class=\"gamearea\">\n    <div class=\"messagesbanner\">\n       <ReceivedMessages messages={receivedMessages} />\n    </div>\n    <div class=\"scoreboard\">\n      <Score {scoreline} />\n    </div>\n\n    <div class=\"arena\">\n      <Arena\n        {playerPositions}\n        {currentPlayers}\n        {ballPos}\n        on:ballcollide={onBallCollide}\n        on:goooooal={onGoal} />\n    </div>\n\n    <div class=\"controls\">\n      <Controls on:controls={onPlayerControl} />\n      <div class=\"greeting\">\n        {#if me}Hello {me.info.name}!{/if}\n      </div>\n    </div>\n\n\n  </div>\n{/if}\n","import App from './App.svelte';\n\n\n\nconst app = new App({\n\ttarget: document.body\n});\n\nexport default app;\n\n"],"names":["noop","identity","x","assign","tar","src","k","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","is_client","window","now","performance","Date","raf","cb","requestAnimationFrame","tasks","Set","stylesheet","running","run_tasks","task","delete","size","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","element","name","document","createElement","svg_element","createElementNS","text","data","createTextNode","space","listen","event","handler","options","addEventListener","removeEventListener","attr","attribute","value","removeAttribute","getAttribute","setAttribute","set_data","set_input_value","input","set_style","key","important","style","setProperty","custom_event","type","detail","e","createEvent","initCustomEvent","current_component","active","current_rules","create_rule","duration","delay","ease","uid","step","keyframes","p","t","rule","str","hash","i","length","charCodeAt","head","sheet","insertRule","cssRules","animation","delete_rule","split","filter","anim","indexOf","join","deleteRule","set_current_component","component","createEventDispatcher","Error","get_current_component","callbacks","$$","slice","call","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","promise","update_scheduled","add_render_callback","push","flush","seen_callbacks","shift","update","pop","callback","has","add","fragment","dirty","before_update","ctx","after_update","dispatch","direction","kind","dispatchEvent","outroing","outros","group_outros","r","c","check_outros","transition_in","block","local","transition_out","o","d","null_transition","create_bidirectional_transition","params","intro","config","running_program","pending_program","animation_name","clear_animation","init","program","Math","abs","start","end","group","go","easing","tick","css","fulfil","loop","[object Object]","then","globals","global","create_component","mount_component","on_mount","on_destroy","m","new_on_destroy","map","destroy_component","detaching","make_dirty","instance","create_fragment","not_equal","props","parent_component","prop_values","bound","context","Map","ready","ret","hydrate","l","Array","from","childNodes","children","SvelteComponent","this","$destroy","index","splice","factory","modules","installedModules","__webpack_require__","moduleId","exports","module","getter","defineProperty","enumerable","get","Symbol","toStringTag","mode","__esModule","ns","bind","n","object","property","prototype","hasOwnProperty","s","nacl","gf","Float64Array","randombytes","_0","Uint8Array","_9","gf0","gf1","_121665","D","D2","X","Y","I","ts64","h","vn","xi","y","yi","crypto_verify_16","crypto_verify_32","crypto_core_salsa20","out","inp","u","j0","j1","j2","j3","j4","j5","j6","j7","j8","j9","j10","j11","j12","j13","j14","j15","x0","x1","x2","x3","x4","x5","x6","x7","x8","x9","x10","x11","x12","x13","x14","x15","core_salsa20","crypto_core_hsalsa20","core_hsalsa20","sigma","crypto_stream_salsa20_xor","cpos","mpos","z","crypto_stream_salsa20","crypto_stream","sn","crypto_stream_xor","poly1305","t0","t1","t2","t3","t4","t5","t6","t7","buffer","Uint16Array","pad","leftover","fin","crypto_onetimeauth","outpos","finish","crypto_onetimeauth_verify","hpos","crypto_secretbox","crypto_secretbox_open","set25519","car25519","v","floor","sel25519","q","pack25519","j","neq25519","par25519","unpack25519","A","Z","M","t8","t9","t10","t11","t12","t13","t14","t15","t16","t17","t18","t19","t20","t21","t22","t23","t24","t25","t26","t27","t28","t29","t30","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","b10","b11","b12","b13","b14","b15","S","inv25519","crypto_scalarmult","f","x32","subarray","x16","crypto_scalarmult_base","crypto_box_keypair","crypto_box_beforenm","blocks","bytes","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","hibit","h0","h1","h2","h3","h4","h5","h6","h7","h8","h9","r0","r1","r2","r3","r4","r5","r6","r7","r8","r9","mac","macpos","mask","g","want","crypto_box_afternm","crypto_box_open_afternm","K","crypto_hashblocks_hl","hh","hl","bh0","bh1","bh2","bh3","bh4","bh5","bh6","bh7","bl0","bl1","bl2","bl3","bl4","bl5","bl6","bl7","th","tl","wh","Int32Array","wl","ah0","ah1","ah2","ah3","ah4","ah5","ah6","ah7","al0","al1","al2","al3","al4","al5","al6","al7","pos","crypto_hash","cswap","pack","tx","ty","zi","scalarmult","scalarbase","crypto_sign_keypair","pk","sk","seeded","L","modL","carry","reduce","crypto_sign","sm","smlen","unpackneg","chk","num","den","den2","den4","den6","pow2523","crypto_sign_open","crypto","crypto_secretbox_KEYBYTES","crypto_secretbox_NONCEBYTES","crypto_box_PUBLICKEYBYTES","crypto_box_SECRETKEYBYTES","crypto_box_NONCEBYTES","checkLengths","checkArrayTypes","arguments","TypeError","cleanup","arr","lowlevel","crypto_box","crypto_box_open","crypto_secretbox_ZEROBYTES","crypto_secretbox_BOXZEROBYTES","crypto_scalarmult_BYTES","crypto_scalarmult_SCALARBYTES","crypto_box_BEFORENMBYTES","crypto_box_ZEROBYTES","crypto_box_BOXZEROBYTES","crypto_sign_BYTES","crypto_sign_PUBLICKEYBYTES","crypto_sign_SECRETKEYBYTES","crypto_sign_SEEDBYTES","crypto_hash_BYTES","randomBytes","secretbox","msg","nonce","open","box","keyLength","nonceLength","overheadLength","scalarMult","base","scalarLength","groupElementLength","publicKey","secretKey","before","checkBoxLengths","after","keyPair","fromSecretKey","publicKeyLength","secretKeyLength","sharedKeyLength","sign","signedMsg","tmp","mlen","detached","sig","verify","fromSeed","seed","seedLength","signatureLength","hashLength","setPRNG","self","msCrypto","getRandomValues","min","root","util","validateBase64","test","decodeUTF8","unescape","encodeURIComponent","encodeUTF8","String","fromCharCode","decodeURIComponent","escape","atob","Buffer","encodeBase64","toString","decodeBase64","len","btoa","default","__webpack_exports__","extendStatics","ScriptReceiverFactory","prefix","lastId","number","id","called","callbackWrapper","apply","remove","receiver","ScriptReceivers","defaults","VERSION","PROTOCOL","host","ws_port","wss_port","ws_path","sockjs_host","sockjs_http_port","sockjs_https_port","sockjs_path","stats_host","channel_auth_endpoint","channel_auth_transport","activity_timeout","pong_timeout","unavailable_timeout","cdn_http","cdn_https","dependency_suffix","dependency_loader","DependencyLoader","receivers","loading","load","request","runtime","createScriptRequest","getPath","error","successCallback","wasSuccessful","send","getRoot","protocol","getDocument","location","useTLS","replace","version","suffix","DependenciesReceivers","Dependencies","b64chars","cb_utob","cc","utob","cb_encode","ccc","padlen","ord","charAt","abstract_timer","Timer","set","clear","_this","timer","isRunning","ensureAborted","__extends","setPrototypeOf","__proto__","__","constructor","timers_clearTimeout","clearTimeout","timers_clearInterval","clearInterval","OneOffTimer","_super","setTimeout","PeriodicTimer","setInterval","valueOf","defer","method","args","_i","boundArguments","concat","extend","sources","extensions","stringify","safeJSONStringify","arrayIndexOf","array","item","nativeIndexOf","objectApply","keys","_","result","filterObject","Boolean","any","encodeParamsObject","buildQueryString","undefined","source","JSON","objects","paths","derez","path","nu","$ref","logger","debug","core_pusher","log","warn","message","console","urlStore","baseUrl","urls","authenticationEndpoint","javascriptQuickStart","triggeringClientEvents","url_store","buildLogSuffix","url","urlObj","fullUrl","urlPrefix","xhr_auth","socketId","xhr","headerName","createXHR","authEndpoint","setRequestHeader","authOptions","headers","onreadystatechange","readyState","status","parsed","parse","responseText","composeQuery","jsonp_auth","callbackName","nextAuthCallbackID","script","auth_callbacks","callback_name","getElementsByTagName","documentElement","firstChild","script_request","ScriptRequest","errorString","charset","onerror","onload","async","attachEvent","navigator","userAgent","errorScript","nextSibling","jsonp_request","JSONPRequest","query","jsonp_timeline","getAgent","sender","createJSONPRequest","getGenericURL","baseScheme","hostTLS","hostNonTLS","getGenericPath","queryString","ws","getInitial","httpPath","http","sockjs","callback_registry","CallbackRegistry","_callbacks","prefixedEventName","names","removeCallback","removeAllCallbacks","binding","dispatcher","Dispatcher","failThrough","global_callbacks","eventName","bind_global","unbind","unbind_global","unbind_all","emit","metadata","transport_connection_extends","transport_connection","TransportConnection","hooks","priority","initialize","transportConnectionInitializer","state","timeline","activityTimeout","generateUniqueID","handlesActivityChecks","supportsPing","connect","socket","getSocket","onError","changeState","bindListeners","transport","close","ping","onOpen","beforeOpen","onopen","buildTimelineMessage","onClose","closeEvent","code","reason","wasClean","unbindListeners","onMessage","onActivity","onclose","onmessage","onactivity","info","cid","transports_transport","Transport","isSupported","environment","createConnection","WSTransport","isInitialized","getWebSocketAPI","createWebSocket","httpConfiguration","streamingConfiguration","HTTPFactory","createStreamingSocket","pollingConfiguration","createPollingSocket","xhrConfiguration","isXHRSupported","transports","xhr_streaming","xhr_polling","SockJSTransport","file","SockJS","js_path","ignore_null_origin","ignoreNullOrigin","xdrConfiguration","isXDRSupported","XDRStreamingTransport","XDRPollingTransport","xdr_streaming","xdr_polling","transports_transports","net_info_extends","net_info_Network","NetInfo","isOnline","onLine","assistant_to_the_transport_manager","AssistantToTheTransportManager","manager","minPingDelay","maxPingDelay","pingDelay","connection","openTimestamp","onClosed","reportDeath","lifespan","max","isAlive","Protocol","decodeMessage","messageEvent","messageData","pusherEventData","pusherEvent","channel","user_id","encodeMessage","processHandshake","action","socket_id","getCloseAction","getCloseError","protocol_protocol","connection_extends","connection_connection","Connection","send_event","listeners","activity","closed","handleCloseEvent","listener","connection_handshake","Handshake","pusher_authorizer","PusherAuthorizer","authTransport","getAuthorizers","auth","authorize","authorizers","timeline_sender","TimelineSender","isEmpty","TimelineTransport","errors_extends","BadEventName","_newTarget","RequestTimedOut","TransportPriorityTooLow","TransportClosed","UnsupportedFeature","UnsupportedTransport","UnsupportedStrategy","channel_extends","channels_channel","Channel","pusher","subscribed","subscriptionPending","subscriptionCancelled","trigger","disconnect","handleEvent","handleSubscriptionSucceededEvent","unsubscribe","subscribe","channel_data","cancelSubscription","reinstateSubscription","private_channel_extends","private_channel","PrivateChannel","createAuthorizer","members","Members","reset","each","member","setMyID","myID","onSubscription","subscriptionData","presence","count","me","addMember","memberData","user_info","removeMember","presence_channel_extends","presence_channel","PresenceChannel","authData","channelData","handleInternalEvent","addedMember","removedMember","nacl_fast","nacl_util","encrypted_channel_extends","encrypted_channel","EncryptedChannel","sharedSecret","errorMsg","handleEncryptedEvent","ciphertext","cipherText","emitJSON","connection_manager_extends","connection_manager","ConnectionManager","usingTLS","errorCallbacks","buildErrorCallbacks","connectionCallbacks","buildConnectionCallbacks","handshakeCallbacks","buildHandshakeCallbacks","Network","getNetwork","netinfo","retryIn","sendActivityCheck","updateStrategy","runner","strategy","updateState","startConnecting","setUnavailableTimer","disconnectInternally","isUsingTLS","handshake","handshakeError","abortConnecting","abort","clearRetryTimer","clearUnavailableTimer","abandonConnection","getStrategy","round","retryTimer","unavailableTimer","unavailableTimeout","stopActivityCheck","activityTimer","pongTimeout","pong_timed_out","resetActivityCheck","shouldRetry","connected","Infinity","setConnection","withErrorEmitted","tls_only","refused","backoff","retry","newState","previousState","newStateDescription","previous","current","channels","Channels","createEncryptedChannel","createPrivateChannel","createPresenceChannel","createChannel","all","values","find","createChannels","createConnectionManager","createTimelineSender","authorizer","createHandshake","createAssistantToTheTransportManager","transport_manager","TransportManager","livesLeft","lives","getAssistant","sequential_strategy","SequentialStrategy","strategies","failFast","timeout","timeoutLimit","minPriority","tryNextStrategy","tryStrategy","forceMinPriority","best_connected_ever_strategy","BestConnectedEverStrategy","callbackBuilder","runners","rs","abortRunner","collections_all","allRunnersFailed","aborted","cached_strategy","CachedStrategy","ttl","storage","getLocalStorage","serializedCache","getTransportCacheKey","flushTransportCache","fetchTransportCache","timestamp","cached","latency","startTimestamp","storeTransportCache","delayed_strategy","DelayedStrategy","_a","if_strategy","IfStrategy","trueBranch","falseBranch","first_connected_strategy","FirstConnectedStrategy","testSupportsStrategy","State","default_strategy","defineTransport","definedTransports","defineTransportStrategy","wsStrategy","ws_options","wsHost","wsPort","wssPort","wsPath","wss_options","sockjs_options","httpHost","httpPort","httpsPort","timeouts","ws_manager","streaming_manager","ws_transport","wss_transport","sockjs_transport","xhr_streaming_transport","xdr_streaming_transport","xhr_polling_transport","xdr_polling_transport","ws_loop","wss_loop","sockjs_loop","streaming_loop","polling_loop","http_loop","http_fallback_loop","http_xdomain_request","getRequest","xdr","XDomainRequest","ontimeout","onprogress","onChunk","abortRequest","http_request_extends","http_request","HTTPRequest","payload","position","unloader","addUnloadListener","removeUnloadListener","chunk","advanceBuffer","isBufferTooLong","unreadData","endOfLinePosition","autoIncrement","getUniqueURL","separator","randomNumber","random","TimelineLevel","http_socket","HTTPSocket","session","randomString","parts","exec","getLocation","CONNECTING","openStream","sendRaw","sendHeartbeat","OPEN","createSocketRequest","reconnect","closeStream","CLOSED","onEvent","onHeartbeat","hostname","urlParts","stream","getReceiveURL","onFinished","http_streaming_socket","http_polling_socket","http_xhr_request","getXHRAPI","http_http","createSocket","createRequest","createXDR","getDefaultStrategy","Transports","XMLHttpRequest","WebSocket","MozWebSocket","setup","PusherClass","Pusher","initializeOnDocumentBody","onDocumentBody","getProtocol","ajax","jsonp","body","localStorage","createXMLHttpRequest","createMicrosoftXHR","ActiveXObject","Constructor","withCredentials","documentProtocol","detachEvent","timeline_level","timeline_timeline","Timeline","events","sent","uniqueID","level","limit","ERROR","INFO","DEBUG","sendfn","bundle","lib","cluster","features","transport_strategy","TransportStrategy","failAttempt","onInitialized","serializedTransport","strategy_builder_Transports","strategy_builder_defineTransport","transportClass","enabledTransports","disabledTransports","strategy_builder_UnsupportedStrategy","deferred","getGlobalConfig","statsHost","getClusterConfig","clusterName","pusher_Pusher","app_key","checkAppKey","global_emitter","sessionID","getClientFeatures","timelineParams","disableStats","timelineSender","shouldUseTLS","subscribeAll","internal","err","instances","isReady","logToConsole","allChannels","timelineSenderTimer","event_name","channelName","channel_name","forceTLS","encrypted","Runtime","onSubmit","preventDefault","username","evt","onKeyDown","onKeyUp","hitA","goStop","hitB","goUp","goLeft","goRight","goDown","dir","hForce","vForce","activeKeys","sequence","match","player","team","yPos","xPos","side","goalPosts","top","bottom","goalSize","ballPos","renderedPlayers","levels","updates","to_null_out","accounted_for","$$scope","spread_props","iterations","playerPositions","currentPlayers","speed","playerFriction","ballFriction","arenaSize","width","height","collisionProximity","kickVariation","animStep","entries","newxPos","newyPos","scoreline","cubicOut","slide","getComputedStyle","opacity","parseFloat","padding_top","paddingTop","padding_bottom","paddingBottom","margin_top","marginTop","margin_bottom","marginBottom","border_top_width","borderTopWidth","border_bottom_width","borderBottomWidth","currentMessageText","messagePosition","displayMessageText","messages","currentMessageIndex","tweet","scrollMessage","receivedMessages","onBallCollide","onGoal","onPlayerControl","usertoken","playerSpeed","pusherChannel","messagesChannel","isGameHost","playerDefaultStartPos","startBallPos","setCurrentMembers","pusherMembers","updatePlayerPositions","updateBallPosition","newBallPos","updateScoreline","newScoreline","response","fetch","Content-Type","json","token","authorization","meta"],"mappings":"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"}