{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../client/Arena.svelte",
    "../client/Ball.svelte",
    "../client/Player.svelte",
    "../client/Goal.svelte",
    "../client/Score.svelte"
  ],
  "sourcesContent": [
    "<script>\n  import { createEventDispatcher } from \"svelte\";\n  import Player from \"./Player.svelte\";\n  import Ball from \"./Ball.svelte\";\n  import Goal from \"./Goal.svelte\";\n  export let playerPositions = {};\n  export let renderedPlayers = [];\n  export let currentPlayers = [];\n  export let ballPos = {\n    xPos: 200,\n    yPos: 100,\n    speed: 0,\n    hForce: 1,\n    vForce: 1\n  };\n\n  const dispatch = createEventDispatcher();\n\n  export let playerFriction = 0.2;\n  export let ballFriction = 0.1;\n\n  export let arenaSize = { width: 500, height: 200 };\n  export let goalSize = 100;\n\n  const animStep = () => {\n    Object.entries(playerPositions).forEach(([key, p]) => {\n      if (p.speed > playerFriction / 2) {\n        p.speed -= playerFriction;\n      } else {\n        p.speed = 0;\n      }\n      if (ballPos.speed > ballFriction / 2) {\n        ballPos.speed -= ballFriction;\n      } else {\n        ballPos.speed = 0;\n      }\n\n      const newxPos = p.xPos + p.hForce * p.speed;\n      if (0 < newxPos && arenaSize.width > newxPos) {\n        p.xPos = newxPos;\n      }\n\n      const newyPos = p.yPos + p.vForce * p.speed\n      if (0 <  newyPos && arenaSize.height > newyPos) {\n        p.yPos = newyPos\n      }\n\n      if (\n        Math.abs(ballPos.xPos - p.xPos) < 20 &&\n        Math.abs(ballPos.yPos - p.yPos) < 20\n      ) {\n        ballPos.speed = p.speed * 1.5;\n        if (p.xPos > ballPos.xPos) {\n          ballPos.hForce = -1 * Math.random();\n          ballPos.xPos -= 10;\n        } else {\n          ballPos.hForce = Math.random();\n          ballPos.xPos += 10;\n        }\n\n        if (p.yPos > ballPos.yPos) {\n          ballPos.yPos -= 10;\n          ballPos.vForce = -1 * Math.random();\n        } else {\n          ballPos.yPos += 10;\n          ballPos.vForce = Math.random();\n        }\n        dispatch(\"ballcollide\", ballPos);\n      }\n    });\n\n    renderedPlayers = currentPlayers.map(m => ({\n      ...m,\n      ...playerPositions[m.id]\n    }));\n\n    if (ballPos.xPos >= arenaSize.width) {\n      if (\n        arenaSize.height / 2 - goalSize / 2 < ballPos.yPos &&\n        arenaSize.height / 2 + goalSize / 2 > ballPos.yPos\n      ) {\n        dispatch(\"goooooal\", \"right\");\n      } else {\n        ballPos.hForce = -1;\n      }\n    }\n\n    if (ballPos.xPos < 0) {\n      if (\n        arenaSize.height / 2 - goalSize / 2 < ballPos.yPos &&\n        arenaSize.height / 2 + goalSize / 2 > ballPos.yPos\n      ) {\n        dispatch(\"goooooal\", \"left\");\n      } else {\n        ballPos.hForce = 1;\n      }\n    }\n\n    if (ballPos.yPos >= arenaSize.height) {\n      ballPos.vForce = -1;\n    }\n\n    if (ballPos.yPos < 0) {\n      ballPos.vForce = 1;\n    }\n\n    ballPos = {\n      ...ballPos,\n      xPos: ballPos.xPos + ballPos.hForce * ballPos.speed,\n      yPos: ballPos.yPos + ballPos.vForce * ballPos.speed\n    };\n    window.requestAnimationFrame(animStep);\n  };\n\n  animStep();\n\n  // $: console.log(playerPositions);\n</script>\n\n<style>\n  main {\n    border: 1px solid #000;\n    position: relative;\n  }\n</style>\n\n<main style=\"width:{arenaSize.width}px; height: {arenaSize.height}px\">\n\n  <Goal side=\"left\" />\n  <Goal side=\"right\" />\n\n  <Ball {...ballPos} />\n\n  {#each renderedPlayers as player}\n    <Player {player} xPos={player.xPos} yPos={player.yPos} />\n  {/each}\n\n  <svg />\n</main>\n",
    "<script>\n  export let xPos = 0;\n  export let yPos = 0;\n</script>\n\n<style>\n  .ball {\n    position: absolute;\n    border: 1px solid #000;\n    border-radius: 50%;\n    width: 20px;\n    height: 20px; \n  }\n</style>\n\n<div class=\"ball\" style=\"top:{`${yPos}px`}; left:{`${xPos}px`}\" />\n",
    "<script>\n  export let player;\n  export let xPos = 0;\n  export let yPos = 0;\n</script>\n\n<style>\n  .player {\n    position: absolute;\n    border: 2px solid #000;\n    padding: 2px;\n    border-radius: 5px;\n  }\n  .team-0{\n      border-color: red\n  }\n\n  .team-1{\n      border-color: blue;\n  }\n</style>\n\n<div class=\"player team-{player.team}\" style=\"top:{`${yPos}px`}; left:{`${xPos}px`}\">{player.info.name}</div>\n",
    "<script>\n  export let side = \"left\";\n  export let size = 80;\n  export let pos = 20;\n</script>\n\n<style>\n  .goal {\n    border: 1px solid #000;\n    width: 10px;\n    position: absolute;\n  }\n</style>\n\n<div class=\"goal\" style=\"height:{size}px; top:{pos}px;  bottom:{pos}px; {side}:0\" />\n",
    "<script>\n    export let scoreline = [0,0]\n    \n</script>\n\n<style>\n.scoreboard{\n    position: flex;\n}\n.score{\n    border-radius: 10px;\n    background: black;\n    color: gold;\n    padding: 10px;\n}\n\n</style>\n\n\n<div class=\"scoreboard\">\n    <div class=\"score\">{scoreline[0]}</div>\n\n    <div class=\"score\">{scoreline[1]}</div>\n</div>"
  ],
  "names": [],
  "mappings": "AAwHE,IAAI,eAAC,CAAC,AACJ,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,IAAI,CACtB,QAAQ,CAAE,QAAQ,AACpB,CAAC;ACrHD,KAAK,eAAC,CAAC,AACL,QAAQ,CAAE,QAAQ,CAClB,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,IAAI,CACtB,aAAa,CAAE,GAAG,CAClB,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,AACd,CAAC;ACLD,OAAO,cAAC,CAAC,AACP,QAAQ,CAAE,QAAQ,CAClB,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,IAAI,CACtB,OAAO,CAAE,GAAG,CACZ,aAAa,CAAE,GAAG,AACpB,CAAC,AACD,qBAAO,CAAC,AACJ,YAAY,CAAE,GAAG;EACrB,CAAC,AAED,qBAAO,CAAC,AACJ,YAAY,CAAE,IAAI,AACtB,CAAC;ACZD,KAAK,cAAC,CAAC,AACL,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,IAAI,CACtB,KAAK,CAAE,IAAI,CACX,QAAQ,CAAE,QAAQ,AACpB,CAAC;ACLH,0BAAW,CAAC,AACR,QAAQ,CAAE,IAAI,AAClB,CAAC,AACD,qBAAM,CAAC,AACH,aAAa,CAAE,IAAI,CACnB,UAAU,CAAE,KAAK,CACjB,KAAK,CAAE,IAAI,CACX,OAAO,CAAE,IAAI,AACjB,CAAC"
}